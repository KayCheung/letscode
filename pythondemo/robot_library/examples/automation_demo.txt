*** Settings ***

Documentation   Demo automated test cases for crossroads sync.
Resource        resource.txt
Test Setup      Setup Runtime Environment
Test Teardown   Release Resources


*** Variables ***

*** Test Cases ***
New company in Xroads6 should be synced to Xroads7
    Login Xroads6
    Open Xroads6 Company Add Page 
    Input Company Profile               Company           DB Sync Auto Test Company
    Input Company Profile               Comment           This is a company used by DB Sync Auto Test Company
    Input Company Profile               Company Logo      ALLTEL
#Input Company Profile               Company Type      Wireless Carrier
    Input Company Profile               TSG ID            03153
    Input Company Profile               CTP Company ID    3153
    Input Company Profile               LSR Domain        Auto test domain
    Input Company Profile               LSR Password      123456
    Input Company Profile               RoamWise Path     /roamxroad2/roamwise_demo_new_v1
    Input Company Profile               SPID 1            0001
    Input Company Profile               SPID 2            0002
    Input Company Profile               SPID 3            0003
    Input Company Profile               SPID 4            0004
    Input Company Profile               SPID 5            abcd
    Input Company Profile               Alt SPID 1            1001
    Input Company Profile               Alt SPID 2            defg
    Capture Page Screenshot
    Sleep                               3 secs
    Click Button With Text                Add Company
    Wait Until Page Contains              Success!    1 minutes   "Not able to create compay successfully within 1 minutes"
    Capture Page Screenshot
    ${company_id}=         Get Value             name=carrieruid
    Add Permissions To Company In Xroads6             ${company_id}      AccNA_AccEU   ACC_ACCESS_Invoices_Co    SWIFT_Co   
    Company Should Exist In Xroads7                   ${company_id}
    Capture Page Screenshot
    Verify Company Profile               Company Name             DB Sync Auto Test Company
#Verify Company Profile               Comments                 This is a company used by DB Sync Auto Test Company
#Verify Company Profile               Company Logo             ALLTEL
    Verify Company Profile               TSG Carrier ID        03153
    Verify Company Profile               CTP Company ID        3153
    Verify Company Profile               LSR Domain         Auto test domain
    Verify Company Profile               LSR Password       123456
#Verify Company Profile               RoamWise Path      /roamxroad2/roamwise_demo_new_v1
    Verify Company Profile               CTP Company Name   SONERA
    Verify Company Profile               Short Name         SONERA
    Verify Company Profile               Company Accessibility Status         Active

    Company Should Have Permissions In Xroads7        ${company_id}      AccNA_AccEU   ACC_ACCESS_Invoices_Co    SWIFT_Co 
    Capture Page Screenshot
    Remove Permissions From Company In Xroads6        ${company_id}      SWIFT_Co
    Add Permissions To Company In Xroads6             ${company_id}      ACC_Server-None
    Company Should Have Permissions In Xroads7        ${company_id}      ACC_ACCESS_Invoices_Co      ACC_Server-None
    Company Should Not Have Permissions In Xroads7    ${company_id}      AccNA_AccEU   SWIFT_Co
    Pass ALM Test Instance    ALM integration test set      Test step update test   This is for the demo.

New User In Xroads6 Should be Synced to Xroads7
# we need to prepare a test company that could be used and should not be deleted
#Xroads6 Should Have Company                       DSATC-9
#Company Should Have Permissions in Xroads6         DSATC-9    ACC_ACCESS_Invoices_Co    ACC_Customer_Type_ACCESS    AccNA_AccEU
    Goto Xroads6 User Add Page                        DSATC-9
    Input User Profile                                Comments        Automate test user
#Input User Profile                                Alternate ID    alterid    not reusable
    Input User Profile                                Last Name       Shi 
    Input User Profile                                First Name      Yeling
    Input User Profile                                Phone           86 025 84550410
    Input User Profile                                E-mail          yeling.shi@syniverse.com
    Input User Profile                                Contact Last Name       Shic 
    Input User Profile                                Contact First Name      Yelingc
    Input User Profile                                Contact Phone           86 025 84550411
    Click Button With Text                            Submit Form
    Accept Alert
    Wait Until Page Contains                          Success
    Wait Until Page Contains Button                   Update Roles
    Capture Page Screenshot
    ${user_id}=                                       Get Value       id=userid
    Goto Xroads7 User Detail Page                     C000249     True
    Log             anything you want to write into the output like the ${user_id}
    Capture Page Screenshot
    Pass ALM Test Instance    ALM integration test set      ALM Integration Test    This is the seconde demo case
  

