#!/bin/ksh
#
#  Script:			grantPermissions
#  Instance:		1
#  %version:		389 %
#  %version:		389 %
#  Description:		
#  %date_created:	Thu Feb 20 15:35:39 2014 %
#  %date_created:	Thu Feb 20 15:35:39 2014 %

. ./xroads_config.dat
        if [[ $PROD = "Y" ]]; then
             . /.profile-domainnamechange;
             JVMOPTION=-Danz_root=/usr/netscape/server4/docs/WEB-INF;
             CWNP=cwnp.syniverse.com;
             CWNPTEST=cwnptest.syniverse.com;
        fi
        if [[ $PROD6 = "Y" ]]; then
             . ./setClassPath.sh
             JVMOPTION=-Danz_root=/usr/netscape/server4/docs/WEB-INF;
             CWNP=cwnp.syniverse.com;
             CWNPTEST=cwnptest.syniverse.com;
        fi
date |tee -a grant$1.err >> grant$1.out;
FULLHOST=$(hostname)
HOST=${FULLHOST%%.*}
HOST=${HOST%%-dir*}
case $HOST in
   ying)
      export CLASSPATH=/crossroads/4.0/classes:$CLASSPATH;
      CWNP=wlnp-test3.syniverse.com;
      CWNPTEST=wlnp-test3.syniverse.com;
      TICKET_PROD=TS-1;
      JVMOPTION=-Danz_root=/crossroads/4.0/docs/WEB-INF;;


   tsi-signon)
      CWNP=wlnp-test.syniverse.com:64105;
      CWNPTEST=wlnp-test.syniverse.com:64105;
      JVMOPTION=-Danz_root=/usr1/netscape/server41SP7/docs/WEB-INF;;

   xroads)
      CWNP=wlnp-test.syniverse.com:64206;
      CWNPTEST=wlnp-test.syniverse.com:64206;
      JVMOPTION=-Danz_root=/crossroads/docs/WEB-INF;;

   crossroads)
      JVMOPTION=-Danz_root=/usr/netscape/server4/docs/WEB-INF;
      CWNP=cwnp.syniverse.com;
      CWNPTEST=cwnptest.syniverse.com;;
 
 xroads-ofmd1)
 		TICKET_PROD=TS-1;
 		JVMOPTION=-Danz_root=/crossroads/docs/WEB-INF;;
 xroads-oamt1|xroads-oamt2)
 		TICKET_PROD=TS-1;
        JVMOPTION=-Danz_root=/crossroads/docs/WEB-INF;;
 *)
 		TICKET_PROD=T-1;
        JVMOPTION=-Danz_root=/crossroads/docs/WEB-INF;;        
      

esac
case $1 in

    Test)
        echo $PROD;
        echo $PROD6;
        echo $CLASSPATH;
        echo $CWNP;;
    Rearch)
        ./delObj "productuid=*" "ou=ProductGroup,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
        ./delObj "objectclass=*" "ou=ProductGroup,o=crossroads" 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "permissionid=ACC_Rpt-EVNTM002^xxx" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM002^xxx 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrAdd "permissionid=ACC_RPT-EVNTM002^A-1" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM002^xxx 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=ACC_RPT-EVNTM002^A-1" "ou=people,o=crossroads" permissionid ACC_RPT-EVNTM002^A-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrAdd "permissionid=ACC_Rpt-EVNTM002^xxx" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM002^A-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=ACC_Rpt-EVNTM002^xxx" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM002^xxx 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "permissionid=ACC_Rpt-EVNTM001^xxx" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM001^xxx 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrAdd "permissionid=ACC_RPT-EVNTM001^A-1" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM001^xxx 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=ACC_RPT-EVNTM001^A-1" "ou=people,o=crossroads" permissionid ACC_RPT-EVNTM001^A-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrAdd "permissionid=ACC_Rpt-EVNTM001^xxx" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM001^A-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=ACC_Rpt-EVNTM001^xxx" "ou=people,o=crossroads" permissionid ACC_Rpt-EVNTM001^xxx 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "permissionid=ACC_Rpt-WBDRRM995^A-1" "ou=people,o=crossroads" permissionid ACC_Rpt-WBDRRM995^A-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "productspecificid=NetScout" "ou=people,o=crossroads" productspecificid NetScout 1>>grant$1.out 2>>grant$1.err;
        
        ./multiAttrDel "permissionid=reset_upassword^Tools" "ou=people,o=crossroads" permissionid "reset_upassword^Tools" 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=reset_upassword^Tools^R" "ou=people,o=crossroads" permissionid "reset_upassword^Tools^R" 1>>grant$1.out 2>>grant$1.err;        
        ./multiAttrDel "permissionid=reset_upassword^Tools^R" "ou=roles,o=crossroads" permissionid "reset_upassword^Tools^R" 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=reset_upassword^Tools" "ou=usergroup,o=crossroads" permissionid "reset_upassword^Tools" 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=reset_upassword^Tools^R" "ou=usergroup,o=crossroads" permissionid "reset_upassword^Tools^R" 1>>grant$1.out 2>>grant$1.err;
        

       AOCID=2588
        ./multiAttrDel "permissionid=AO_ADD_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_ADD_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_VIEW_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_VIEW_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_MODIFY_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_MODIFY_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_DELETE_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_DELETE_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "(&(carrieruid=57)(aocid=${AOCID}))" "ou=people,o=crossroads" aocid ${AOCID} 1>>grant$1.out 2>>grant$1.err;

       AOCID=3535
        ./multiAttrDel "permissionid=AO_ADD_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_ADD_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_VIEW_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_VIEW_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_MODIFY_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_MODIFY_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_DELETE_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_DELETE_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "(&(carrieruid=57)(aocid=${AOCID}))" "ou=people,o=crossroads" aocid ${AOCID} 1>>grant$1.out 2>>grant$1.err;

       AOCID=4211
        ./multiAttrDel "permissionid=AO_ADD_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_ADD_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_VIEW_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_VIEW_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_MODIFY_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_MODIFY_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_DELETE_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_DELETE_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "(&(carrieruid=57)(aocid=${AOCID}))" "ou=people,o=crossroads" aocid ${AOCID} 1>>grant$1.out 2>>grant$1.err;

       AOCID=4390
        ./multiAttrDel "permissionid=AO_ADD_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_ADD_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_VIEW_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_VIEW_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_MODIFY_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_MODIFY_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_DELETE_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_DELETE_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "(&(carrieruid=57)(aocid=${AOCID}))" "ou=people,o=crossroads" aocid ${AOCID} 1>>grant$1.out 2>>grant$1.err;

       AOCID=6922
        ./multiAttrDel "permissionid=AO_ADD_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_ADD_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_VIEW_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_VIEW_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_MODIFY_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_MODIFY_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_DELETE_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_DELETE_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "(&(carrieruid=57)(aocid=${AOCID}))" "ou=people,o=crossroads" aocid ${AOCID} 1>>grant$1.out 2>>grant$1.err;

       AOCID=7017
        ./multiAttrDel "permissionid=AO_ADD_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_ADD_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_VIEW_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_VIEW_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_MODIFY_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_MODIFY_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=AO_DELETE_${AOCID}^CNAM_LIDB" "ou=people,o=crossroads" permissionid AO_DELETE_${AOCID}^CNAM_LIDB 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "(&(carrieruid=57)(aocid=${AOCID}))" "ou=people,o=crossroads" aocid ${AOCID} 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "permissionid=ACC_Rpt-WBRWM934^A-1" "ou=people,o=crossroads" permissionid ACC_Rpt-WBRWM934^A-1 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "permissionid=perm8^A" "ou=people,o=crossroads" permissionid perm8^A 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=perm92^A" "ou=people,o=crossroads" permissionid perm92^A 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "permissionid=NetScout_IWSY-1^NetScout_IWSY-1" "ou=people,o=crossroads" permissionid NetScout_IWSY-1^NetScout_IWSY-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "permissionid=NetScout_SI_IWSY-1^NetScout_SI_IWSY-1" "ou=people,o=crossroads" permissionid NetScout_SI_IWSY-1^NetScout_SI_IWSY-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "productspecificid=NetScout_IWSY-1" "ou=people,o=crossroads" productspecificid NetScout_IWSY-1 1>>grant$1.out 2>>grant$1.err;
        ./multiAttrDel "productspecificid=NetScout_SI_IWSY-1" "ou=people,o=crossroads" productspecificid NetScout_SI_IWSY-1 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "productspecificid=CTP_Server" "ou=people,o=crossroads" productspecificid CTP_Server 1>>grant$1.out 2>>grant$1.err;


	echo "Done." |tee -a grant$1.err >> grant$1.out;;

	Anz342)      

	# grant AnzBeta permission to Syniverse and all the Syniverse Users that have ACC_Function_917 permission
	EXISTING_ID=ACC_Function_917^A-1 
	
	ID1=AnzBetaCo^AnzBeta 
	ID2=AnzBeta^AnzBeta
	ID3=AnzBeta2^AnzBeta2 
	
	    # adding the AnzBetaCo permission to the carriers having ACC_Function_917^A-1 permission already.
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	
	    # adding the AnzBeta^AnzBeta permission to the user,roles and user groups having ACC_Function_917^A-1 permission already.
	    # adding the AnzBeta2^AnzBeta2 permission to the user,roles having ACC_Function_917^A-1 permission already.It won't be added to user group as it is implied permission.
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
		
		#adding the AnzBeta and AnzBeta2 product to the syniverse user having ACC_Function_917^A-1 permission already.
		PROD=AnzBeta;
		PROD2=AnzBeta2;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" productspecificid "${PROD}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" productspecificid "${PROD2}" 1>>grant$1.out 2>>grant$1.err;
			
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    Anz33500)

	# grant new analyzer permission to Syniverse Analyzer users
        EXISTING_ID=BasicAnalyzerLicense
        
        java $JVMOPTION UpdateAnzCo "carrieruid=57" "ANZ_SA_163" "163" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
	
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    Anz33600)
    java multiAttrAdd "(permissionid=ANZ_SA_113^A-1)" "ou=carriers,o=crossroads" "permissionid" "ANZ_SA_113_Co^A-1" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=ANZ_SA_113^A-1)" "ou=carriers,o=crossroads" "permissionid" "ANZ_SA_113^A-1" 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(&(permissionid=ANZ_SA_113_Co^A-1)(!(carrieruid=VGSL3_-1)))" "ANZ_SA_168" "168" "" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(&(permissionid=ANZ_SA_113_Co^A-1)(!(carrieruid=VGSL3_-1)))" "ANZ_SA_168" "168" "_EU" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzUser "(&(permissionid=ANZ_SA_113^A-1)(!(carrieruid=VGSL3_-1)))" "ANZ_SA_168" "168" "" ""  1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzUser "(&(permissionid=ANZ_SA_113^A-1)(!(carrieruid=VGSL3_-1)))" "ANZ_SA_168" "168" "_EU" ""  1>>grant$1.out 2>>grant$1.err;
    echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR212753)
java multiAttrAdd "permissionid=ACC_Rpt-EVNTD001^A-1" "ou=carriers,o=crossroads" permissionid "ACC_Rpt-EVNTM001^A-1" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=ACC_Rpt-EVNTD002^A-1" "ou=carriers,o=crossroads" permissionid "ACC_Rpt-EVNTM002^A-1" 1>>grant$1.out 2>>grant$1.err;


java multiAttrAdd "permissionid=ACC_Rpt-EVNTD001^A-1" "ou=people,o=crossroads" permissionid "ACC_Rpt-EVNTM001^A-1" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=ACC_Rpt-EVNTD002^A-1" "ou=people,o=crossroads" permissionid "ACC_Rpt-EVNTM002^A-1" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=ACC_Rpt-EVNTD001^A-1^R" "ou=people,o=crossroads" permissionid "ACC_Rpt-EVNTM001^A-1^R" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=ACC_Rpt-EVNTD002^A-1^R" "ou=people,o=crossroads" permissionid "ACC_Rpt-EVNTM002^A-1^R" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=ACC_Rpt-EVNTD001^A-1^R" "ou=roles,o=crossroads" permissionid "ACC_Rpt-EVNTM001^A-1^R" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=ACC_Rpt-EVNTD002^A-1^R" "ou=roles,o=crossroads" permissionid "ACC_Rpt-EVNTM002^A-1^R" 1>>grant$1.out 2>>grant$1.err;

    echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR216204)
	java multiAttrAdd "(permissionid=MD_SMS_AA19_Co^MD-1)" "ou=carriers,o=crossroads" permissionid "ACC_Rpt-SMSIM021^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=MD_SMS_AA19^MD-1" "ou=people,o=crossroads" permissionid "ACC_Rpt-SMSIM021^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=MD_SMS_AA19^MD-1^R" "ou=people,o=crossroads" permissionid "ACC_Rpt-SMSIM021^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=MD_SMS_AA19^MD-1^R" "ou=roles,o=crossroads" permissionid "ACC_Rpt-SMSIM021^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
    
SR215371)
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM011^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=roles,o=crossroads" permissionid "SMSIG-SMSIM011^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM011^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=carriers,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM011^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=roles,o=crossroads" permissionid "OCSMS-SMSIM011^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM011^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=carriers,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM012^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=roles,o=crossroads" permissionid "SMSIG-SMSIM012^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM012^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=carriers,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM012^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=roles,o=crossroads" permissionid "OCSMS-SMSIM012^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM012^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=carriers,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	
echo "Done." |tee -a grant$1.err >> grant$1.out;;

FOM_WLNP)
#These permissions and products will need to be assigned to users and roles that have FOM.
EXISTING_ID=FOM*^FOM 
	PROD=FOM_WLNP
	PERM=WLNP_FOM_Prd_Imp^FOM_WLNP

	./multiAttrAdd "(&(permissionid=${EXISTING_ID}^R)(!(permissionid=${PERM}^R)))" "ou=people,o=crossroads" permissionid "${PERM}^R"  1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(permissionid=${EXISTING_ID})(!(permissionid=${PERM}*)))" "ou=people,o=crossroads" permissionid "${PERM}"  1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(permissionid=${EXISTING_ID}*)(!(productspecificid=${PROD})))" "ou=people,o=crossroads" productspecificid "${PROD}"  1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(permissionid=${EXISTING_ID}^R)(!(permissionid=${PERM}^R)))" "ou=roles,o=crossroads" permissionid "${PERM}^R"  1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(permissionid=${EXISTING_ID}^R)(!(productspecificid=${PROD})))" "ou=roles,o=crossroads" productspecificid "${PROD}"  1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;

FOM_Canada)
#These permissions and products will need to be assigned to Syniverse users that have FOM in a grantPermissions script.
EXISTING_ID=FOM*^FOM 
	ID1=FOM_CWNP
	ID2=FOM_WLNP
	ID3=CWNP_FOM_Co^FOM_CWNP
	ID4=WLNP_FOM^FOM_WLNP
	ID5=CWNP_Tab^CWNP
	ID6=CWNP_FOM_Prd_Imp^FOM_CWNP
	ID7=WLNP_FOM_Prd_Imp^FOM_WLNP

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}"  1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" productspecificid "${ID1}" "${ID2}"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" productspecificid "${ID1}^R" "${ID2}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" productspecificid "${ID1}^R" "${ID2}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;
 


SR209635)
	EXISTING_ID=ACC_Rpt-AGMND001^MD-1
		java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

	EXISTING_ID=ACC_Rpt-AGMND002^MD-1
		java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;


Acc27810)
	java multiAttrDel "(&(carrieruid=57)(permissionid=Acc_FOD__ELECT^A-1))" "ou=people,o=crossroads" permissionid "Acc_FOD__ELECT^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=GSMAM*)(permissionid=AccNA^*)" "ou=people,o=crossroads" permissionid "Acc_FOD__ELECT^A-1" 1>>grant$1.out 2>>grant$1.err;

        java multiAttrAdd "(permissionid=Acc_FOD__ACOL^A-1)" "ou=carriers,o=crossroads" permissionid "FOD_ACOL_Co" 1>>grant$1.out 2>>grant$1.err;
    echo "Done." |tee -a grant$1.err >> grant$1.out;;

Rearchxxx)
    EXISTING_ID=MESDM001_Co
        ID1=Acc_Function_15^A-1
        ID2=ACC_Function_15^A-1
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}))" "ou=people,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^x))" "ou=people,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^x))" "ou=people,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^R))" "ou=people,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^x))" "ou=people,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^x))" "ou=people,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^x))" "ou=roles,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ACC_Rpt-NRTRD015*)(permissionid=ACC_Rpt-WBRRD74*)(permissionid=MESDM001))(permissionid=${ID1}^x))" "ou=roles,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;

        ID1=Acc_Function_917^A-1
        ID2=ACC_Function_917^A-1

	java multiAttrAdd "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}))" "ou=people,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}^x))" "ou=people,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}^x))" "ou=people,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}^x))" "ou=roles,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(|(permissionid=ANZ_SA_13*)(permissionid=ANZ_SA_14*)(permissionid=ANZ_SA_139*)(permissionid=ANZ_SA_140*))(permissionid=${ID1}^x))" "ou=roles,o=crossroads" permissionid "${ID1}^x" 1>>grant$1.out 2>>grant$1.err;

    echo "Done." |tee -a grant$1.err >> grant$1.out;;
Acc27800)
EXISTING_ID=ACC_Customer_Type_SOR^A-1 
        ID1=Acc_Function_15^A-1
        ID2=ACC_Function_15^A-1
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=ACC_Customer_Type_WSMS^A-1 
        ID1=ACC_Rpt-WSMSD001^AccServer
        ID2=ACC_Rpt-WSMSD002^AccServer
        ID3=ACC_Rpt-WSMSD003^AccServer
        ID4=ACC_Rpt-WSMSM005^AccServer
        ID5=ACC_Function_15^A-1
        DEL_ID=Acc_Function_15^A-1

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=ACC_WSMS^A-1 
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${DEL_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID2}" "${ID3}" "${ID4}" "${ID5}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${DEL_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${DEL_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=ACC_SOR^A-1 
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${DEL_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID5}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${DEL_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID5}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${DEL_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID5}^R" 1>>grant$1.out 2>>grant$1.err;

        ./multiAttrDel "(&(permissionid=ACC_Function_15^A-1)(permissionid=ACC_Function_15^A-1^R))" "ou=people,o=crossroads" permissionid "ACC_Function_15^A-1" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;


VAS_SOR)
      #export CLASSPATH=/crossroads/4.0/classes:$CLASSPATH;
EXISTING_ID=ACC_SOR^A-1 
	ID1=ACC_SOR^WSMS_SOR
	ID2=WSMS_SOR

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}*)" "ou=people,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}*)" "ou=roles,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}*)" "ou=UserGroup,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;
 
SR251990)
       # export CLASSPATH=/crossroads/4.0/classes:$CLASSPATH;
       #Moved from 5.57.00 to 5.56.10 release
	echo "# add Hub/Operator to all Syniverse users with Hub Provider and Operator Reports (GAMNM001-GAMNM004)report permissions" |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=GSMAM_Hub_Provider_and_Operator_Reports_Syn^Agreement_Management
	ID1=Hub_Operator_Daily_Rpts^Agreement_Management
	ID2=ACC_Rpt-RHUBD001^A-1
	ID3=ACC_Rpt-RHUBD002^A-1
	
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;

               
echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR257890)

# grant ACC_Rpt-CHARM777 permission to all the Sysniverse Users that have ACC_Rpt-CHARM776 permission
EXISTING_ID=ACC_Rpt-CHARM776^A-1 
ID1=ACC_Rpt-CHARM777^A-1 

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;
 


MES_Billing)
	 
	#export CLASSPATH=/crossroads/4.0/classes:$CLASSPATH;
	EXISTING_ID=MESDM001_Co^BR-1
	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;

	EXISTING_ID=MESDM001^BR-1
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR264946)
	 
	
	EXISTING_ID1=ACC_Rpt-WBRRM781^A-1
	java multiAttrDel "(permissionid=${EXISTING_ID1})" "ou=people,o=crossroads" permissionid "${EXISTING_ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID1}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID1}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID1})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID1}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	EXISTING_ID2=ACC_Rpt-WBDRM781^A-1
	java multiAttrDel "(permissionid=${EXISTING_ID2})" "ou=people,o=crossroads" permissionid "${EXISTING_ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID2}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID2}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID2})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID2}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR271918)
  
	java $JVMOPTION UpdateAnzCo "carrieruid=12" "ANZ_SA_180" "180" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "carrieruid=VS6_-1" "ANZ_SA_180" "180" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR246526)      

	# grant ACC_Rpt-MESRM001 permission to all the Sysniverse Users that have SMSIG_SERD001 permission
	EXISTING_ID=SMSIG_SERD001^MD-1 
	ID1=ACC_Rpt-MESRM001^BR-1 

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;
 

Acc27617)
EXISTING_ID=ACC_Rpt-FSSNM*^A-1	 
	ID2=ACC_Rpt-FSSNM002^A-1		
	ID5=ACC_Rpt-FSSNM005^A-1
	ID6=ACC_Rpt-FSSNM006^A-1
	ID7=ACC_Rpt-FSSNM007^A-1
	ID8=ACC_Rpt-FSSNM008^A-1 

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID2}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID2}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID2}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID2}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID2}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID2}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;
echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
    Acc27600)

EXISTING_ID=ACC_Rpt-WRC*^A-1
ID1=ACC_Rpt-WRCPD002^A-1
ID2=ACC_Rpt-WRCPD003^A-1
ID3=ACC_Rpt-WRCPD004^A-1
ID4=ACC_Rpt-WRCPD005^A-1
ID5=ACC_Rpt-WRCRD091^A-1
ID6=ACC_Rpt-WRCRD092^A-1
ID7=ACC_Rpt-WRCRD093^A-1
ID8=ACC_Rpt-WRCRD094^A-1
ID9=ACC_Rpt-WRCRM91A^A-1
ID10=ACC_Rpt-WRCRM91B^A-1
ID11=ACC_Rpt-WRCRM92A^A-1
ID12=ACC_Rpt-WRCRM92B^A-1
ID13=ACC_Rpt-WRCRM93A^A-1
ID14=ACC_Rpt-WRCRM93B^A-1
ID15=ACC_Rpt-WRCRM94A^A-1
ID16=ACC_Rpt-WRCRM94B^A-1
ID17=ACC_Rpt-WRCPD006^A-1

java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}" "${ID11}" "${ID12}" "${ID13}" "${ID14}" "${ID15}" "${ID16}" "${ID17}"  1>>grant$1.out 2>>grant$1.err;

java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R" "${ID11}^R" "${ID12}^R" "${ID13}^R" "${ID14}^R" "${ID15}^R" "${ID16}^R" "${ID17}^R"  1>>grant$1.out 2>>grant$1.err;

java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R" "${ID11}^R" "${ID12}^R" "${ID13}^R" "${ID14}^R" "${ID15}^R" "${ID16}^R" "${ID17}^R" 1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}" "${ID11}" "${ID12}" "${ID13}" "${ID14}" "${ID15}" "${ID16}" "${ID17}" 1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R" "${ID11}^R" "${ID12}^R" "${ID13}^R" "${ID14}^R" "${ID15}^R" "${ID16}^R" "${ID17}^R" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=ACC_Rpt-WRG*^A-1
ID1=ACC_Rpt-WRG2M81B^A-1
ID2=ACC_Rpt-WRGRM24A^A-1
ID3=ACC_Rpt-WRGRM24B^A-1
ID4=ACC_Rpt-WRGRM25A^A-1
ID5=ACC_Rpt-WRGRM25B^A-1
ID6=ACC_Rpt-WRG2D081^A-1
ID7=ACC_Rpt-WRGRM28A^A-1
ID8=ACC_Rpt-WRGRM28B^A-1
ID9=ACC_Rpt-WRG2M81A^A-1
ID10=ACC_Rpt-WRGRD01A^A-1

java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}"  1>>grant$1.out 2>>grant$1.err;

java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R" 1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R" 1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}" 1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=ACC_Rpt-WRS*^A-1
ID1=ACC_Rpt-WRSTD001^A-1
ID2=ACC_Rpt-WRSTD015^A-1
ID3=ACC_Rpt-WRSTD016^A-1
ID4=ACC_Rpt-WRSTD018^A-1
ID5=ACC_Rpt-WRSTD019^A-1
ID6=ACC_Rpt-WRSTD020^A-1
ID7=ACC_Rpt-WRSTD021^A-1
ID8=ACC_Rpt-WRSTM27A^A-1
ID9=ACC_Rpt-WRSTM27B^A-1
	
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}"	 1>>grant$1.out 2>>grant$1.err;

java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" 1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R"  1>>grant$1.out 2>>grant$1.err;


EXISTING_ID=ACC_Rpt-WRG*^A-1
ID1=ACC_Rpt-WRG2M81B^A-1
ID2=ACC_Rpt-WRGRM24A^A-1
ID3=ACC_Rpt-WRGRM24B^A-1
ID4=ACC_Rpt-WRGRM25A^A-1
ID5=ACC_Rpt-WRGRM25B^A-1
ID6=ACC_Rpt-WRG2D081^A-1
ID7=ACC_Rpt-WRGRM28A^A-1
ID8=ACC_Rpt-WRGRM28B^A-1
ID9=ACC_Rpt-WRG2M81A^A-1
ID10=ACC_Rpt-WRGRD01A^A-1
	
java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" "${ID10}"  1>>grant$1.out 2>>grant$1.err;
	
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" "${ID8}^R" "${ID9}^R" "${ID10}^R"  1>>grant$1.out 2>>grant$1.err;
     # Physically remove non-ACCESSibility permissions that were logically deleted in previous releases.
        ./delObj "&(!(permissionid=ACC_Rpt-*))(permissiongroupid=delete*)" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
        ./delObj "presentationgroupid=delete*" "ou=presentationobjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    VisGRQ)

	echo "INFO: Assigning NetQos permission to all users with inpack_reports" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=inpack_reports^N-1
        ID1=inpack_reports^inpackServer
        ID2=netQoS^N-1
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid  "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;


	echo "INFO: replacing inpack_reports^N-1 with inpack_reports^inpackServer" |tee -a  grant$1.err >> grant$1.out;

        EXISTING_ID=inpack_reports^N-1
	./multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

FCH_Analyzer)
	# grant fch analyzer permissions for syniverse


	java $JVMOPTION UpdateAnzCo "carrieruid=57" "FCH_ANLZR_173_Co" "173" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
	
echo "Done." |tee -a grant$1.err >> grant$1.out;;

RoamMonitor_Analyzer)
	# grant roammonitor analyzer permissions for syniverse

	java $JVMOPTION UpdateAnzCo "carrieruid=57" "RoamMonitor_Analyzer_Syn_Co" "175" "" "MD-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 
      ./multiAttrDel "carrieruid=57" "ou=carriers,o=crossroads" permissionid "RoamMonitor_Analyzer_Syn_Co^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "carrieruid=57" "RoamMonitor_Analyzer_Syn_Co" "175" "_EU" "MD-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 

      java $JVMOPTION UpdateAnzUser "(&(carrieruid=57)(|(permissionid=RMServer*)(permissionid=RMProvisioning*)))" "BASIC_ROAM_MONITOR57_175" "175" "" "MD-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
      ./multiAttrDel "(&(carrieruid=57)(|(permissionid=RMServer*)(permissionid=RMProvisioning*)))" "ou=people,o=crossroads" "permissionid" "BASIC_ROAM_MONITOR57_175^MD-1" 1>>grant$1.out 2>>grant$1.err;
      java $JVMOPTION UpdateAnzUser "(&(carrieruid=57)(|(permissionid=RMServer*)(permissionid=RMProvisioning*)))" "BASIC_ROAM_MONITOR57_175" "175" "_EU" "MD-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=57)(|(permissionid=RMServer*)(permissionid=RMProvisioning*)))" "ou=people,o=crossroads" permissionid "RoamMonitor_Analyzer_Reports_Imp^MD-1" 1>>grant$1.out 2>>grant$1.err;
	
echo "Done." |tee -a grant$1.err >> grant$1.out;;

	SMSUAA_Analyzer)
		java $JVMOPTION UpdateAnzCo "(&(permissionid=ANZ_SA_144^MD-1)(!(carrieruid=57)))" "SMS_ANLZR_170_Co" "170" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;


    Traffic_Analysis)
        java multiAttrAdd "(&(carrieruid=57)(productspecificid=VisSvc*))" "ou=people,o=crossroads" permissionid "Viswise_GSM^VisSvc" "CDMA_Traf_Rpts^VisSvc" "Uni_Traf_Rpts^VisSvc" "Sig_Sol_Traf_Rpts^VisSvc" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	

    RMS417)
      java multiAttrAdd "(&(carrieruid=57)(permissionid=rms_aa14^RMS))" "ou=people,o=crossroads" permissionid "rms_rtf_preview^RMS" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=57)(permissionid=rms_aa14^RMS^R))" "ou=people,o=crossroads" permissionid "rms_rtf_preview^RMS^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=57)(permissionid=rms_aa14^RMS^R))" "ou=roles,o=crossroads" permissionid "rms_rtf_preview^RMS^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=57)(permissionid=rms_aa14^RMS))" "ou=usergroup,o=crossroads" permissionid "rms_rtf_preview^RMS" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=57)(permissionid=rms_aa14^RMS^R))" "ou=usergroup,o=crossroads" permissionid "rms_rtf_preview^RMS^R" 1>>grant$1.out 2>>grant$1.err;

      java multiAttrDel "carrieruid=BMHB-1" "ou=carriers,o=crossroads" permissionid "rms_docs^RMS" 1>>grant$1.out 2>>grant$1.err;

      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS))" "ou=people,o=crossroads" permissionid "doc_download_rh_ir21^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS))" "ou=people,o=crossroads" permissionid "doc_download_ir21^RMS" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS))" "ou=people,o=crossroads" permissionid "doc_upload_rh_ir21^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS))" "ou=people,o=crossroads" permissionid "doc_download_ir21^RMS" 1>>grant$1.out 2>>grant$1.err;

      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS^R))" "ou=people,o=crossroads" permissionid "doc_download_rh_ir21^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS^R))" "ou=people,o=crossroads" permissionid "doc_download_ir21^RMS^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS^R))" "ou=people,o=crossroads" permissionid "doc_upload_rh_ir21^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS^R))" "ou=people,o=crossroads" permissionid "doc_upload_ir21^RMS^R" 1>>grant$1.out 2>>grant$1.err;


      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS^R))" "ou=roles,o=crossroads" permissionid "doc_download_rh_ir21^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS^R))" "ou=roles,o=crossroads" permissionid "doc_download_ir21^RMS^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS^R))" "ou=roles,o=crossroads" permissionid "doc_upload_rh_ir21^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS^R))" "ou=roles,o=crossroads" permissionid "doc_upload_ir21^RMS^R" 1>>grant$1.out 2>>grant$1.err;

      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS))" "ou=usergroup,o=crossroads" permissionid "doc_download_rh_ir21^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS))" "ou=usergroup,o=crossroads" permissionid "doc_download_ir21^RMS" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS))" "ou=usergroup,o=crossroads" permissionid "doc_upload_rh_ir21^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS))" "ou=usergroup,o=crossroads" permissionid "doc_download_ir21^RMS" 1>>grant$1.out 2>>grant$1.err;

      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS^R))" "ou=usergroup,o=crossroads" permissionid "doc_download_rh_ir21^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_download_ir21^RMS^R))" "ou=usergroup,o=crossroads" permissionid "doc_download_ir21^RMS^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrAdd "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS^R))" "ou=usergroup,o=crossroads" permissionid "doc_upload_rh_ir21^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
      java multiAttrDel "(&(carrieruid=BMHB-1)(permissionid=doc_upload_ir21^RMS^R))" "ou=usergroup,o=crossroads" permissionid "doc_upload_ir21^RMS^R" 1>>grant$1.out 2>>grant$1.err;


	EXISTING_ID=rms_imp_all_doc_upload^Agreement_Management
	ID1=rms_imp_all_doc_upload^RMS
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=rms_imp_all_doc_download^Agreement_Management
	ID1=rms_imp_all_doc_download^RMS
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=rms_imp_all_doc_upload^Agreement_Management
	ID1=rms_imp_all_doc_upload^Agreement_Management
		java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=rms_imp_all_doc_download^Agreement_Management
	ID1=rms_imp_all_doc_download^Agreement_Management
		java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    BICS3)
        java multiAttrAdd "(|(permissionid=GSM_AM_Managed_Hub_Provider^*)(permissionid=GSM_AM_Hub_Provider_2^*))" "ou=carriers,o=crossroads" permissionid "MH_Provider_Non_Admin^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;

        java multiAttrAdd "(&(permissionid=GSMAM_Create_Operator_Profile_ROAMING_HUB^Agreement_Management)(!(permissionid=GSMAM_Create_Operator_Profile_*H^Agreement_Management)))" "ou=people,o=crossroads" permissionid "GSMAM_Create_Operator_Profile_RH^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(permissionid=GSMAM_Create_Operator_Profile_Roaming_Hub^Agreement_Management^R)(!(permissionid=GSMAM_Create_Operator_Profile_*H^Agreement_Management^R)))" "ou=people,o=crossroads" permissionid "GSMAM_Create_Operator_Profile_RH^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(permissionid=GSMAM_Create_Operator_Profile_Roaming_Hub^Agreement_Management^R)(!(permissionid=GSMAM_Create_Operator_Profile_*H^Agreement_Management^R)))" "ou=roles,o=crossroads" permissionid "GSMAM_Create_Operator_Profile_RH^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(permissionid=GSMAM_Create_Operator_Profile_Roaming_Hub^Agreement_Management)(!(permissionid=GSMAM_Create_Operator_Profile_*H^Agreement_Management)))" "ou=UserGroup,o=crossroads" permissionid "GSMAM_Create_Operator_Profile_RH^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(permissionid=GSMAM_Create_Operator_Profile_Roaming_Hub^Agreement_Management^R)(!(permissionid=GSMAM_Create_Operator_Profile_*H^Agreement_Management^R)))" "ou=UserGroup,o=crossroads" permissionid "GSMAM_Create_Operator_Profile_RH^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;

        ID=GSMAM_*_Technical_Information_ROAMING_HUB^Agreement_Management
        ID1=GSMAM_View_Technical_Information_ROAMING_HUB^Agreement_Management
        ID2=GSMAM_Modify_Technical_Information_ROAMING_HUB^Agreement_Management
        java multiAttrDel "permissionid=${ID}" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

        ID=GSMAM_View_Technical_Information^GSM_AM_Server
        ID1=GSMAM_View_Technical_Information_*^Agreement_Management
        java multiAttrDel "(&(permissionid=${ID})(!(permissionid=${ID1})))" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=people,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;

        ID=GSMAM_Modify_Technical_Information^GSM_AM_Server
        ID1=GSMAM_Modify_Technical_Information_*^Agreement_Management
        java multiAttrDel "(&(permissionid=${ID})(!(permissionid=${ID1})))" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=people,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;

        ID=GSMAM_View_Audit_Logs^GSM_AM_Server
        ID1=GSMAM_View_Audit_Logs_*^Agreement_Management
        java multiAttrDel "(&(permissionid=${ID})(!(permissionid=${ID1})))" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=people,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;

        ID=ANZ_SA_119^A-1
        ID1=MH_Analyzer^AccServer
        ID2=Acc3^Acc3
        java multiAttrAdd "permissionid=${ID}" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    BICS)

	echo "Assigning Agreement Manangement RH View to everyone with Provisioning" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=GSMAM_Provision_Agreements_ROAMING_HUB^Agreement_Management
        ID1=GSMAM_Provision_Agreements_ROAMING_HUB^Agreement_Management

	java multiAttrAdd "(&(permissionid=${EXISTING_ID})(!(permissionid=${ID1}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

	echo "Assigning rms_docs permission to all companies with RMS_Imp_Co permission" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=RMS_Imp_Co^RMS
        ID1=rms_docs^RMS

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning Std_DCH_Rpts permission to all companies with ACC_Customer_Type_SNE permission" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=ACC_Customer_Type_SNE*
        ID1=Std_DCH_Rpts^A-1

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning MH_Operator permission to all companies with GSM_AM_Managed_Hub_Operator permission" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=GSM_AM_Managed_Hub_Operator^Agreement_Management
        ID1=MH_Operator^Agreement_Management
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

        echo "Assigning rms_select_operator permission to all companies with GSM_AM_Managed_Hub_Provider permission" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=GSM_AM_Managed_Hub_Provider^Agreement_Management
        EXISTING_ID2=GSM_AM_Managed_Hub_Syn^Agreement_Management
        ID1=rms_select_operator^Agreement_Management
        java multiAttrAdd "(|(permissionid=${EXISTING_ID})(permissionid=${EXISTING_ID2}))" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;


	echo "Assigning RMS_MultiPMN  permission to all users with rms_multi_operator permission and replacing rms_multi_operator^RMS permission with rms_multi_operator^Agreement_Management permission" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=rms_multi_operator^RMS
        ID1=RMS_MultiPMN^RMS
        ID2=rms_multi_operator^Agreement_Management
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning rms_multi_operator to everyone with rms_cc_admin" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=rms_cc_admin^RMS
        ID1=rms_multi_operator^Agreement_Management

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	
	RMS4.16.00)
	echo "existing user with the rms_test_sim_prov permission needs to be provided with the rms_test_sim_view and rms_test_sim_search " |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=rms_test_sim_prov^RMS 
	ID1=rms_test_sim_view^RMS
	ID2=rms_test_sim_search^RMS
	ID3=rms_test_sim_view_gui^RMS	
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	
 
	ACC_ACCESS_Invoices)
		echo "moved all users with Setup permission to Update permission" |tee -a  grant$1.err >> grant$1.out;	
		EXISTING_ID=ACC_ACCESS_Inv_Setup^A-1
		ID1=ACC_ACCESS_Inv_Update^A-1
		java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;

		./delObj "permissionid=ACC_ACCESS_Inv_Setup" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    ManagedHub)
	echo "Assigning implied Visibility Services Roaming Hub  Data Option permission to all Visibility Services Roaming Hub Data subscribers" |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=ROH_Subscriber^VisSvc
        ID1=ROH_Subscriber_GUI^VisSvc
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning Implied Roaming Hub Operator permission to all Roaming  Hub Providers" |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=GSM_AM_Roaming_Hub_Provider^Agreement_Management
	ID1=GSM_AM_Imp_RH_Provider^Agreement_Management
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning RH_AA14_Co to all Roaming  Hub Operators" |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=GSM_AM_Roaming_Hub_Operator^Agreement_Management
	ID1=RH_AA14_Co^Agreement_Management
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning FOD permissions  and ACCESSibility functions 14/15 to all Managed Hub Providers" |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=GSM_AM_Managed_Hub_Provider^Agreement_Management
	ID1=ACC_FOD__RTDR^A-1
	ID2=ACC_FOD__ACOL^A-1
	ID3=ACC_Function_14^A-1
	ID4=ACC_Function_15^A-1
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;


	echo "Assigning ACCESSibility menu permissions to all users asigned the S521 Report" |tee -a  grant$1.err >> grant$1.out;
        EXISTING_ID=ACC_Rpt-WBRRM521^A-1
	ID1=ACC_Function_14^A-1
	ID2=ACC_Function_15^A-1
	ID3=ACC_Cust_View^AccServer
	ID4=ACC_Cust_Rpts^AccServer
	ID5=ACC_Cust_Ltd^AccServer
	ID6=Acc_Std_Rpt_Download^AccServer

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}"    1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R"    1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R"    1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}"    1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R"    1>>grant$1.out 2>>grant$1.err;

        EXISTING_ID=MH_Provider^Agreement_Management
        ID1=ACC_Rpt-WBRRM521^A-1
        java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Assigning S521 Report to all Syniverse S&E report users" |tee -a  grant$1.err >> grant$1.out;

        EXISTING_ID=ACC_Prod-SNE^A-1
        ID1=ACC_Rpt-WBRRM521^A-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

        EXISTING_ID=RH_AA14_Support_Tool^Agreement_Management
        ID1=RH_AA14_Support_Tool^RMS
        ID2=AMServer^AMServer
        ID3=AGREEMENT_MANAGEMENT^Agreement_Management

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
        EXISTING_ID=GSMAM_Implied_MH_Operators^Agreement_Management
        ID1=GSMAM_Implied_MH_Operators^GSM_AM_Server

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${ID1}*" "ou=people,o=crossroads" productspecificid "GSM_AM_Server" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${ID1}*" "ou=roles,o=crossroads" productspecificid "GSM_AM_Server" 1>>grant$1.out 2>>grant$1.err;
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

	RM_GUI_10000)
	#grant the view permissions to all Syniverse users that have the Dashboard (Usage Monitor) permission.

	EXISTING_ID=RM_Dashboard^MD-1
		ID1=RM_PROV_VIEW^MD-1		
		ID2=RM_IMP_VIEW^MD-1
		ID3=RMProvisioning^RoamMonitor
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

	

    Acc27500)
	# Remove obsolete reports (sr103438) from all companies, users, roles, and groups
	EXISTING_ID=ACC_Rpt-WBDRD619^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WBDRM619^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WBRRD619^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WBRRM619^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "# add SVRHD001 to all Syniverse users with Hub/Operator report permissions " |tee -a  grant$1.err >> grant$1.out;
	EXISTING_ID=GSMAM_Hub_Provider_and_Operator_Reports_Syn^Agreement_Management
	ID1=ACC_Rpt-SVRHD001^A-1
	ID2=ACC_Prod-AGM^A-1
	
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     SR108187)
	# add GSMAM_Create_AA14_ROAMING_HUB to all users and roles with GSMAM_View_AA14_ROAMING_HUB 
	EXISTING_ID=GSMAM_View_AA14_ROAMING_HUB^Agreement_Management
	ID1=GSMAM_Create_AA14_ROAMING_HUB^Agreement_Management
	
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Acc27520)
	# add ACC_Rpt-WBRRD1026 to all Syniverse users with Test SIM Reporting permission 
	EXISTING_ID=RMS_SIM_Reporting^RMS
	ID1=ACC_Rpt-WBRRD1026^RMS
	
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     54700)
	# remove obsolete reports (sr103438)
	
        ./delObj "permissiongroupid=delete547" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
        
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
     
 NEXT_HELP)
	
	# update carriers/users/roles/groups with new NEXT productspecificid 
	EXISTING_ID=ACC_Prod-AMH^A-1
	ID=ACC_Prod-AMH^NEXT

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=NEXT_Business_Analytics^MD-1
	ID=NEXT_Business_Analytics^NEXT

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Prod-AMH^A-1
	
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=NEXT_Business_Analytics^MD-1
	
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

	# Add productspecificid NEXT
	EXISTING_ID1=ACC_Prod-AMH^NEXT
	EXISTING_ID2=NEXT_Business_Analytics^NEXT
	ID=NEXT

	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=carriers,o=crossroads" productspecificid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=people,o=crossroads" productspecificid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=people,o=crossroads" productspecificid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=roles,o=crossroads" productspecificid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=UserGroup,o=crossroads" productspecificid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=UserGroup,o=crossroads" productspecificid "${ID}" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;	

     54600)
	
	# remove NRTRD012/13/14 from carriers except Syniverse and Proximus (BMP6_-1)
	ID1=ACC_Rpt-NRTRD012^A-1
	ID2=ACC_Rpt-NRTRD013^A-1
	ID3=ACC_Rpt-NRTRD014^A-1
	
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
 
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Acc27400)
	# add NRTRD015 to all Syniverse users with ACC_Prod-NRTRDE 
	EXISTING_ID=ACC_Prod-NRTRDE^A-1
	ID1=ACC_Rpt-NRTRD015^A-1
	
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     LT1B) 

#All Syniverse users, roles, and user groups that have one of the existing Traffic Analysis reports assigned will need to have the new traffic analysis reports permissions assigned:

EXISTING_ID1=RoamingPartnerAnalysis^RoamingPartnerAnalysis
EXISTING_ID2=Viswise^Viswise
ID1=Uni_Traf_Rpts^VisSvc
ID2=Sig_Sol_Traf_Rpts^VisSvc

#Users
./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))(!(permissionid=${ID1}^R)))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))(!(permissionid=${ID2}^R)))" "ou=people,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))(!(permissionid=${ID1}*)))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

./multiAttrDel "(&(carrieruid=57)(permissionid=${ID2}1))" "ou=people,o=crossroads" permissionid "${ID2}"1 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))(!(permissionid=${ID2}*)))" "ou=people,o=crossroads" permissionid "${ID2}" 1>>grant$1.out 2>>grant$1.err;

# Roles
./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))(!(permissionid=${ID1}^R)))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))(!(permissionid=${ID2}^R)))" "ou=roles,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

#User Groups
./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))(!(permissionid=${ID1}^R)))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))(!(permissionid=${ID2}^R)))" "ou=usergroup,o=crossroads" permissionid "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))(!(permissionid=${ID1}*)))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))(!(permissionid=${ID2}*)))" "ou=usergroup,o=crossroads" permissionid "${ID2}"1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Enhanced_Vis_GSM)
#All users, usergroups  and roles that have the GSM visitor/subscriber reports assigned and not the RoamProActive version of the GSM Visitor/Subscriber reports need to have the new GSM_Vis_Sub_Rpts_Std permission assigned:

 java multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc^R)(permissionid=GSM_Subscriber*^VisSvc^R))(!(permissionid=GSM_Vis_Sub_Rpts_*^VisSvc*)))" "ou=people,o=crossroads" permissionid "GSM_Vis_Sub_Rpts_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

 java multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc)(permissionid=GSM_Subscriber*^VisSvc))(!(permissionid=GSM_Vis_Sub_Rpts_Std^VisSvc^R))(!(permissionid=GSM_Vis_Sub_Rpts_*^VisSvc*)))" "ou=people,o=crossroads" permissionid "GSM_Vis_Sub_Rpts_Std^VisSvc" 1>>grant$1.out 2>>grant$1.err;


 java multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc^R)(permissionid=GSM_Subscriber*^VisSvc^R))(!(permissionid=GSM_Vis_Sub_Rpts_*^VisSvc*)))" "ou=roles,o=crossroads" permissionid "GSM_Vis_Sub_Rpts_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;


 java multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc^R)(permissionid=GSM_Subscriber*^VisSvc^R))(!(permissionid=GSM_Vis_Sub_Rpts_*^VisSvc*)))" "ou=usergroup,o=crossroads" permissionid "GSM_Vis_Sub_Rpts_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

 java multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc)(permissionid=GSM_Subscriber*^VisSvc))(!(permissionid=GSM_Vis_Sub_Rpts_Std^VisSvc^R))(!(permissionid=GSM_Vis_Sub_Rpts_*^VisSvc*)))" "ou=usergroup,o=crossroads" permissionid "GSM_Vis_Sub_Rpts_Std^VisSvc" 1>>grant$1.out 2>>grant$1.err;



	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Enhanced_Vis)
#All users, roles, and user groups that have any of the CDMA visitor/subscriber reports assigned will need to have the new CDMA_Vis_Sub_Rpts permission assigned:

 java multiAttrAdd "(&(carrieruid=57)(|(permissionid=SRS_*^R)(permissionid=VRS_*^R)(permissionid=SRH_*^R)(permissionid=VRH_*^R)))" "ou=people,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc^R" "CDMA_Vis_Sub_Rpts_Int^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
 java multiAttrAdd "(&(!(carrieruid=57))(|(permissionid=SRS_*^R)(permissionid=VRS_*^R)(permissionid=SRH_*^R)(permissionid=VRH_*^R)))" "ou=people,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc^R" "CDMA_Vis_Sub_Rpts_Ext^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

 java multiAttrAdd "(&(carrieruid=57)(|(permissionid=SRS_*^VisSvc)(permissionid=VRS_*^VisSvc)(permissionid=SRH_*^VisSvc)(permissionid=VRH_*^VisSvc)))" "ou=people,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc" "CDMA_Vis_Sub_Rpts_Int^VisSvc" 1>>grant$1.out 2>>grant$1.err;
 java multiAttrAdd "(&(!(carrieruid=57))(|(permissionid=SRS_*^VisSvc)(permissionid=VRS_*^VisSvc)(permissionid=SRH_*^VisSvc)(permissionid=VRH_*^VisSvc)))" "ou=people,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc" "CDMA_Vis_Sub_Rpts_Ext^VisSvc" 1>>grant$1.out 2>>grant$1.err;

 java multiAttrAdd "(&(carrieruid=57)(|(permissionid=SRS_*^R)(permissionid=VRS_*^R)(permissionid=SRH_*^R)(permissionid=VRH_*^R)))" "ou=roles,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc^R" "CDMA_Vis_Sub_Rpts_Int^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
 java multiAttrAdd "(&(!(carrieruid=57))(|(permissionid=SRS_*^R)(permissionid=VRS_*^R)(permissionid=SRH_*^R)(permissionid=VRH_*^R)))" "ou=roles,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc^R" "CDMA_Vis_Sub_Rpts_Ext^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

 java multiAttrAdd "(&(carrieruid=57)(|(permissionid=SRS_*^R)(permissionid=VRS_*^R)(permissionid=SRH_*^R)(permissionid=VRH_*^R)))" "ou=usergroup,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc^R" "CDMA_Vis_Sub_Rpts_Int^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
 java multiAttrAdd "(&(!(carrieruid=57))(|(permissionid=SRS_*^R)(permissionid=VRS_*^R)(permissionid=SRH_*^R)(permissionid=VRH_*^R)))" "ou=usergroup,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc^R" "CDMA_Vis_Sub_Rpts_Ext^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

 java multiAttrAdd "(&(carrieruid=57)(|(permissionid=SRS_*^VisSvc)(permissionid=VRS_*^VisSvc)(permissionid=SRH_*^VisSvc)(permissionid=VRH_*^VisSvc)))" "ou=usergroup,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc" "CDMA_Vis_Sub_Rpts_Int^VisSvc" 1>>grant$1.out 2>>grant$1.err;
 java multiAttrAdd "(&(!(carrieruid=57))(|(permissionid=SRS_*^VisSvc)(permissionid=VRS_*^VisSvc)(permissionid=SRH_*^VisSvc)(permissionid=VRH_*^VisSvc)))" "ou=usergroup,o=crossroads" permissionid "CDMA_Vis_Sub_Rpts^VisSvc" "CDMA_Vis_Sub_Rpts_Ext^VisSvc" 1>>grant$1.out 2>>grant$1.err;


#All users, roles, and user groups that have the Top10 visitor/subscriber reports assigned will need to have the new Standard version of the permission assigned:

echo "Step 1 completed">> grant$1.err;
./multiAttrAdd "(&(permissionid=SRS_Top10*^R)(!(permissionid=SRS_Top10_Std^VisSvc^R)))" "ou=people,o=crossroads" permissionid "SRS_Top10_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=SRS_Top10*^VisSvc)(!(permissionid=SRS_Top10_Std^VisSvc)))" "ou=people,o=crossroads" permissionid "SRS_Top10_Std^VisSvc" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=SRS_Top10*^R)(!(permissionid=SRS_Top10_Std^VisSvc^R)))" "ou=roles,o=crossroads" permissionid "SRS_Top10_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=SRS_Top10*^R)(!(permissionid=SRS_Top10_Std^VisSvc^R)))" "ou=usergroup,o=crossroads" permissionid "SRS_Top10_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=SRS_Top10*^VisSvc)(!(permissionid=SRS_Top10_Std^VisSvc)))" "ou=usergroup,o=crossroads" permissionid "SRS_Top10_Std^VisSvc" 1>>grant$1.out 2>>grant$1.err;

echo "Step 2 completed">> grant$1.err;
./multiAttrAdd "(&(permissionid=VRH_Top10*^R)(!(permissionid=VRH_Top10_Std^VisSvc^R)))" "ou=people,o=crossroads" permissionid "VRH_Top10_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=VRH_Top10*^VisSvc)(!(permissionid=VRH_Top10_Std^VisSvc)))" "ou=people,o=crossroads" permissionid "VRH_Top10_Std^VisSvc" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=VRH_Top10*^R)(!(permissionid=VRH_Top10_Std^VisSvc^R)))" "ou=roles,o=crossroads" permissionid "VRH_Top10_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=VRH_Top10*^R)(!(permissionid=VRH_Top10_Std^VisSvc^R)))" "ou=usergroup,o=crossroads" permissionid "VRH_Top10_Std^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
./multiAttrAdd "(&(permissionid=VRH_Top10*^VisSvc)(!(permissionid=VRH_Top10_Std^VisSvc)))" "ou=usergroup,o=crossroads" permissionid "VRH_Top10_Std^VisSvc" 1>>grant$1.out 2>>grant$1.err;



echo "Step 3 completed">> grant$1.err;

#All users, roles, and user groups that have any of the GSM visitor/subscriber reports assigned will need to have the new GSM_Vis_Sub_Rpts permission assigned:

./multiAttrAdd "(&(|(permissionid=GSM_Visitor*^R)(permissionid=GSM_Sub*^R))(!(permissionid=GSM_Vis_Sub_Rpts^VisSvc^R)))" "ou=people,o=crossroads" permissionid "GSM_Vis_Sub_Rpts^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc)(permissionid=GSM_Sub*^VisSvc))(!(permissionid=GSM_Vis_Sub_Rpts^VisSvc*)))" "ou=people,o=crossroads" permissionid "GSM_Vis_Sub_Rpts^VisSvc" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(|(permissionid=GSM_Visitor*^R)(permissionid=GSM_Sub*^R))(!(permissionid=GSM_Vis_Sub_Rpts^VisSvc^R)))" "ou=roles,o=crossroads" permissionid "GSM_Vis_Sub_Rpts^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(|(permissionid=GSM_Visitor*^R)(permissionid=GSM_Sub*^R))(!(permissionid=GSM_Vis_Sub_Rpts^VisSvc^R)))" "ou=usergroup,o=crossroads" permissionid "GSM_Vis_Sub_Rpts^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;

./multiAttrAdd "(&(|(permissionid=GSM_Visitor*^VisSvc)(permissionid=GSM_Sub*^VisSvc))(!(permissionid=GSM_Vis_Sub_Rpts^VisSvc*)))" "ou=usergroup,o=crossroads" permissionid "GSM_Vis_Sub_Rpts^VisSvc" 1>>grant$1.out 2>>grant$1.err;

#All users, roles, and user groups that have the Viswise^N-1 permission assigned will need to have the new Viswise_GUI^N-1 and the Viswise^Viswise permission assigned:

echo "Step 4 completed">> grant$1.err;
java multiAttrAdd "permissionid=Viswise^N-1^R" "ou=people,o=crossroads" permissionid "Viswise_GUI^N-1^R" "Viswise^Viswise^R" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=Viswise^N-1" "ou=people,o=crossroads" permissionid "Viswise_GUI^N-1" "Viswise^Viswise" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=Viswise^N-1^R" "ou=roles,o=crossroads" permissionid "Viswise_GUI^N-1^R" "Viswise^Viswise^R" 1>>grant$1.out 2>>grant$1.err;

echo "Step 5 completed">> grant$1.err;
java multiAttrAdd "permissionid=Viswise^N-1^R" "ou=usergroup,o=crossroads" permissionid "Viswise_GUI^N-1^R"  1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=Viswise^N-1" "ou=usergroup,o=crossroads" permissionid "Viswise_GUI^N-1"  1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "permissionid=Viswise^N-1" "ou=carriers,o=crossroads" permissionid "Viswise_GUI^N-1"  1>>grant$1.out 2>>grant$1.err;

#Remove the Viswise^N-1 permission from all users, groups, and roles:

java multiAttrDel "permissionid=Viswise^N-1^R" "ou=people,o=crossroads" permissionid "Viswise^N-1^R"  1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "permissionid=Viswise^N-1" "ou=people,o=crossroads" permissionid "Viswise^N-1"  1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "permissionid=Viswise^N-1^R" "ou=roles,o=crossroads" permissionid "Viswise^N-1^R"  1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "permissionid=Viswise^N-1^R" "ou=usergroup,o=crossroads" permissionid "Viswise^N-1^R"  1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "permissionid=Viswise^N-1" "ou=usergroup,o=crossroads" permissionid "Viswise^N-1"  1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;      

     Acc2xx00)
	# Remove obsolete reports (tsg 1333990) from all companies, users, roles, and groups
	EXISTING_ID=ACC_Rpt-WRG2M81B^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WRGRM24*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WRGRM25*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	ID1=ACC_Rpt-WRCPD002^A-1
	ID2=ACC_Rpt-WRCPD003^A-1
	ID3=ACC_Rpt-WRCPD004^A-1
	ID4=ACC_Rpt-WRCPD005^A-1

	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4}))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
		
	ID1=ACC_Rpt-WRSTD001^A-1
	ID2=ACC_Rpt-WRSTD015^A-1
	ID3=ACC_Rpt-WRSTD016^A-1
	ID4=ACC_Rpt-WRSTD018^A-1
	ID5=ACC_Rpt-WRSTD019^A-1
	ID6=ACC_Rpt-WRSTD020^A-1
	ID7=ACC_Rpt-WRSTD021^A-1
	
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4})(permissionid=${ID5})(permissionid=${ID6})(permissionid=${ID7}))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4})(permissionid=${ID5})(permissionid=${ID6})(permissionid=${ID7}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R)(permissionid=${ID5}^R)(permissionid=${ID6}^R)(permissionid=${ID7}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R)(permissionid=${ID5}^R)(permissionid=${ID6}^R)(permissionid=${ID7}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4})(permissionid=${ID5})(permissionid=${ID6})(permissionid=${ID7}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R)(permissionid=${ID5}^R)(permissionid=${ID6}^R)(permissionid=${ID7}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" "${ID6}^R" "${ID7}^R" 1>>grant$1.out 2>>grant$1.err;
		
	EXISTING_ID=ACC_Rpt-WRSTM27*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	ID1=ACC_Rpt-WRCRD091^A-1
	ID2=ACC_Rpt-WRCRD092^A-1
	ID3=ACC_Rpt-WRCRD093^A-1
	ID4=ACC_Rpt-WRCRD094^A-1

	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4}))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(|(permissionid=${ID1}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WRCRM91*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WRCRM92*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WRCRM93*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
		
	EXISTING_ID=ACC_Rpt-WRCRM94*^A-1

	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
		
	echo "Done." |tee -a grant$1.err >> grant$1.out;;      
     
     5xx00)
	# remove obsolete reports (tsg 1333990)
	
        ./delObj "permissiongroupid=delete546" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
        
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
     
     Acc27310)

	# grant new NRTRDE permissions to Syniverse users and roles
	EXISTING_ID=ACC_Prod-NRTRDE^A-1
	ID1=ACC_Rpt-NRTRM016^A-1
			
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	# grant the reports to Syniverse users and roles with MessageManager^MD-1 report permission
	EXISTING_ID=MMS^MM-1
	ID1=ACC_Rpt-SMSIM020^A-1
	ID2=ACC_Rpt-SMSID020^A-1
	ID3=MD_SMS_GATEWAY^MD-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Acc27300)
	# grant ACC_Rpt-WRGRD012 to Syniverse users with existing UniRoam reports
	EXISTING_ID=ACC_Rpt-WRG*
	ID1=ACC_Rpt-WRGRD012^A-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;
     
     54500)
	# delete old permissions (RAEX_View_AA14,RAEX_Update_AA14,RAEX_Download_XML)
	# remove obsolete reports (WBRRD971,WBRRD1011)
	
        ./delObj "permissiongroupid=delete" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
        
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

   SR84979)
	# Remove WBRRD971 and WBRRD1011 from all companies, users, roles, and groups
	EXISTING_ID=ACC_Rpt-WBRRD971^A-1

	./multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	EXISTING_ID=ACC_Rpt-WBRRD1011^A-1

	./multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

OC_RH_M2L)
	# update users/roles/groups with new RAEX permissions if they have the old RAEX permissions
	# then delete the old permission

	EXISTING_ID=RAEX_View_AA14^RAEX
	ID1=RAEX_aa14_view^RAEX

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	EXISTING_ID=RAEX_Update_AA14^RAEX
	ID1=RAEX_aa14_update^RAEX

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	EXISTING_ID=RAEX_Download_XML^RAEX
	ID1=RAEX_xml_download^RAEX

	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	
	#remove RMS productspecificid RMS from carriers that have RAEX_Standalone_Co
	
	EXISTING_ID=RAEX_Standalone_Co^RAEX
	ID1=RMS

	./multiAttrDel "(&(productspecificid=${ID1})(permissionid=${EXISTING_ID}))" "ou=carriers,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	
	#remove RMS permissions from users that have RAEX
	
	EXISTING_ID=RAEX^RAEX
	ID1=rms_aa14_view^RMS
	ID2=rms_aa14_update^RMS
	ID3=rms_xml_download^RMS
	
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" 1>>grant$1.out 2>>grant$1.err;
		
	#remove RMS productspecificid from users that have RAEX
	
	EXISTING_ID=RAEX^RAEX
	ID1=RMS
		
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
		
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

BillRevShare_ACC_Perm)
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=roles,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=carriers,o=crossroads" permissionid "SMSIG-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=roles,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM011^A-1)" "ou=carriers,o=crossroads" permissionid "OCSMS-SMSIM011^A-1" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=people,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=roles,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=carriers,o=crossroads" permissionid "SMSIG-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=people,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "((permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=roles,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)^R)" "ou=UserGroup,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_Rpt-SMSIM012^A-1)" "ou=carriers,o=crossroads" permissionid "OCSMS-SMSIM012^A-1" 1>>grant$1.out 2>>grant$1.err;
	
echo "Done." |tee -a grant$1.err >> grant$1.out;;
   		  
ANZ_NEXT)
	# update analyzer permissions for syniverse
	java $JVMOPTION UpdateAnzCo "carrieruid=57" "ANZ_SA_155" "155" "" "MD-1" "AMH" 1>>grant$1.out 2>>grant$1.err;
	
	# Include implied perms for syniverse
	java multiAttrAdd "(carrieruid=57)" "ou=carriers,o=crossroads" permissionid "NEXT_Business_Analytics^MD-1" "NEXTAnalyzerLicense^NEXTAnalyzerLicense" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(carrieruid=57)" "ou=carriers,o=crossroads" productspecificid "NEXTAnalyzerLicense" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

MDR_Block)
	# grant new MDR_HRB_View permission to Syniverse users with  ny other MDR_ permission
	
	EXISTING_ID=MDR_*
	ID1=MDR_HRB_View^MD-1
	ID2=MDR_HRB^HRBServer
        PRODID=HRBServer
			
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID})(!(permissionid=${ID1}^R)))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${ID2}*))" "ou=people,o=crossroads" productspecificid "${PRODID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${ID2}*))" "ou=roles,o=crossroads" productspecificid "${PRODID}" 1>>grant$1.out 2>>grant$1.err;
	
	 
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID})(!(permissionid=${ID1}^R)))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

ANZSMSIG)
	# grant new Business_Analytics permission to Syniverse users with the NextGenServer permission
	
	#EXISTING_ID=NextGenServer^NextGenServer
	#ID1=SMSIG_Business_Analytics^MD-1
	#ID2=BusinessAnalyticsServer^BusinessAnalyticsServer
			
	#java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	#java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	 
	#ID1="NextGenServer"
        #ID2="BusinessAnalyticsServer"
        #./multiAttrAdd "(&(carrieruid=57)(productspecificid=${ID1})(!(productspecificid=${ID2})))" "ou=people,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
        #./multiAttrDel "(&(carrieruid=57)(productspecificid=${ID1}))" "ou=people,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        #./multiAttrAdd "(&(carrieruid=57)(productspecificid=${ID1})(!(productspecificid=${ID2})))" "ou=roles,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;
        #./multiAttrDel "(&(carrieruid=57)(productspecificid=${ID1}))" "ou=roles,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	# Remove the Demo from Syniverse users
	ID1="NextGenServer^NextGenServer"	
	ID2=SMSIG_Demo_Next_Gen^MD-1
	java multiAttrDel "(&(carrieruid=57)(permissionid=${ID1})(permissionid=${ID2}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(carrieruid=57)(permissionid=${ID1}^R)(permissionid=${ID2}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    ANZSMS_ADD)
	# grant certain companies the new analyzer sms permissions

	java $JVMOPTION UpdateAnzCo "(carrieruid=AD-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "(carrieruid=6)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=AS-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BM-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BDCL_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=21)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=22)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=23)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CCLP3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=27)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=36)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=COOSLO_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CC-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=QCG-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CA-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=45)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MW3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=47)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DT0_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=WEWL_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ETC_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FSW-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=HS_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=IWSL-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=70)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CWC_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=KTBVN6_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=74)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=55)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=82)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=86)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=NW4-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ODCI_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=100)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=P-3)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=101)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=103)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PH_-2)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=113)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=117)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=RS-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SL_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SW-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=128)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TC_-4)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=142)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=147)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CD6_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=102)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ZLAI3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=T-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=C-6)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=2OL3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CONEC-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=97)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=C-8)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=WC-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=YC3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MLdCG3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GNS3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BTW3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=49)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=105)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=104)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=32)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=12)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=90)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=T1AL3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CW3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TCG-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TdES_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CB3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=2)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=EC4_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BTC-2)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BP_-2)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=IWI3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=LNST6_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BLEW3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FWES-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PS3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CPL_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MSVL3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=AW3_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CTORD4_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=E6_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SL3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ITL3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=V3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FWDC3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PF3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BCVDSP3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DJ_-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GCC3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=37)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CT-4)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ONI3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DTMI3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GSN0-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=YCNL3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=HW3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GI3-1)" "ANZ_SA_144" "144" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "(carrieruid=AD-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "(carrieruid=6)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=AS-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BM-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BDCL_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=21)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=22)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=23)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CCLP3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=27)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=36)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=COOSLO_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CC-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=QCG-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CA-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=45)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MW3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=47)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DT0_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=WEWL_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ETC_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FSW-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=HS_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=IWSL-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=70)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CWC_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=KTBVN6_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=74)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=55)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=82)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=86)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=NW4-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ODCI_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=100)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=P-3)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=101)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=103)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PH_-2)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=113)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=117)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=RS-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SL_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SW-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=128)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TC_-4)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=142)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=147)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CD6_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=102)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ZLAI3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=T-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=C-6)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=2OL3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CONEC-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=97)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=C-8)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=WC-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=YC3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MLdCG3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GNS3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BTW3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=49)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=105)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=104)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=32)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=12)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=90)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=T1AL3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CW3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TCG-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TdES_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CB3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=2)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=EC4_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BTC-2)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BP_-2)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=IWI3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=LNST6_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BLEW3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FWES-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PS3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CPL_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MSVL3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=AW3_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CTORD4_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=E6_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SL3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ITL3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=V3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FWDC3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PF3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BCVDSP3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DJ_-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GCC3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=37)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CT-4)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ONI3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DTMI3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GSN0-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=YCNL3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=HW3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GI3-1)" "ANZ_SA_148_Co" "148" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "(carrieruid=AD-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "(carrieruid=6)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=AS-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BM-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BDCL_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=21)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=22)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=23)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CCLP3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=27)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=36)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=COOSLO_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CC-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=QCG-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CA-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=45)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MW3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=47)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DT0_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=WEWL_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ETC_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FSW-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=HS_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=IWSL-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=70)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CWC_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=KTBVN6_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=74)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=55)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=82)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=86)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=NW4-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ODCI_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=100)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=P-3)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=101)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=103)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PH_-2)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=113)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=117)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=RS-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SL_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SW-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=128)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TC_-4)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=142)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=147)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CD6_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=102)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ZLAI3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=T-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=C-6)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=2OL3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CONEC-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=97)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=C-8)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=WC-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=YC3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MLdCG3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GNS3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BTW3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=49)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=105)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=104)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=32)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=12)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=90)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=T1AL3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CW3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TCG-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=TdES_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CB3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=2)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=EC4_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BTC-2)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BP_-2)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=IWI3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=LNST6_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BLEW3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FWES-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PS3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CPL_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=MSVL3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=AW3_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CTORD4_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=E6_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=SL3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ITL3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=V3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=FWDC3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=PF3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=BCVDSP3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DJ_-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GCC3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=37)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=CT-4)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=ONI3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=DTMI3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GSN0-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=YCNL3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=HW3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "(carrieruid=GI3-1)" "ANZ_SA_149_Co" "149" "" "MD-1" "SMS" 1>>grant$1.out 2>>grant$1.err;

	#Grant 10 licenses to the carriers
	./modLDAPAttr "permissionid=ANZ_SA_144^MD-1" "ou=carriers,o=crossroads" smsiganalyzerlicense 10 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "permissionid=ANZ_SA_144^MD-1" "ou=carriers,o=crossroads" permissionid "ACC_Function_917^A-1" "SMSIGAnalyzerLicense^SMSIGAnalyzerLicense" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrAdd "permissionid=ANZ_SA_144^MD-1" "ou=carriers,o=crossroads" productspecificid "SMSIGAnalyzerLicense" 1>>grant$1.out 2>>grant$1.err;


	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    ANZSMS_REMOVEOLD)
	# remove the old permissions since users will use the new analyzer sms reports
	#java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Msg_Sum^MD-1)(permissionid=SMSIG_Failure^MD-1)(permissionid=SMSIG_Annual_Sum^MD-1)(permissionid=SMSIG_Regional_Sub^MD-1)(permissionid=MMS_MsgVol^MD-1)(permissionid=MMS_GSM_Msg_Vol_Rpt^MD-1)))" "ou=carriers,o=crossroads" permissionid "SMSIG_Msg_Sum^MD-1" "SMSIG_Failure^MD-1" "SMSIG_Annual_Sum^MD-1" "SMSIG_Regional_Sub^MD-1" "MMS_MsgVol^MD-1" "MMS_GSM_Msg_Vol_Rpt^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Sum_Fail_Co^MD-1)(permissionid=SMSIG_Regional_Sub_Co^MD-1)))" "ou=carriers,o=crossroads" permissionid "SMSIG_Sum_Fail_Co^MD-1" "SMSIG_Regional_Sub_Co^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Msg_Sum^MD-1)(permissionid=SMSIG_Failure^MD-1)(permissionid=SMSIG_Annual_Sum^MD-1)(permissionid=SMSIG_Regional_Sub^MD-1)(permissionid=MMS_MsgVol^MD-1)(permissionid=MMS_GSM_Msg_Vol_Rpt^MD-1)))" "ou=people,o=crossroads" permissionid "SMSIG_Msg_Sum^MD-1" "SMSIG_Failure^MD-1" "SMSIG_Annual_Sum^MD-1" "SMSIG_Regional_Sub^MD-1" "MMS_MsgVol^MD-1" "MMS_GSM_Msg_Vol_Rpt^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Msg_Sum^MD-1^R)(permissionid=SMSIG_Failure^MD-1^R)(permissionid=SMSIG_Annual_Sum^MD-1^R)(permissionid=SMSIG_Regional_Sub^MD-1^R)(permissionid=MMS_MsgVol^MD-1^R)(permissionid=MMS_GSM_Msg_Vol_Rpt^MD-1^R)))" "ou=people,o=crossroads" permissionid "SMSIG_Msg_Sum^MD-1^R" "SMSIG_Failure^MD-1^R" "SMSIG_Annual_Sum^MD-1^R" "SMSIG_Regional_Sub^MD-1^R" "MMS_MsgVol^MD-1^R" "MMS_GSM_Msg_Vol_Rpt^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Msg_Sum^MD-1^R)(permissionid=SMSIG_Failure^MD-1^R)(permissionid=SMSIG_Annual_Sum^MD-1^R)(permissionid=SMSIG_Regional_Sub^MD-1^R)(permissionid=MMS_MsgVol^MD-1^R)(permissionid=MMS_GSM_Msg_Vol_Rpt^MD-1^R)))" "ou=roles,o=crossroads" permissionid "SMSIG_Msg_Sum^MD-1^R" "SMSIG_Failure^MD-1^R" "SMSIG_Annual_Sum^MD-1^R" "SMSIG_Regional_Sub^MD-1^R" "MMS_MsgVol^MD-1^R" "MMS_GSM_Msg_Vol_Rpt^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Msg_Sum^MD-1)(permissionid=SMSIG_Failure^MD-1)(permissionid=SMSIG_Annual_Sum^MD-1)(permissionid=SMSIG_Regional_Sub^MD-1)(permissionid=MMS_MsgVol^MD-1)(permissionid=MMS_GSM_Msg_Vol_Rpt^MD-1)))" "ou=UserGroup,o=crossroads" permissionid "SMSIG_Msg_Sum^MD-1" "SMSIG_Failure^MD-1" "SMSIG_Annual_Sum^MD-1" "SMSIG_Regional_Sub^MD-1" "MMS_MsgVol^MD-1" "MMS_GSM_Msg_Vol_Rpt^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(|(permissionid=SMSIG_Msg_Sum^MD-1^R)(permissionid=SMSIG_Failure^MD-1^R)(permissionid=SMSIG_Annual_Sum^MD-1^R)(permissionid=SMSIG_Regional_Sub^MD-1^R)(permissionid=MMS_MsgVol^MD-1^R)(permissionid=MMS_GSM_Msg_Vol_Rpt^MD-1^R)))" "ou=UserGroup,o=crossroads" permissionid "SMSIG_Msg_Sum^MD-1^R" "SMSIG_Failure^MD-1^R" "SMSIG_Annual_Sum^MD-1^R" "SMSIG_Regional_Sub^MD-1^R" "MMS_MsgVol^MD-1^R" "MMS_GSM_Msg_Vol_Rpt^MD-1^R" 1>>grant$1.out 2>>grant$1.err;

	# Only remove MMUAA if they don't have WLNP_UAA.
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=MMUAA^MM-1)(!(permissionid=WLNP_UAA*)))" "ou=carriers,o=crossroads" permissionid "MMUAA^MM-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=MMUAA^MM-1)(!(permissionid=WLNP_UAA*)))" "ou=people,o=crossroads" permissionid "MMUAA^MM-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=MMUAA^MM-1^R)(!(permissionid=WLNP_UAA*)))" "ou=people,o=crossroads" permissionid "MMUAA^MM-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=MMUAA^MM-1^R)(!(permissionid=WLNP_UAA*)))" "ou=roles,o=crossroads" permissionid "MMUAA^MM-1^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=MMUAA^MM-1)(!(permissionid=WLNP_UAA*)))" "ou=UserGroup,o=crossroads" permissionid "MMUAA^MM-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(permissionid=MMUAA^MM-1^R)(!(permissionid=WLNP_UAA*)))" "ou=UserGroup,o=crossroads" permissionid "MMUAA^MM-1^R" 1>>grant$1.out 2>>grant$1.err;

	# add companytype to user permssions MMS_MsgVol and MMS_GSM_Msg_Vol_Rpt
	./multiAttrAdd "permissionid=MMS_MsgVol" "ou=Permissioncode,o=crossroads" companytype admin 1>>grant$1.out 2>>grant$
	./multiAttrAdd "permissionid=MMS_GSM_Msg_Vol_Rpt" "ou=Permissioncode,o=crossroads" companytype admin 1>>grant$1.out 2>>grant$
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

FOM408)
	# grant new Sup Port Request  permission to non-Syniverse users and roles
	EXISTING_ID=TPI_Port_Request^LNP
        ID1=TPI_Sup_Port_Request^LNP
			
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID})(!(permissionid=${ID1})))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R)(!(permissionid=${ID1})^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R)(!(permissionid=${ID1})^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID})(!(permissionid=${ID1})))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R)(!(permissionid=${ID1})^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
        echo "Done." |tee -a grant$1.err >> grant$1.out;;


     Anz32900)
        java $JVMOPTION UpdateAnzCo "(|(carrieruid=L-2)(carrieruid=MR_-2)(carrieruid=VA0_-1)(carrieruid=VA_-1)(carrieruid=VCRas6_-1)(carrieruid=VF3-1)(carrieruid=VG6_-1)(carrieruid=VGSL3_-1)(carrieruid=VG_-2)(carrieruid=VH_-1)(carrieruid=VI_-1)(carrieruid=VL-1)(carrieruid=VL3_-1)(carrieruid=VMM-1)(carrieruid=VMMB-1)(carrieruid=VNZL6_-1)(carrieruid=VONV6_-1)(carrieruid=VP_-2)(carrieruid=VS6_-1)(carrieruid=VT3_-1)(carrieruid=VTCE_-1))" "ANZ_SA_137" "137" "_EU" "A-1" 1>>grant$1.out 2>>grant$1.err;

        java $JVMOPTION UpdateAnzCo "(|(carrieruid=L-2)(carrieruid=MR_-2)(carrieruid=VA0_-1)(carrieruid=VA_-1)(carrieruid=VCRas6_-1)(carrieruid=VF3-1)(carrieruid=VG6_-1)(carrieruid=VGSL3_-1)(carrieruid=VG_-2)(carrieruid=VH_-1)(carrieruid=VI_-1)(carrieruid=VL-1)(carrieruid=VL3_-1)(carrieruid=VMM-1)(carrieruid=VMMB-1)(carrieruid=VNZL6_-1)(carrieruid=VONV6_-1)(carrieruid=VP_-2)(carrieruid=VS6_-1)(carrieruid=VT3_-1)(carrieruid=VTCE_-1))" "ANZ_SA_150" "150" "_EU" "A-1" 1>>grant$1.out 2>>grant$1.err;
        echo "Done." |tee -a grant$1.err >> grant$1.out;;


     Acc27010)

	# remove NRTRD017 from carriers except Syniverse and Proximus (BMP6_-1)
	EXISTING_ID=ACC_Rpt-NRTRD017^A-1
	ID1=ACC_Rpt-NRTRD017^A-1
	
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(permissionid=${EXISTING_ID}))" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
 
	# remove NRTRD017 from all users except Syniverse and Proximus (BMP6_-1)
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(permissionid=${EXISTING_ID}))" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(!(carrieruid=57))(!(carrieruid=BMP6_-1))(permissionid=${EXISTING_ID}^R))" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
		
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	
	Acc27710)

	# grant SMSIG_SERD001 permission to all the users that have ACC_Rpt_SMSIGD01
	EXISTING_ID=ACC_Rpt-SMSIGD01^MD-1 
	ID1=SMSIG_SERD001^MD-1
	ID2=ACC_Rpt-SERSD001^MD-1 
			java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

	# grant SMSOC_SERD001 permission to all the users that have OCSMS_Settlement_Rpts
	EXISTING_ID=OCSMS_Settlement_Rpts^MD-1 
	ID1=SMSOC_SERD001^MD-1 
	ID2=ACC_Rpt-SERSD001^MD-1 
			java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

    nrtrm018_all)

	# grant new NRTRDE permissions to carriers with ACC_Near_RealTime_Co.
	# This is done after removing allowedco from the user and company permissions
	EXISTING_ID=ACC_Near_RealTime_Co^A-1
	ID1=ACC_Rpt-NRTRM018^A-1
	ID2=ACC_NRTRM018_Co^A-1
	
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     INDIA2)
java multiAttrDel "(&(carrieruid=VEE4-1)(permissionid=RMS_SIM_Reporting*))"  "ou=people,o=crossroads" permissionid RMS_SIM_Reporting^RMS ACC_Rpt-WBRRD640^RMS ACC_Rpt-WBRRD641^RMS ACC_Rpt-WBRRD644^RMS ACC_Prod-RMS_TEST_SIM^AccServer
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Acc27100)
	# grant ACC_Rpt-MDRTM001 to companies with TDS_Data_Co permission
	EXISTING_ID=TDS_Data_Co^MD-1
	ID1=ACC_Rpt-MDRTM001^MD-1

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	# grant ACC_Rpt-MDRTM001 to Syniverse users with any MDRTD report permission
	EXISTING_ID=ACC_Rpt-MDRTD*^MD-1
	ID1=ACC_Rpt-MDRTM001^MD-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	# grant ACC_Rpt-MDRTM001 to Syniverse users and roles with MD_AA19_Reports^MD-1 report permission
	EXISTING_ID=MD_AA19_Reports^MD-1
	ID1=ACC_Rpt-SMSIM016^A-1
	ID2=ACC_Rpt-SMSIM017^A-1
	ID3=ACC_Rpt-SMSIM018^A-1
	ID4=ACC_Rpt-SMSIM019^A-1
	ID5=MD_SMS_AA19^MD-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" "${ID5}^R" 1>>grant$1.out 2>>grant$1.err;
	
	# grant new NRTRDE permissions to Syniverse users and roles
	EXISTING_ID=ACC_Prod-NRTRDE^A-1
	ID1=ACC_Rpt-NRTRM018^A-1
	ID2=ACC_NRTRM018^A-1
		
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	# for systems test - adding new permissions since they already have the report:	
	EXISTING_ID=ACC_Rpt-NRTRM018^A-1
	ID1=ACC_NRTRM018_Co^A-1
	
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	EXISTING_ID=ACC_Rpt-NRTRM018^A-1
	ID1=ACC_NRTRM018^A-1
	
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	# =================================================================

	# grant new Ancillary Billing Report permissions to Syniverse users 
	EXISTING_ID=STARS-1
	ID1=ACC_Rpt-STARSM01^BR-1
	#ID2=ACC_Prod-STARS^A-1
	ID3=Acc_Std_Rpt_Download^AccServer
	ID4=AccServer^AccServer
	ID5=ACC_Function_15^A-1
	ID6=AccNA^AccNA
		
	java multiAttrAdd "(&(carrieruid=57)(productspecificid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" 1>>grant$1.out 2>>grant$1.err;
	
	ID1=ACC_Rpt-WLNPM005^BR-1
	#ID2=ACC_Prod-WLNP^A-1
	ID3=Acc_Std_Rpt_Download^AccServer
	ID4=AccServer^AccServer
	ID5=ACC_Function_15^A-1
	ID6=AccNA^AccNA
		
	java multiAttrAdd "(&(carrieruid=57)(|(productspecificid=WLNP)(productspecificid=W-1)))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" 1>>grant$1.out 2>>grant$1.err;

	ID1=ACC_Rpt-SMSIGM02^BR-1
	#ID2=ACC_Prod-SMSIG^A-1
	ID3=Acc_Std_Rpt_Download^AccServer
	ID4=AccServer^AccServer
	ID5=ACC_Function_15^A-1
	ID6=AccNA^AccNA
	ID7=Acc_Std_Rpt^A-1
 
		
	java multiAttrAdd "(&(carrieruid=57)(permissionid=ACC_Prod-MESSAGE*))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" 1>>grant$1.out 2>>grant$1.err;

	./multiAttrDel "(&(carrieruid=57)(permissionid=${ID3})(permissionid=${ID3}^R))" "ou=people,o=crossroads" permissionid "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(&(carrieruid=57)(permissionid=${ID4})(permissionid=${ID4}^R))" "ou=people,o=crossroads" permissionid "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(&(carrieruid=57)(permissionid=${ID5})(permissionid=${ID5}^R))" "ou=people,o=crossroads" permissionid "${ID5}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(&(carrieruid=57)(permissionid=${ID6})(permissionid=${ID6}^R))" "ou=people,o=crossroads" permissionid "${ID6}" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(&(carrieruid=57)(permissionid=${ID7})(permissionid=${ID7}^R))" "ou=people,o=crossroads" permissionid "${ID7}" 1>>grant$1.out 2>>grant$1.err;
         ID=Acc_Std_Rpt_Download
	./multiAttrAdd "(&(carrieruid=57)(permissionid=${ID}^A-1)(!(permissionid=${ID}^AccServer^R)))" "ou=people,o=crossroads" permissionid "${ID}^AccServer" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrDel "(&(carrieruid=57)(permissionid=${ID}^A-1))" "ou=people,o=crossroads" permissionid "${ID}^A-1" 1>>grant$1.out 2>>grant$1.err;


	EXISTING_ID1=ACC_Rpt-SMSIGM02^BR-1
	EXISTING_ID2=ACC_Rpt-WLNPM005^BR-1
	EXISTING_ID3=ACC_Rpt-STARSM01^BR-1
	ID1=A-1
	ID2=AccServer
	ID3=AccNA
		
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})))" "ou=people,o=crossroads" productspecificid "${ID1}" "${ID2}" "${ID3}"  1>>grant$1.out 2>>grant$1.err;

        # remove obsolete reports
        ./delObj "permissiongroupid=delete" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
 
        echo "Done." |tee -a grant$1.err >> grant$1.out;;

     Acc27000)
	# Remove Obsolete National Roaming Reports from all carriers, users, groups, and roles
	ID1=ACC_Rpt-WBRWD934^A-1
	ID2=ACC_Rpt-WBRWD943^A-1
	ID3=ACC_Rpt-WBRWD944^A-1
	ID4=ACC_Rpt-WBRWM944^A-1
	ID5=ACC_Rpt-WBRWD945^A-1
	ID6=ACC_Rpt-WBRWM945^A-1
	ID7=ACC_Rpt-WBRWD947^A-1
	ID8=ACC_Rpt-WBRWM947^A-1

	java multiAttrDel "(|(permissionid=${ID1}) (permissionid=${ID2}) (permissionid=${ID3}) (permissionid=${ID4}) (permissionid=${ID5}) (permissionid=${ID6}) (permissionid=${ID7}) (permissionid=${ID8}))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "(|(permissionid=${ID1}) (permissionid=${ID2}) (permissionid=${ID3}) (permissionid=${ID4}) (permissionid=${ID5}) (permissionid=${ID6}) (permissionid=${ID7}) (permissionid=${ID8}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "(|(permissionid=${ID1}) (permissionid=${ID2}) (permissionid=${ID3}) (permissionid=${ID4}) (permissionid=${ID5}) (permissionid=${ID6}) (permissionid=${ID7}) (permissionid=${ID8}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;

       ID1=${ID1}^R
       ID2=${ID2}^R
       ID3=${ID3}^R
       ID4=${ID4}^R
       ID5=${ID5}^R
       ID6=${ID6}^R
       ID7=${ID7}^R
       ID8=${ID8}^R
	java multiAttrDel "(|(permissionid=${ID1}) (permissionid=${ID2}) (permissionid=${ID3}) (permissionid=${ID4}) (permissionid=${ID5}) (permissionid=${ID6}) (permissionid=${ID7}) (permissionid=${ID8}))" "ou=roles,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "(|(permissionid=${ID1}) (permissionid=${ID2}) (permissionid=${ID3}) (permissionid=${ID4}) (permissionid=${ID5}) (permissionid=${ID6}) (permissionid=${ID7}) (permissionid=${ID8}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "(|(permissionid=${ID1}) (permissionid=${ID2}) (permissionid=${ID3}) (permissionid=${ID4}) (permissionid=${ID5}) (permissionid=${ID6}) (permissionid=${ID7}) (permissionid=${ID8}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" 1>>grant$1.out 2>>grant$1.err;


	# grant ACC_Rpt-AAAWD001 and ACC_Rpt-AAAWM001 to companies with ACC_Customer_Type_Uniroam permission
	EXISTING_ID=ACC_Customer_Type_Uniroam^A-1
	ID1=ACC_Rpt-AAAWD001^A-1
	ID2=ACC_Rpt-AAAWM001^A-1

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;

	# grant EVNTD010,EVNTD012,EVNTD013 to companies with MDR_Event_Clearing_Co, 
	# MDR_Access_Clearing_Co, or MDR_AccessSE_Clearing_Co permission
	EXISTING_ID1=MDR_Event_Clearing_Co^MD-1
	EXISTING_ID2=MDR_Access_Clearing_Co^MD-1
	EXISTING_ID3=MDR_AccessSE_Clearing_Co^MD-1

	ID1=ACC_Rpt-EVNTD010^A-1
	ID2=ACC_Rpt-EVNTD012^A-1
	ID3=ACC_Rpt-EVNTD013^A-1

	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3}))" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
	
	# grant Acc_FOD_GSM permission to all companies and Users that have Acc_FOD
	EXISTING_ID=Acc_FOD^A-1
	ID1=Acc_FOD_GSM^A-1

	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "permissionid=${EXISTING_ID}^R" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

	# grant new BHMRM001 permissions to Syniverse users 
	EXISTING_ID=MDR_*
	ID1=ACC_Rpt-BHMRM001^MD-1
	ID2=ACC_Prod-MDR^A-1
	ID3=AccNA^AccNA
	ID4=AccServer^AccServer
	ID5=Acc_Std_Rpt^A-1
	ID6=Acc_Std_Rpt_Download^A-1
	ID7=ACC_Function_15^A-1
	ID8=ACC_Rpt-BHMRD001^MD-1
	ID9=MDR_Block_Rpts^MD-1
			
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" "${ID5}" "${ID6}" "${ID7}" "${ID8}" "${ID9}" 1>>grant$1.out 2>>grant$1.err;
	
	# grant products associated with BHMRM001 permissions to Syniverse users 
	EXISTING_ID=ACC_Rpt-BHMRM001^MD-1
	ID1=A-1
	ID2=AccNA
	ID3=AccServer
			
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" productspecificid "${ID1}" "${ID2}" "${ID3}" 1>>grant$1.out 2>>grant$1.err;
        echo "Done." |tee -a grant$1.err >> grant$1.out;;




 CDMA_FNS_P2)
	# grant new ACC_Prod-FSS permission to Syniverse users ,roles, and groups that have CHARM773
        EXISTING_ID=ACC_Rpt-CHARM773^A-1
	ID1=ACC_Prod-FSS^A-1
       
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	# grant new ACC_Prod-FSS permission to Non-Syniverse users ,roles, and groups that have CHARM773
        EXISTING_ID=ACC_Rpt-CHARM773^A-1
        ID1=ACC_Prod-FSS^A-1

	java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(!(carrieruid=57))(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

MDR_Health)

         echo "# Replace AAA Metrics with MDR Health permission for companies: "|tee -a grant$1.err >> grant$1.out;

         EXISTING_ID=MDR_AAA_Metrics_Co^MD-1
         ID1=MDR_Health_Co^MD-1
         
         java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid ${ID1} 1>>grant$1.out 2>>grant$1.err;
         
         java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid ${EXISTING_ID} 1>>grant$1.out 2>>grant$1.err;
         
         echo "# Replace AAA Metrics with MDR Health permissions for users: "|tee -a grant$1.err >> grant$1.out;


         echo "# users with role permission "|tee -a grant$1.err >> grant$1.out;
         EXISTING_ID=MDR_AAA_Metrics^MD-1^R
         ID1=MDR_Health^MD-1^R
         
         java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid ${ID1} 1>>grant$1.out 2>>grant$1.err;
         
         java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid ${EXISTING_ID} 1>>grant$1.out 2>>grant$1.err;
         
         echo "# users with non-role permission "|tee -a grant$1.err >> grant$1.out;
         EXISTING_ID=MDR_AAA_Metrics^MD-1
         ID1=MDR_Health^MD-1
         
         java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid ${ID1} 1>>grant$1.out 2>>grant$1.err;
                  
         java multiAttrDel "permissionid=${EXISTING_ID}" "ou=people,o=crossroads" permissionid ${EXISTING_ID} 1>>grant$1.out 2>>grant$1.err;
         
         echo "# Replace AAA Metrics with MDR Health permissions for roles: "|tee -a grant$1.err >> grant$1.out;
         EXISTING_ID=MDR_AAA_Metrics^MD-1^R
         ID1=MDR_Health^MD-1^R
         
         java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=roles,o=crossroads" permissionid ${ID1} 1>>grant$1.out 2>>grant$1.err;
         
         java multiAttrDel "permissionid=${EXISTING_ID}" "ou=roles, o=crossroads" permissionid ${EXISTING_ID} 1>>grant$1.out 2>>grant$1.err;
         
         echo "# Replace AAA Metrics with MDR Health permissions for user groups: "|tee -a grant$1.err >> grant$1.out;

         echo "# user groups with role permission "|tee -a grant$1.err >> grant$1.out;
         EXISTING_ID=MDR_AAA_Metrics^MD-1^R
         ID1=MDR_Health^MD-1^R
         
         java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=usergroup,o=crossroads" permissionid ${ID1} 1>>grant$1.out 2>>grant$1.err;
         
         java multiAttrDel "permissionid=${EXISTING_ID}" "ou=usergroup,o=crossroads" permissionid ${EXISTING_ID} 1>>grant$1.out 2>>grant$1.err;
         
         echo "# users with non-role permission "|tee -a grant$1.err >> grant$1.out;
         EXISTING_ID=MDR_AAA_Metrics^MD-1
         ID1=MDR_Health^MD-1
         
         java multiAttrAdd "permissionid=${EXISTING_ID}" "ou=usergroup,o=crossroads" permissionid ${ID1} 1>>grant$1.out 2>>grant$1.err;
         
         java multiAttrDel "permissionid=${EXISTING_ID}" "ou=usergroup,o=crossroads" permissionid ${EXISTING_ID} 1>>grant$1.out 2>>grant$1.err;
                  

	         echo "Done." |tee -a grant$1.err >> grant$1.out;;

AAA_Metrics)
# grant new AAA Metrics permission to all Syniverse MDR roles
ID=MDR_*_Clearing^MD-1
ID2=MDR_CSR_*
ID3=MDR_*_Profile^MD-1
ID4=MDR_*_Pub_Rates^MD-1
ID5=MDR_*_Rate_Plans^MD-1
ID6=MDR_Hotspot^MD-1
ID7=ANZ_MD*^A-1
ID8=MDR_Recon^MD-1
ID9=MDR_CIRA^MD-1
ID10=MDR_CHRA^MD-1

java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${ID}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R)(permissionid=${ID5}^R)(permissionid=${ID6}^R)(permissionid=${ID7}^R)(permissionid=${ID8}^R)(permissionid=${ID9}^R)(permissionid=${ID10}^R)))" "ou=roles,o=crossroads" permissionid MDR_AAA_Metrics^MD-1^R VisGSMServer^VisGSMServer^R 1>>grant$1.out 2>>grant$1.err;

# grant VisGSMServer product to all Syniverse roles that were just assigned the MDR_AAA_Metrics permission
java multiAttrAdd "(&(carrieruid=57)(permissionid=MDR_AAA_Metrics^MD-1^R))" "ou=roles,o=crossroads" productspecificid VisGSMServer 1>>grant$1.out 2>>grant$1.err;

# grant new AAA metrics role permission to all Syniverse users with any MDR Role permissions
java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${ID}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R)(permissionid=${ID5}^R)(permissionid=${ID6}^R)(permissionid=${ID7}^R)(permissionid=${ID8}^R)(permissionid=${ID9}^R)(permissionid=${ID10}^R)))" "ou=people,o=crossroads" permissionid MDR_AAA_Metrics^MD-1^R VisGSMServer^VisGSMServer^R 1>>grant$1.out 2>>grant$1.err;

# grant new AAA metrics permission to all Syniverse MDR users that were not assigned the  MDR_AAA_Metrics role permission
java multiAttrAdd "(&(carrieruid=57)(!(permissionid=MDR_AAA_Metrics^MD-1^R))(|(permissionid=${ID})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4})(permissionid=${ID5})(permissionid=${ID6})(permissionid=${ID7})(permissionid=${ID8})(permissionid=${ID9})(permissionid=${ID10})))" "ou=people,o=crossroads" permissionid MDR_AAA_Metrics^MD-1 VisGSMServer^VisGSMServer 1>>grant$1.out 2>>grant$1.err;

# grant VisGSM Server product to the MDR_AAA_Metrics users
java multiAttrAdd "(&(carrieruid=57)(permissionid=MDR_AAA_Metrics^MD-1*))" "ou=people,o=crossroads" productspecificid VisGSMServer 1>>grant$1.out 2>>grant$1.err;

# cleanup ? delete VisGSMServer non-role permission from any user that ended up with both the role and non-role permission
java multiAttrDel "(&(carrieruid=57)(permissionid=VisGSMServer^VisGSMServer)(permissionid=VisGSMServer^VisGSMServer^R))" "ou=permissioncode,o=crossroads" permissionid VisGSMServer^VisGSMServer

# grant new AAA metrics role permission to all Syniverse user groups with any MDR Role permissions
java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${ID}^R)(permissionid=${ID2}^R)(permissionid=${ID3}^R)(permissionid=${ID4}^R)(permissionid=${ID5}^R)(permissionid=${ID6}^R)(permissionid=${ID7}^R)(permissionid=${ID8}^R)(permissionid=${ID9}^R)(permissionid=${ID10}^R)))" "ou=UserGroup,o=crossroads" permissionid MDR_AAA_Metrics^MD-1^R 1>>grant$1.out 2>>grant$1.err;

# grant new AAA metrics permission to all Syniverse MDR User groups that were not assigned the  MDR_AAA_Metrics role permission
java multiAttrAdd "(&(carrieruid=57)(!(permissionid=MDR_AAA_Metrics^MD-1^R))(|(permissionid=${ID})(permissionid=${ID2})(permissionid=${ID3})(permissionid=${ID4})(permissionid=${ID5})(permissionid=${ID6})(permissionid=${ID7})(permissionid=${ID8})(permissionid=${ID9})(permissionid=${ID10})))" "ou=people,o=crossroads" permissionid MDR_AAA_Metrics^MD-1 1>>grant$1.out 2>>grant$1.err;
        echo "Done." |tee -a grant$1.err >> grant$1.out;;




 SMS_IG)
	# grant new SMSIG permissions to Syniverse users ,roles, and groups
        EXISTING_ID=MMS_MsgVol^MD-1
        ID1=SMSIG_Msg_Sum^MD-1
        ID2=SMSIG_Failure^MD-1
       
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

 SMS_IG_ANNUAL)
	# grant new SMSIG permissions to Syniverse users ,roles, and groups
        EXISTING_ID=SMSIG_Msg_Sum^MD-1
        ID1=SMSIG_Annual_Sum^MD-1
       
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

 SMS_IG_REGIONAL)
         # grant regional subscriber company permission to Syniverse and Telcel 
        ID1=SMSIG_Regional_Sub_Co^MD-1
        java multiAttrAdd "(|(carrieruid=57)(carrieruid=113))" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

	# grant new SMSIG permissions to Syniverse users ,roles, and groups
        EXISTING_ID=SMSIG_Msg_Sum^MD-1
        ID1=SMSIG_Regional_Sub^MD-1
       
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

   TD35_DATANET)

        # grant new NRTRDE permissions to users, roles, and groups that have ACC_Prod-NRTRDE
	EXISTING_ID=ACC_Prod-NRTRDE^A-1
	ID1=TD35_Outsourced_Rpts^A-1
	ID2=ACC_Rpt-NRTRD201^A-1
	ID3=ACC_Rpt-NRTRD202^A-1
	ID4=ACC_Rpt-NRTRD203^A-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;


   SMSIG_SPAM)
	# grant new SMSIG SPAM permissions to Syniverse users ,roles, and groups
        EXISTING_ID1=MMS^MM-1
	EXISTING_ID2=VisGSMServer^VisGSMServer
        ID1=SMSIG_Spam_Reports^MD-1
       
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;

  Roaming_Hub)
	
	# cleanup 
	./delObj "permissionid=GSMAM_View_Hub_Profile_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Create_Hub_Profile_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Modify_Hub_Profile_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Operator_Profile_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Create_Operator_Profile_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Modify_Operator_Profile_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Restrictions_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Rate_Information_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Provision_Operator_Restrictions_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Provision_Rate_Information_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Modify_Agreements_Status_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Operators_List_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Collaboration_View_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Calendar_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Technical_Information_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_Modify_Technical_Information_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	./delObj "permissionid=GSMAM_View_Audit_Logs_ROAMING" "ou=permissioncode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

   Remove_Locator)
		
        # Remove Locator from all companies and users
	ID=ACC_Locator_Co^A-1
	java multiAttrDel "permissionid=${ID}" "ou=carriers,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;

	ID=ANZ_SA_87^A-1
	java multiAttrDel "permissionid=${ID}" "ou=carriers,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}*" "ou=people,o=crossroads" permissionid "${ID}" "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}^R" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrDel "permissionid=${ID}*" "ou=usergroup,o=crossroads" permissionid "${ID}" "${ID}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;



   AGM_OC)
   
        # grant permissions GSMAM_Agreements to users that have GSM_AM_VIEW and GSM_AM_UPDATE
	EXISTING_ID1=GSM_AM_VIEW^Agreement_Management
	EXISTING_ID2=GSM_AM_UPDATE^Agreement_Management
	ID1=GSMAM_Agreements^Agreement_Management
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	
	# grant permissions GSMAM_View_Agreements to users that have GSM_AM_VIEW
	EXISTING_ID=GSM_AM_VIEW^Agreement_Management
	ID1=GSMAM_View_Agreements^Agreement_Management
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	# grant permissions GSMAM_Provision_Agreements to users that have GSM_AM_UPDATE
	EXISTING_ID=GSM_AM_UPDATE^Agreement_Management
	ID1=GSMAM_Provision_Agreements^Agreement_Management
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;

	# grant permissions GSM_AM_Imp_MainLabel to carriers that have GSM_AM^Agreement_Management
	EXISTING_ID=GSM_AM^Agreement_Management
	ID1=GSM_AM_Imp_MainLabel_ROAMING^Agreement_Management
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	
	echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR254177)

	# grant 1DP_Filter_Group_Status_Report_LSR permission to all the Sysniverse Users,roles and groups that have FOM_Monitor_Filter_Group_LSR
	EXISTING_ID=FOM_Monitor_Filter_Group_LSR^FOM_LSR
	ID1=1DP_Filter_Group_Status_Report_LSR^FOM_LSR

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;


echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR256651)

	# grant the company level permission CDMA_SID_BID_Region_Mapping_Co to syniverse and verizon wireless.
	java $JVMOPTION UpdateAnzCo "carrieruid=57" "CDMA_SID_BID_Region_Mapping_Co" "179" "" "P-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "carrieruid=57" "CDMA_SID_BID_Region_Mapping_Co" "179" "_EU" "P-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 
	java $JVMOPTION UpdateAnzCo "carrieruid=17" "CDMA_SID_BID_Region_Mapping_Co" "179" "" "P-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 

	# grant CDMA_SID_BID_Region_Mapping_Update permission to all the Sysniverse Users,roles and groups that have National_CNAM_Update
	EXISTING_ID=National_CNAM_Update^P-1
	ID1=CDMA_SID_BID_Region_Mapping_Update^P-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
    
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR279431)
    
    #Assign the implied permission's ACC_Rpt-SOFRM008 to all the companies which already have the ACC_Customer_Type_SOR^WSMS_SOR permission assigned to it.
    
    java multiAttrAdd "(permissionid=ACC_Customer_Type_SOR^WSMS_SOR)" "ou=carriers,o=crossroads" "permissionid" "ACC_Rpt-SOFRM008^AccServer" 1>>grant$1.out 2>>grant$1.err;
    
    #Assign the implied permission's ACC_Rpt-WSMSM008 to all the companies which already have the ACC_Customer_Type_WSMS^A-1 permission assigned to it.
    java multiAttrAdd "(permissionid=ACC_Customer_Type_WSMS^A-1)" "ou=carriers,o=crossroads" "permissionid" "ACC_Rpt-WSMSM008^AccServer" 1>>grant$1.out 2>>grant$1.err;

	# grant ACCESSibility Reports - VAS Virtual Home Environment and  ACCESSibility	Reports - VAS Voicemail 
	# Trombone Elimination to all the Syniverse Users,roles and groups that have ACCESSibility Reports - VAS 
	# Welcome SMS.Also grant the implied permissions only to the users and roles.
	EXISTING_ID=ACC_WSMS^A-1
	ID1=ACC_VHE^A-1
	ID2=ACC_VMTE^A-1
	IMPL_ID1=ACC_Rpt-VHENM005^AccServer
    IMPL_ID2=ACC_Rpt-VHENM008^AccServer
    IMPL_ID3=ACC_Rpt-VMTEM008^AccServer

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${IMPL_ID1}" "${IMPL_ID2}" "${IMPL_ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	# grant ACC_Rpt-WSMSM008^AccServer implied permission to all user's which already have the permission 
	# ACC_WSMS^A-1.
	IMPL_ID4=ACC_Rpt-WSMSM008^AccServer

	java multiAttrAdd "(permissionid=ACC_WSMS^A-1)" "ou=people,o=crossroads" permissionid "${IMPL_ID4}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_WSMS^A-1^R)" "ou=roles,o=crossroads" permissionid "${IMPL_ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_WSMS^A-1^R)" "ou=people,o=crossroads" permissionid "${IMPL_ID4}^R" 1>>grant$1.out 2>>grant$1.err;
	
	# grant ACC_Rpt-SOFRM008^AccServer implied permission to all user's which already have the permission 
	# ACC_SOR^WSMS_SOR.
	IMPL_ID5=ACC_Rpt-SOFRM008^AccServer
	
	java multiAttrAdd "(permissionid=ACC_SOR^WSMS_SOR)" "ou=people,o=crossroads" permissionid "${IMPL_ID5}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_SOR^WSMS_SOR^R)" "ou=roles,o=crossroads" permissionid "${IMPL_ID5}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=ACC_SOR^WSMS_SOR^R)" "ou=people,o=crossroads" permissionid "${IMPL_ID5}^R" 1>>grant$1.out 2>>grant$1.err;
	
	    
	echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR276425)

EXISTING_ID=ACC_Rpt-EVNTD1*^A-1
ID1=ACC_Rpt-EVNTD100^A-1
ID2=ACC_Rpt-EVNTD101^A-1
ID3=ACC_Rpt-EVNTD102^A-1
ID4=ACC_Rpt-EVNTD103^A-1

#Removing all implied permission ids: ACC_Rpt-EVNTD100^A-1, ACC_Rpt-EVNTD101^A-1, ACC_Rpt-EVNTD102^A-1, and ACC_Rpt-EVNTD103^A-1
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;

java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${ID1}" "${ID2}" "${ID3}" "${ID4}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" "${ID3}^R" "${ID4}^R" 1>>grant$1.out 2>>grant$1.err;

#Remove Company and User permission IDs: SNE_RSB_Sponsor_Co^A-1, SNE_RSB_Affiliate_Co^A-1, SNE_RSB_Sponsor^A-1, and SNE_RSB_Affiliate^A-1
EXISTING_ID=SNE_RSB_Sponsor_Co^A-1
java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=SNE_RSB_Affiliate_Co^A-1
java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=SNE_RSB_Sponsor^A-1
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=SNE_RSB_Affiliate^A-1
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

#Remove permisionid ACC_Prod-RSB^A-1 except SNE_RSB_Private^A-1 from roles, groups, and people.
ID=ACC_Prod-RSB^A-1 
ID1=SNE_RSB_Private^A-1
java multiAttrDel "(&(permissionid=${ID})(!(permissionid=${ID1})))" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=people,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=roles,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(&(permissionid=${ID})(!(permissionid=${ID1})))" "ou=UserGroup,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(&(permissionid=${ID}^R)(!(permissionid=${ID1}^R)))" "ou=UserGroup,o=crossroads" permissionid "${ID}^R" 1>>grant$1.out 2>>grant$1.err;

#Add permisionid SNE_RSB_Private^A-1 except ACC_Prod-RSB^A-1 
java multiAttrAdd "(&(permissionid=${ID1})(!(permissionid=${ID})))" "ou=people,o=crossroads" permissionid "${ID}" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR277506)
    
	EXISTING_ID=ANZ_SA_161_Co
	IMPL_ID1=GSM_CDR_PREMIUM
    IMPL_ID2=GSM_CDR_INTERMEDIATE
    IMPL_ID3=GSM_CDR_ENTRY
    
    #Assign the implied permission's GSM_CDR_PREMIUM to all the companies which already have the ANZ_SA_161_Co permission assigned to it.
    
    java multiAttrAdd "(permissionid=${EXISTING_ID}^A-1)" "ou=carriers,o=crossroads" "permissionid" "${IMPL_ID1}^A-1" 1>>grant$1.out 2>>grant$1.err;
    
    #Assign the implied permission's GSM_CDR_INTERMEDIATE and GSM_CDR_BASIC to all the companies which already have the ANZ_SA_161_Co permission assigned to it.
    #Update the Analyzer with the company permission id 183 for North America and Europe.
    #Update the Analyzer with the company permission id 182 for North America and Europe.
    
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID2}" "183" "" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID2}" "183" "_EU" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID3}" "182" "" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID3}" "182" "_EU" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    
    #Update the crossroads and Analyzer with the company permission id 185 for North America and Europe.
	
	java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_ID}^A-1)" "ANZ_SA_185_Co" "185" "" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
	java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_ID}^A-1)" "ANZ_SA_185_Co" "185" "_EU" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
	

	EXISTING_ID=ANZ_SA_161
	IMPL_ID1=ANZ_SA_183
    IMPL_ID2=ANZ_SA_182
    IMPL_ID3=ANZ_SA_183_IMP
    IMPL_ID4=ANZ_SA_182_IMP
    IMPL_ID5=GSM_CDR_ENTRY
	
	#Assign the implied permission's ANZ_SA_182,ANZ_SA_183,ANZ_SA_183_IMP and ANZ_SA_182_IMP to all the user's which already have the ANZ_SA_161 permission assigned to it.
	
	java multiAttrAdd "(permissionid=${EXISTING_ID}^A-1)" "ou=people,o=crossroads" permissionid "${IMPL_ID3}^A-1" "${IMPL_ID4}^A-1" "${IMPL_ID5}^A-1" 1>>grant$1.out 2>>grant$1.err;
		
	#Update the Analyzer with the user permission id 183 for North America and Europe.
    #Update the Analyzer with the user permission id 182 for North America and Europe.
    
	java $JVMOPTION UpdateAnzUser "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID1}" "183" "" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzUser "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID1}" "183" "_EU" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzUser "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID2}" "182" "" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzUser "(permissionid=${EXISTING_ID}^A-1)" "${IMPL_ID2}" "182" "_EU" "A-1" AWOL 1>>grant$1.out 2>>grant$1.err;        	

    EXISTING_ID=ANZ_SA_162
    IMPL_ID=GSM_CDR_ENTRY
    
    #Assign the implied permission's GSM_CDR_ENTRY to all users  that have the ANZ_SA_162 permission assigned.
    
    java multiAttrAdd "(permissionid=${EXISTING_ID}^A-1)" "ou=people,o=crossroads" "permissionid" "${IMPL_ID}^A-1" 1>>grant$1.out 2>>grant$1.err;
	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR292373)

#Delete the attribute impliedpermission from the permissionCode


java multiAttrDel "(impliedpermissionid=ACC_Rpt-NETWD006)" "ou=PermissionCode,o=crossroads" impliedpermissionid "ACC_Rpt-NETWD006" 1>>grant$1.out 2>>grant$1.err;


#Delete the attribute permissionid from the Carrier


java multiAttrDel "(permissionid=ACC_Rpt-NETWD006^A-1)" "ou=Carriers,o=crossroads" permissionid "ACC_Rpt-NETWD006^A-1" 1>>grant$1.out 2>>grant$1.err;


#Delete the attribute permissionid from the People


java multiAttrDel "(permissionid=ACC_Rpt-AGMND002^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-AGMND002^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-CHARMSLC^A-1^R)" "ou=People,o=crossroads" permissionid "ACC_Rpt-CHARMSLC^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD005^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD005^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD009^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD009^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD002^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD002^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-WBRRM619^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-WBRRM619^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD001^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD001^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management^R)" "ou=People,o=crossroads" permissionid "GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD004^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD004^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD008^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD008^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND002^A-1^R)" "ou=People,o=crossroads" permissionid "ACC_Rpt-AGMND002^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD007^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD007^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD003^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD003^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-CHARMSLC^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-CHARMSLC^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND001^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-AGMND001^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD006^A-1)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD006^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management)" "ou=People,o=crossroads" permissionid "GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND001^A-1^R)" "ou=People,o=crossroads" permissionid "ACC_Rpt-AGMND001^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD006^A-1^R)" "ou=People,o=crossroads" permissionid "ACC_Rpt-NETWD006^A-1^R" 1>>grant$1.out 2>>grant$1.err;


#Delete the attribute permissionid from the Roles


java multiAttrDel "(permissionid=GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management^R)" "ou=Roles,o=crossroads" permissionid "GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-CHARMSLC^A-1^R)" "ou=Roles,o=crossroads" permissionid "ACC_Rpt-CHARMSLC^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND002^A-1^R)" "ou=Roles,o=crossroads" permissionid "ACC_Rpt-AGMND002^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD006^A-1^R)" "ou=Roles,o=crossroads" permissionid "ACC_Rpt-NETWD006^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND001^A-1^R)" "ou=Roles,o=crossroads" permissionid "ACC_Rpt-AGMND001^A-1^R" 1>>grant$1.out 2>>grant$1.err;


#Delete the attribute permissionid from the UserGroup


java multiAttrDel "(permissionid=ACC_Rpt-CHARMSLC^A-1^R)" "ou=UserGroup,o=crossroads" permissionid "ACC_Rpt-CHARMSLC^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND002^A-1^R)" "ou=UserGroup,o=crossroads" permissionid "ACC_Rpt-AGMND002^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-CHARMSLC^A-1)" "ou=UserGroup,o=crossroads" permissionid "ACC_Rpt-CHARMSLC^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD006^A-1)" "ou=UserGroup,o=crossroads" permissionid "ACC_Rpt-NETWD006^A-1" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management)" "ou=UserGroup,o=crossroads" permissionid "GSMAM_View_Audit_Logs_ROAMING_HUB^Agreement_Management" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-NETWD006^A-1^R)" "ou=UserGroup,o=crossroads" permissionid "ACC_Rpt-NETWD006^A-1^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ACC_Rpt-AGMND001^A-1^R)" "ou=UserGroup,o=crossroads" permissionid "ACC_Rpt-AGMND001^A-1^R" 1>>grant$1.out 2>>grant$1.err;

#Delete the attribute permissiongroupid for these 4 permission's

java multiAttrDel "(permissionid=GSM_Subscriber_Sum_Report)" "ou=PermissionCode,o=crossroads" permissiongroupid "delete" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=GSM_Subscriber_Sum_Serve)" "ou=PermissionCode,o=crossroads" permissiongroupid "delete" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=GSM_Visitor_Sum_Report)" "ou=PermissionCode,o=crossroads" permissiongroupid "delete" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=GSM_Visitor_Sum_Home)" "ou=PermissionCode,o=crossroads" permissiongroupid "delete" 1>>grant$1.out 2>>grant$1.err;


#Delete the attribute permissionid from the PresentationObjects



#Delete the attribute presentationgroupid from the PresentationObjects


java multiAttrDel "(uid=GSM_Visitor_Summary_by_Home)" "ou=PresentationObjects,o=crossroads" presentationgroupid "GSM_Subscriber_Visitor_Reports_Menu" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=SRH_Breakout)" "ou=PresentationObjects,o=crossroads" presentationgroupid "SRH_Menu" "SRH_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=VRS_Sum)" "ou=PresentationObjects,o=crossroads" presentationgroupid "VRS_Menu" "VRS_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=SRS_Sum)" "ou=PresentationObjects,o=crossroads" presentationgroupid "SRS_Menu" "SRS_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=GSM_Subscriber_Summary_by_Serve)" "ou=PresentationObjects,o=crossroads" presentationgroupid "GSM_Subscriber_Visitor_Reports_Menu" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=SRS_Top10)" "ou=PresentationObjects,o=crossroads" presentationgroupid "SRS_Menu" "SRS_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=GSM_Visitor_Summary_Report)" "ou=PresentationObjects,o=crossroads" presentationgroupid "GSM_Subscriber_Visitor_Reports_Menu" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=SRH_Sum)" "ou=PresentationObjects,o=crossroads" presentationgroupid "SRH_Menu" "SRH_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=VRH_Top10)" "ou=PresentationObjects,o=crossroads" presentationgroupid "VRH_Menu" "VRH_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=VRS_Breakout)" "ou=PresentationObjects,o=crossroads" presentationgroupid "VRS_Menu" "VRS_Menu_Int" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=GSM_Subscriber_Summary_Report)" "ou=PresentationObjects,o=crossroads" presentationgroupid "GSM_Subscriber_Visitor_Reports_Menu" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(uid=VRH_Sum)" "ou=PresentationObjects,o=crossroads" presentationgroupid "VRH_Menu" "VRH_Menu_Int" 1>>grant$1.out 2>>grant$1.err;


#Delete the PresentationObjects from LDAP whose all presentationgroupid's are marked for deletion


./delObj "uid=SRH_Breakout" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRS_Sum" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=SRS_Sum" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=SRH_Sum" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRS_Breakout" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRH_Sum" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;


#Delete the PresentationObjects from LDAP whose presentationgroupid=delete*


./delObj "uid=CCCV" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=SRS_Menu" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=SRH_Menu" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRH_Menu" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRS_Menu" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=Select_GSM_Oper" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=Agreements" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=INF_Interworking_Agreements" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=GSM_Subscriber_Visitor_Reports_Menu" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=Agreements_IW" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=Service_Notices" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=SRS_Menu_Int" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=SRH_Menu_Int" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRH_Menu_Int" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=VRS_Menu_Int" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "uid=RH_Help" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;


#Delete the Permission's from LDAP whose permissiongroupid=delete*


./delObj "permissionid=ACC_Rpt-CHARMSLC" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-AGMND001" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-AGMND002" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCPD002" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCPD003" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCPD004" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCPD005" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCPD006" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRD091" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRD092" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRD094" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM91A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM91B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRD093" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM92B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM93A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM93B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM94A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM94B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRG2D081" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRG2M81B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRM24A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRM24B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRM25A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRM25B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRM28A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRM28B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD001" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD015" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD016" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD018" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD019" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD020" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTD021" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTM27A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRSTM27B" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRG2M81A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRCRM92A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WRGRD01A" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD001" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD002" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD003" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD004" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD005" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD006" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD007" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD008" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-NETWD009" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WBDRM781" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WBRRM619" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WBRRM781" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WBRRD971" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=ACC_Rpt-WBRRD1011" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=GSMAM_View_Audit_Logs_ROAMING_HUB" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=GSMAM_View_Technical_Information_ROAMING_HUB" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=GSMAM_Modify_Technical_Information_ROAMING_HUB" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=MESDM001_Co" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
./delObj "permissionid=MESDM001" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;

./delObj "permissionid=ACC_Rpt-MESDM001" "ou=PermissionCode,o=crossroads" 1>>grant$1.out 2>>grant$1.err;


echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR300971)
   
    #Remove the permission RM_Dashboard_User^MD-1 from the ou=people if the user has both 
    #the RM_Dashboard_Supervisor^MD-1* and RM_Dashboard_User^MD-1 permission's
    
    java multiAttrDel "(&(permissionid=RM_Dashboard_User^MD-1)(permissionid=RM_Dashboard_Supervisor^MD-1*))" "ou=people,o=crossroads" "permissionid" "RM_Dashboard_User^MD-1" 1>>grant$1.out 2>>grant$1.err;
    
    #Remove the permission RM_Dashboard_User^MD-1^R from the ou=people if the user has both 
    #the RM_Dashboard_Supervisor^MD-1* and RM_Dashboard_User^MD-1^R permission's
    
    java multiAttrDel "(&(permissionid=RM_Dashboard_User^MD-1^R)(permissionid=RM_Dashboard_Supervisor^MD-1*))" "ou=people,o=crossroads" "permissionid" "RM_Dashboard_User^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
   
    
    #Remove the permission RM_Dashboard_User^MD-1^R from the ou=roles if the role has both 
    #the RM_Dashboard_Supervisor^MD-1^R and RM_Dashboard_User^MD-1^R permission's
    
    java multiAttrDel "(&(permissionid=RM_Dashboard_User^MD-1^R)(permissionid=RM_Dashboard_Supervisor^MD-1^R))" "ou=roles,o=crossroads" "permissionid" "RM_Dashboard_User^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
    
    #Remove the permission RM_Dashboard_User^MD-1 from the ou=usergroup if the usergroup has both 
    #the RM_Dashboard_Supervisor^MD-1 and RM_Dashboard_User^MD-1 permission's
    
    java multiAttrDel "(&(permissionid=RM_Dashboard_User^MD-1)(permissionid=RM_Dashboard_Supervisor^MD-1*))" "ou=usergroup,o=crossroads" "permissionid" "RM_Dashboard_User^MD-1" 1>>grant$1.out 2>>grant$1.err;
    
    
    #Remove the permission RM_Dashboard_User^MD-1^R from the ou=usergroup if the usergroup has both 
    #the RM_Dashboard_Supervisor^MD-1* and RM_Dashboard_User^MD-1^R permission's
    
    java multiAttrDel "(&(permissionid=RM_Dashboard_User^MD-1^R)(permissionid=RM_Dashboard_Supervisor^MD-1*))" "ou=usergroup,o=crossroads" "permissionid" "RM_Dashboard_User^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
            
    echo "Done." |tee -a grant$1.err >> grant$1.out;;

    
    
SR302816)
   
   
    #Assign the company permission SMS_Peer_Hub_Msg_Vol_Co^MD-1 to the Syniverse company if the Syniverse have SMS_HUB_Co permission.
    EXISTING_ID=SMS_HUB_Co^MD-1
    ID1=SMS_Peer_Hub_Msg_Vol_Co^MD-1
    IMPL_ID1=ACC_Rpt-SMSIM022^A-1
    java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=Carriers,o=crossroads" permissionid "${ID1}" "${IMPL_ID1}" 1>>grant$1.out 2>>grant$1.err;
    
    #Assign the SMS_Peer_Hub_Msg_Vol^MD-1 permission to the syniverse people,roles and groups if 
    #the exisitng permission SMS_HUB_Reports^MD-1 already present.
    #Also Assign the ACC_Rpt-SMSIM022^A-1 implied permission to the syniverse people,roles if 
    #the exisitng permission SMS_HUB_Reports^MD-1 already present.
    EXISTING_ID=SMS_HUB_Reports^MD-1
    ID1=SMS_Peer_Hub_Msg_Vol^MD-1
    java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${IMPL_ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
    
    	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR298012)

    EXISTING_ID=WLNP_FOM_Prd_Imp^FOM_WLNP
    ID1=FOM_Port_Status_Query^FOM
    IMPL_ID1=WLNP_Family^W-1
        
    #Assign the FOM_Port_Status_Query^FOM permission to the syniverse and verizon wireless people,roles if 
    #the exisitng permission WLNP_FOM_Prd_Imp^FOM_WLNP already present.
    #Also Assign the WLNP_Family^W-1 implied permission to the syniverse and verizon wireless people,roles if 
    #the exisitng permission WLNP_FOM_Prd_Imp^FOM_WLNP already present.
    #Assign the FOM_Port_Status_Query^FOM permission to the syniverse and verizon wireless groups if 
    #the existing groups has  any permission ending in *^FOM or *^FOM^R.

    java multiAttrAdd "(&(|(carrieruid=57)(carrieruid=17))(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${IMPL_ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(carrieruid=57)(carrieruid=17))(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(carrieruid=57)(carrieruid=17))(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(carrieruid=57)(carrieruid=17))(permissionid=*^FOM^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(&(|(carrieruid=57)(carrieruid=17))(permissionid=*^FOM)(!(permisssionid=${ID1}^R)))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	
	#This is not part of this SR but cleaning up all people who has the productspecificuid as FOM_WLNP but not having any permissionid
	#as FOM_WLNP
	java multiAttrDel "(&(productspecificid=FOM_WLNP)(!(permissionid=*^FOM_WLNP*)))" "ou=people,o=crossroads" productspecificid FOM_WLNP 1>>grant$1.out 2>>grant$1.err;
        	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR298269)
        
    #Delete all the presentation objects whose presentation group id is marked as delete55910
    
    ./delObj "presentationgroupid=delete55910" "ou=PresentationObjects,o=crossroads" 1>>grant$1.out 2>>grant$1.err;
           	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR310400)
        
    #Delete the implied permission ANZ_SA_144^MD-1 from the people and companies
    
    java multiAttrDel "(permissionid=ANZ_SA_144^MD-1)" "ou=Carriers,o=crossroads" permissionid "ANZ_SA_144^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=ANZ_SA_144^MD-1)" "ou=People,o=crossroads" permissionid "ANZ_SA_144^MD-1" 1>>grant$1.out 2>>grant$1.err;
	
	#Delete the permission ANZ_SA_146_Co and ANZ_SA_147_Co from the companies
	java multiAttrDel "(permissionid=ANZ_SA_146_Co^MD-1)" "ou=Carriers,o=crossroads" permissionid "ANZ_SA_146_Co^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=ANZ_SA_147_Co^MD-1)" "ou=Carriers,o=crossroads" permissionid "ANZ_SA_147_Co^MD-1" 1>>grant$1.out 2>>grant$1.err;
	
	#Delete the permission ANZ_SA_146 and ANZ_SA_147 from the users
	java multiAttrDel "(permissionid=ANZ_SA_146^MD-1)" "ou=People,o=crossroads" permissionid "ANZ_SA_146^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=ANZ_SA_147^MD-1)" "ou=People,o=crossroads" permissionid "ANZ_SA_147^MD-1" 1>>grant$1.out 2>>grant$1.err;
	
	#Delete the permission ANZ_SA_146 and ANZ_SA_147 from the UserGroup
	java multiAttrDel "(permissionid=ANZ_SA_146^MD-1)" "ou=usergroup,o=crossroads" permissionid "ANZ_SA_146^MD-1" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=ANZ_SA_147^MD-1)" "ou=usergroup,o=crossroads" permissionid "ANZ_SA_147^MD-1" 1>>grant$1.out 2>>grant$1.err;
    
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR265189)

#Add the VisPro_Trending_App_Context_UniRoam^VisSvc and VisPro_Trending_Unique_Roamer_UniRoam^VisSvc to all Syniverse Users
#which has any of the UniRoam permission assigned to them.

	EXISTING_ID=VisPro_*_UniRoam^VisSvc
	ID1=VisPro_Trending_App_Context_UniRoam^VisSvc
	ID2=VisPro_Trending_Unique_Roamer_UniRoam^VisSvc

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
    
SR318164)

#Add the VisPro_Trending_Traffic_MDR^MD-1 and VisPro_Trending_Unique_Roamer_MDR^MD-1 to all Syniverse Users
#which has any of the MDR permission assigned to them.

	EXISTING_ID=VisPro_*_MDR^MD-1
	ID1=VisPro_Trending_Traffic_MDR^MD-1
	ID2=VisPro_Trending_Unique_Roamer_MDR^MD-1

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	

#Add the VisPro_Trending_Traffic_UDR^VisSvc and VisPro_Trending_Unique_Roamer_UDR^VisSvc to all Syniverse Users
#which has any of the UDR permission assigned to them.

	EXISTING_ID=VisPro_*_UDR^VisSvc
	ID1=VisPro_Trending_Traffic_UDR^VisSvc
	ID2=VisPro_Trending_Unique_Roamer_UDR^VisSvc

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR311461-fix)

        EXISTING_ID=Acc_Function_15^A-1
        PERM=XXXXXX^A-1
        #Add the XXXXXX permission to all people who already have Acc_Function_15
        java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${PERM}" 1>>grant$1.out 2>>grant$1.err;
        java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${PERM}^R" 1>>grant$1.out 2>>grant$1.err;


		#Add the XXXXXX permission to all roles who already have Acc_Function_15
        java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${PERM}^R" 1>>grant$1.out 2>>grant$1.err;

        EXISTING_ID=XXXXXX^A-1
        PERM=Acc_Function_15^A-1
        
        #Delete the Acc_Function_15 permission from all people/roles who has XXXXXX permission
        
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${PERM}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${PERM}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${PERM}^R" 1>>grant$1.out 2>>grant$1.err;

        EXISTING_ID=XXXXXX^A-1
        PERM=ACC_Function_15^A-1
        
        #Add the ACC_Function_15 permission to all people/roles who has XXXXXX permission
        
java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${PERM}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${PERM}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${PERM}^R" 1>>grant$1.out 2>>grant$1.err;

        EXISTING_ID=XXXXXX^A-1
        
        #Delete the XXXXXX permission from all people/roles who has XXXXXX permission
        
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_ID}^R" 1>>grant$1.out 2>>grant$1.err;

		#EXISTING_ID=ACC_Rpt-CHARM990
		#PERM=Acc_Function_15
#java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=PermissionCode,o=crossroads" impliedpermissionid "${PERM}" 1>>grant$1.out 2>>grant$1.err;


	echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR311461)

#Grant the permission ACC_Rpt-CHARM992,Acc_Std_Rpt,Acc_Function_15 to the all users having  ACC_Rpt-CHARM990 permission already.

	EXISTING_ID=ACC_Rpt-CHARM990^A-1
	PERM1=ACC_Rpt-CHARM992^A-1
	PERM2=Acc_Std_Rpt^A-1
	PERM3=ACC_Function_15^A-1
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${PERM1}" "${PERM2}" "${PERM3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${PERM1}^R" "${PERM2}^R" "${PERM3}^R" 1>>grant$1.out 2>>grant$1.err;
	
#Grant the permission ACC_Rpt-CHARM992,Acc_Std_Rpt,Acc_Function_15 to all roles having  ACC_Rpt-CHARM990 permission already.

	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${PERM1}^R" "${PERM2}^R" "${PERM3}^R" 1>>grant$1.out 2>>grant$1.err;
	
	
#Grant the permission ACC_Rpt-CHARM992 to all companies having  ACC_Customer_Type_ACCESS permission already.

	EXISTING_ID=ACC_Customer_Type_ACCESS^A-1
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${PERM1}" 1>>grant$1.out 2>>grant$1.err;
	
	echo "--This is the first line">$1.grantPermission.sql;
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'ACC_Rpt-CHARM992', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'ACC_Rpt-CHARM992', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM992' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM992' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM992' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM992' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'Acc_Std_Rpt', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'Acc_Std_Rpt', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'Acc_Std_Rpt' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Acc_Std_Rpt' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Acc_Std_Rpt' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'Acc_Std_Rpt' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'ACC_Function_15', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'ACC_Function_15', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Function_15' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Function_15' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Function_15' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Function_15' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'ACC_Rpt-CHARM992', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'ACC_Rpt-CHARM992', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM992' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM992' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM992' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM992' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'Acc_Std_Rpt', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'Acc_Std_Rpt', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'Acc_Std_Rpt' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Acc_Std_Rpt' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Acc_Std_Rpt' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'Acc_Std_Rpt' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'ACC_Function_15', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'ACC_Function_15', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Function_15' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Acc_Std_Rpt' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Function_15' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Function_15' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into company_resource (CMPNY_RSRC_ID, CMPNY_ID, RSRC_ID, CREATED_BY,MODIFY_BY,RSRC_TYP_CD)
select COMP_RSRC_ID_SEQ.nextval, b.CMPNY_ID, 'ACC_Rpt-CHARM992','uid=admin,o=crossroads','uid=admin,o=crossroads','2'
from ( 
select CMPNY_ID,'ACC_Rpt-CHARM992','uid=admin,o=crossroads','uid=admin,o=crossroads','2' 
from company_resource where RSRC_ID = 'ACC_Customer_Type_ACCESS' and RSRC_TYP_CD = '2'
minus
select CMPNY_ID,'ACC_Rpt-CHARM992','uid=admin,o=crossroads','uid=admin,o=crossroads','2' 
from company_resource where RSRC_ID = 'ACC_Rpt-CHARM992' and RSRC_TYP_CD = '2' ) b;">>$1.grantPermission.sql;
	

	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	
SR315591)

#Add the ACS_STP^N-1,ACS_CWC_Server^ACS_CWC,ACS_NWC_Server^ACS_NWC to all Syniverse Users which has netQoS^N-1 permission assigned to them.
#Add the ACS_STP^N-1,ACS_CWC_Server^ACS_CWC,ACS_NWC_Server^ACS_NWC to all Syniverse roles which has netQoS^N-1 permission assigned to them.
#Add the ACS_STP^N-1 to all Syniverse usergroups which has netQoS^N-1 permission assigned to them.

	EXISTING_ID=netQoS^N-1
	ID1=ACS_STP^N-1
	IMPL_ID1=ACS_CWC_Server^ACS_CWC
	IMPL_ID2=ACS_NWC_Server^ACS_NWC

	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${IMPL_ID1}" "${IMPL_ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" "${IMPL_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" "${IMPL_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;	

echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR304677)
    #Assign the permission=WiFi_KPI_Reports^MD-1,ACC_Rpt-WIFID001^A-1,ACC_Rpt-WIFID002^A-1,ACC_Rpt-WIFID004^A-1 to the syniverse people,roles if 
    #either of the exisitng permission MDR_Pub_Rates^AMServer,MDR_Clearing^AccServer or MDR_Rate_Plans^AMServer already present.
    ID1=WiFi_KPI_Reports^MD-1 
 	IMPL_ID1=ACC_Rpt-WIFID001^A-1 
 	IMPL_ID2=ACC_Rpt-WIFIM002^A-1 
 	IMPL_ID3=ACC_Rpt-WIFIM004^A-1

    java multiAttrAdd "(&(carrieruid=57)(|(permissionid=MDR_Pub_Rates^AMServer)(permissionid=MDR_Clearing^AccServer)(permissionid=MDR_Rate_Plans^AMServer)))" "ou=people,o=crossroads" permissionid "${ID1}" "${IMPL_ID1}" "${IMPL_ID2}" "${IMPL_ID3}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=MDR_Pub_Rates^AMServer^R)(permissionid=MDR_Clearing^AccServer^R)(permissionid=MDR_Rate_Plans^AMServer^R)))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=MDR_Pub_Rates^AMServer^R)(permissionid=MDR_Clearing^AccServer^R)(permissionid=MDR_Rate_Plans^AMServer^R)))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" 1>>grant$1.out 2>>grant$1.err;
	    	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR329770)

#Add the ANZ_SA_No_GSM_CDR_Analysis_Co^None permission to the companies having the existing permission ANZ_SA_No_GSM_CDR_Analysis_Co^A-1
#Delete the ANZ_SA_No_GSM_CDR_Analysis_Co^A-1 permission from the companies having the existing permission ANZ_SA_No_GSM_CDR_Analysis_Co^A-1
java multiAttrAdd "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_Co^A-1)" "ou=Carriers,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_Co^None" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_Co^A-1)" "ou=Carriers,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_Co^A-1" 1>>grant$1.out 2>>grant$1.err;

#Add the ANZ_SA_No_GSM_CDR_Analysis_User^None permission to the all people,roles and groups having the existing permission ANZ_SA_No_GSM_CDR_Analysis_User^A-1
#Delete the ANZ_SA_No_GSM_CDR_Analysis_User^A-1 permission from all the people,roles and groups having the existing permission ANZ_SA_No_GSM_CDR_Analysis_User^A-1
java multiAttrAdd "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1)" "ou=People,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^None" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1)" "ou=People,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^A-1" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R)" "ou=People,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^None^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R)" "ou=People,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R)" "ou=Roles,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^None^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R)" "ou=Roles,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1)" "ou=UserGroup,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^None" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1)" "ou=UserGroup,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^A-1" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R)" "ou=UserGroup,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^None^R" 1>>grant$1.out 2>>grant$1.err;
java multiAttrDel "(permissionid=ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R)" "ou=UserGroup,o=crossroads" permissionid "ANZ_SA_No_GSM_CDR_Analysis_User^A-1^R" 1>>grant$1.out 2>>grant$1.err;		

echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR327034)
    
    EXISTING_VHE_ID=ACC_Customer_Type_VHE^A-1
    EXISTING_VMTE_ID=ACC_Customer_Type_VMTE^A-1
    VHE_IMPL_ID1=ACC_Rpt-VHEND001^AccServer
    VHE_IMPL_ID2=ACC_Rpt-VHEND002^AccServer
    VMTE_IMPL_ID1=ACC_Rpt-VMTED001^AccServer
    VMTE_IMPL_ID2=ACC_Rpt-VMTED002^AccServer
    VMTE_IMPL_ID3=ACC_Rpt-VMTED003^AccServer
    VMTE_IMPL_ID4=ACC_Rpt-VMTED004^AccServer
    VMTE_IMPL_ID5=ACC_Rpt-VMTED005^AccServer
    VMTE_IMPL_ID6=ACC_Rpt-VMTED006^AccServer
    VMTE_IMPL_ID7=ACC_Rpt-VMTED007^AccServer
    
   #Assign the implied permission's ACC_Rpt-VHEND001 - ACC_Rpt-VHEND002 to all company who have the ACC_Customer_Type_VHE^A-1 permission.
   
   java multiAttrAdd "(permissionid=${EXISTING_VHE_ID})" "ou=carriers,o=crossroads" permissionid "${VHE_IMPL_ID1}" "${VHE_IMPL_ID2}" 1>>grant$1.out 2>>grant$1.err;

    	
   #Assign the implied permission's ACC_Rpt-VMTED001 - ACC_Rpt-VMTED007 to all company who have the ACC_Customer_Type_VMTE^A-1 permission.
   
   java multiAttrAdd "(permissionid=${EXISTING_VMTE_ID})" "ou=carriers,o=crossroads" permissionid "${VMTE_IMPL_ID1}" "${VMTE_IMPL_ID2}" "${VMTE_IMPL_ID3}" "${VMTE_IMPL_ID4}" "${VMTE_IMPL_ID5}" "${VMTE_IMPL_ID6}" "${VMTE_IMPL_ID7}" 1>>grant$1.out 2>>grant$1.err;
           
    EXISTING_VHE_ID=ACC_VHE^A-1        	
	EXISTING_VMTE_ID=ACC_VMTE^A-1
	    
	#Assign the implied permission's ACC_Rpt-VHEND001 - ACC_Rpt-VHEND002 to all users and roles who have the ACC_VHE^A-1 permission.
       
	java multiAttrAdd "(permissionid=${EXISTING_VHE_ID})" "ou=people,o=crossroads" permissionid "${VHE_IMPL_ID1}" "${VHE_IMPL_ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_VHE_ID}^R)" "ou=roles,o=crossroads" permissionid "${VHE_IMPL_ID1}^R" "${VHE_IMPL_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_VHE_ID}^R)" "ou=people,o=crossroads" permissionid "${VHE_IMPL_ID1}^R" "${VHE_IMPL_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	#Assign the implied permission's ACC_Rpt-VMTED001 - ACC_Rpt-VMTED007 to all users and roles who have the ACC_VMTE^A-1 permission.
       
	java multiAttrAdd "(permissionid=${EXISTING_VMTE_ID})" "ou=people,o=crossroads" permissionid "${VMTE_IMPL_ID1}" "${VMTE_IMPL_ID2}" "${VMTE_IMPL_ID3}" "${VMTE_IMPL_ID4}" "${VMTE_IMPL_ID5}" "${VMTE_IMPL_ID6}" "${VMTE_IMPL_ID7}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_VMTE_ID}^R)" "ou=roles,o=crossroads" permissionid "${VMTE_IMPL_ID1}^R" "${VMTE_IMPL_ID2}^R" "${VMTE_IMPL_ID3}^R" "${VMTE_IMPL_ID4}^R" "${VMTE_IMPL_ID5}^R" "${VMTE_IMPL_ID6}^R" "${VMTE_IMPL_ID7}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_VMTE_ID}^R)" "ou=people,o=crossroads" permissionid "${VMTE_IMPL_ID1}^R" "${VMTE_IMPL_ID2}^R" "${VMTE_IMPL_ID3}^R" "${VMTE_IMPL_ID4}^R" "${VMTE_IMPL_ID5}^R" "${VMTE_IMPL_ID6}^R" "${VMTE_IMPL_ID7}^R" 1>>grant$1.out 2>>grant$1.err;
	    
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
 
SR326601)
    
    EXISTING_ID=FCH_Reports_Co^A-1
    IMPL_ID1=ACC_Rpt-FSSNM009^A-1
    IMPL_ID2=ACC_Rpt-FSSNM010^A-1
    IMPL_ID3=ACC_Rpt-FSSNM011^A-1
    IMPL_ID4=ACC_Rpt-FSSNM012^A-1
    IMPL_ID5=ACC_Rpt-FSSNM013^A-1
    IMPL_ID6=ACC_Rpt-FSSNM014^A-1
    IMPL_ID7=ACC_Rpt-FSSNM015^A-1
    IMPL_ID8=ACC_Rpt-FSSNM016^A-1
    IMPL_ID9=ACC_Rpt-FSSNM017^A-1
    IMPL_ID10=ACC_Rpt-FSSNM018^A-1
    IMPL_ID11=ACC_Rpt-FSSNM019^A-1
    IMPL_ID12=ACC_Rpt-FSSNM020^A-1
    IMPL_ID13=ACC_Rpt-FSSNM021^A-1
    IMPL_ID14=ACC_Rpt-FSSNM022^A-1
    
   #Assign the implied permission's ACC_Rpt-FSSNM009 - ACC_Rpt-FSSNM022 to all company who have the FCH_Reports_Co^A-1 permission.
   
   java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=carriers,o=crossroads" permissionid "${IMPL_ID1}" "${IMPL_ID2}" "${IMPL_ID3}" "${IMPL_ID4}" "${IMPL_ID5}" "${IMPL_ID6}" "${IMPL_ID7}" "${IMPL_ID8}" "${IMPL_ID9}" "${IMPL_ID10}" "${IMPL_ID11}" "${IMPL_ID12}" "${IMPL_ID13}" "${IMPL_ID14}" 1>>grant$1.out 2>>grant$1.err;
    	          
    EXISTING_ID=FCH_Reports^A-1        	
	    
	#Assign the implied permission's ACC_Rpt-FSSNM009 - ACC_Rpt-FSSNM022 to all users and roles who have the FCH_Reports^A-1 permission.
       
	java multiAttrAdd "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${IMPL_ID1}" "${IMPL_ID2}" "${IMPL_ID3}" "${IMPL_ID4}" "${IMPL_ID5}" "${IMPL_ID6}" "${IMPL_ID7}" "${IMPL_ID8}" "${IMPL_ID9}" "${IMPL_ID10}" "${IMPL_ID11}" "${IMPL_ID12}" "${IMPL_ID13}" "${IMPL_ID14}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=roles,o=crossroads" permissionid "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" "${IMPL_ID4}^R" "${IMPL_ID5}^R" "${IMPL_ID6}^R" "${IMPL_ID7}^R" "${IMPL_ID8}^R" "${IMPL_ID9}^R" "${IMPL_ID10}^R" "${IMPL_ID11}^R" "${IMPL_ID12}^R" "${IMPL_ID13}^R" "${IMPL_ID14}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID}^R)" "ou=people,o=crossroads" permissionid "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" "${IMPL_ID4}^R" "${IMPL_ID5}^R" "${IMPL_ID6}^R" "${IMPL_ID7}^R" "${IMPL_ID8}^R" "${IMPL_ID9}^R" "${IMPL_ID10}^R" "${IMPL_ID11}^R" "${IMPL_ID12}^R" "${IMPL_ID13}^R" "${IMPL_ID14}^R" 1>>grant$1.out 2>>grant$1.err;
		    
	echo "Done." |tee -a grant$1.err >> grant$1.out;; 
	
SR318193)
    
    EXISTING_ID=MESDM002^BR-1
    ID1=MES_WesternUnion^BR-1
    IMPL_ID1=ACC_Rpt-MESDM003^BR-1
    
  	#Assign the permission MES_WesternUnion^BR-1 and implied permission ACC_Rpt-MESDM003^BR-1 to all syniverse 
  	#users,roles and groups who have the MESDM002^BR-1 permission.
       
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid "${ID1}" "${IMPL_ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" 1>>grant$1.out 2>>grant$1.err;	
		    
	echo "Done." |tee -a grant$1.err >> grant$1.out;; 
	
SR337835)

    EXISTING_ID1=WiFi_KPI_Reports_Co^MD-1
    EXISTING_ID2=WiFi_KPI_Reports^MD-1
    IMPL_ID1=ACC_Cust_Rpts^AccServer
    IMPL_ID2=ACC_Cust_View^AccServer
    IMPL_ID3=ACC_Cust_Ltd^AccServer
    IMPL_ID4=ACC_Function_14^A-1
 	IMPL_ID5=ACC_Rpt-WIFID005^A-1 
 	IMPL_ID6=ACC_Rpt-WIFID006^A-1 

	#Assign the implied permission's ACC_Rpt-WIFID005,ACC_Rpt-WIFID006 to all company who have the WiFi_KPI_Reports_Co^MD-1 permission.   
    java multiAttrAdd "(permissionid=${EXISTING_ID1})" "ou=carriers,o=crossroads" permissionid "${IMPL_ID5}" "${IMPL_ID6}" 1>>grant$1.out 2>>grant$1.err;
    

    #Assign the permission=ACC_Cust_Rpts^AccServer,ACC_Cust_View^AccServer,ACC_Cust_Ltd^AccServer,ACC_Function_14^AccServer,ACC_Rpt-WIFID005^A-1,ACC_Rpt-WIFID006^A-1 to all company people,roles if WiFi_KPI_Reports^MD-1 is already present.

    java multiAttrAdd "(permissionid=${EXISTING_ID2})" "ou=people,o=crossroads" permissionid "${IMPL_ID1}" "${IMPL_ID2}" "${IMPL_ID3}" "${IMPL_ID4}" "${IMPL_ID5}" "${IMPL_ID6}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID2}^R)" "ou=roles,o=crossroads" permissionid "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" "${IMPL_ID4}^R" "${IMPL_ID5}^R" "${IMPL_ID6}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=${EXISTING_ID2}^R)" "ou=people,o=crossroads" permissionid "${IMPL_ID1}^R" "${IMPL_ID2}^R" "${IMPL_ID3}^R" "${IMPL_ID4}^R" "${IMPL_ID5}^R" "${IMPL_ID6}^R" 1>>grant$1.out 2>>grant$1.err;
	    	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;  
    

PR117913-fix)

    EXISTING_COMP_PERM=RealTimeIntelCo^A-1
    EXISTING_USER_PERM=RealTimeIntelUser^A-1
    NEW_COMP_PERM=RealTimeIntelCo^VisSvc
    NEW_USER_PERM=RealTimeIntelUser^VisSvc

	#Add the permission RealTimeIntelCo^VisSvc to all companies which have RealTimeIntelCo^A-1.
    java multiAttrAdd "(permissionid=${EXISTING_COMP_PERM})" "ou=carriers,o=crossroads" permissionid "${NEW_COMP_PERM}" 1>>grant$1.out 2>>grant$1.err;
    #Delete the permission RealTimeIntelCo^A-1 from all companies.
    java multiAttrDel "(permissionid=${EXISTING_COMP_PERM})" "ou=carriers,o=crossroads" permissionid "${EXISTING_COMP_PERM}" 1>>grant$1.out 2>>grant$1.err;
    
    #Add the permission RealTimeIntelUser^VisSvc[^R] to all users/roles/groups which have RealTimeIntelUser^A-1[^R].
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM})" "ou=people,o=crossroads" permissionid "${NEW_USER_PERM}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM}^R)" "ou=roles,o=crossroads" permissionid "${NEW_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM}^R)" "ou=people,o=crossroads" permissionid "${NEW_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM})" "ou=usergroup,o=crossroads" permissionid "${NEW_USER_PERM}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM}^R)" "ou=usergroup,o=crossroads" permissionid "${NEW_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    
    
    #Delete the permission RealTimeIntelUser^A-1[^R] from all users/roles/groups.
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM})" "ou=people,o=crossroads" permissionid "${EXISTING_USER_PERM}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM}^R)" "ou=roles,o=crossroads" permissionid "${EXISTING_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM}^R)" "ou=people,o=crossroads" permissionid "${EXISTING_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM})" "ou=usergroup,o=crossroads" permissionid "${EXISTING_USER_PERM}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM}^R)" "ou=usergroup,o=crossroads" permissionid "${EXISTING_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;    
	    	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
ANZ_Sunset)

EXISTING_ID=AnzBetaCo^AnzBeta
java multiAttrDel "permissionid=${EXISTING_ID}" "ou=carriers,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=AnzBeta^AnzBeta
java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=people,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err; java multiAttrDel "(permissionid=${EXISTING_ID})" "ou=UserGroup,o=crossroads" permissionid "${EXISTING_ID}" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(&(impliedpermissionid=ACC_Function_917)(permissiongroupid=*)(impliedpermissionid=AnzNA)(!(permissionid=*Co*))(!(permissionid=MH_Basic_Analyzer))(!(impliedpermissionid=BusinessAnalytics*)))" "ou=permissioncode,o=crossroads" impliedpermissionid AnzBeta^AnzBeta 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(&(impliedpermissionid=ACC_Function_917)(permissiongroupid=*)(impliedpermissionid=AnzEU)(!(permissionid=*Co*))(!(permissionid=MH_Basic_Analyzer))(!(impliedpermissionid=BusinessAnalytics*)))" "ou=permissioncode,o=crossroads" impliedpermissionid AnzBeta2^AnzBeta2 1>>grant$1.out 2>>grant$1.err;

EXISTING_ID=ACC_Function_917^A-1
ID1=AnzBeta
ID2=AnzBeta2

java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=people,o=crossroads" permissionid "${ID1}^${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=people,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=roles,o=crossroads" permissionid "${ID1}^${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=roles,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=usergroup,o=crossroads" permissionid "${ID1}^${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=usergroup,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;


java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=people,o=crossroads" permissionid "${ID2}^${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=people,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=roles,o=crossroads" permissionid "${ID2}^${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=roles,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=usergroup,o=crossroads" permissionid "${ID2}^${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=usergroup,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;


EXISTING_ID=ImpliedSilentLowSpender^VisSvc
ID1=AnzRTI
ID2=AnzRTI2

java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=people,o=crossroads" permissionid "${ID1}^${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=people,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=usergroup,o=crossroads" permissionid "${ID1}^${ID1}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzNA))" "ou=usergroup,o=crossroads" productspecificid "${ID1}" 1>>grant$1.out 2>>grant$1.err;

java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=people,o=crossroads" permissionid "${ID2}^${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=people,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=usergroup,o=crossroads" permissionid "${ID2}^${ID2}" 1>>grant$1.out 2>>grant$1.err; 
java multiAttrAdd "(&(permissionid=${EXISTING_ID})(productspecificid=AnzEU))" "ou=usergroup,o=crossroads" productspecificid "${ID2}" 1>>grant$1.out 2>>grant$1.err;

echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
SR369117)

    EXISTING_COMP_PERM1=ANZ_SA_148_Co^MD-1
    EXISTING_COMP_PERM2=ANZ_SA_149_Co^MD-1
    EXISTING_COMP_PERM3=SMS_ANLZR_170_Co^MD-1
    EXISTING_COMP_PERM4=ANZ_SA_153_Co^MD-1
    EXISTING_USER_PERM1=ANZ_SA_148^MD-1
    EXISTING_USER_PERM2=ANZ_SA_149^MD-1
    EXISTING_USER_PERM3=SMS_ANLZR_170^MD-1
    EXISTING_USER_PERM4=ANZ_SA_153^MD-1
    NEW_COMP_PERM=ANZ_SA_191^MD-1
    NEW_USER_PERM=ANZ_SA_191^MD-1
    NEW_SUBJECT_AREA=191

	#Add the subject area 191 to all companies which have ANZ_SA_148_Co^MD-1 OR ANZ_SA_149_Co^MD-1 OR SMS_ANLZR_170_Co^MD-1 OR ANZ_SA_153_Co^MD-1.
    java $JVMOPTION UpdateAnzCo "(|(permissionid=${EXISTING_COMP_PERM1})(permissionid=${EXISTING_COMP_PERM2})(permissionid=${EXISTING_COMP_PERM3})(permissionid=${EXISTING_COMP_PERM4}))" "" "${NEW_SUBJECT_AREA}" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(|(permissionid=${EXISTING_COMP_PERM1})(permissionid=${EXISTING_COMP_PERM2})(permissionid=${EXISTING_COMP_PERM3})(permissionid=${EXISTING_COMP_PERM4}))" "" "${NEW_SUBJECT_AREA}" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    
        
    #Add the subject area 191 to all users which have ANZ_SA_148^MD-1 OR ANZ_SA_149^MD-1 OR SMS_ANLZR_170^MD-1 OR ANZ_SA_153^MD-1.
    java $JVMOPTION UpdateAnzUser "(|(permissionid=${EXISTING_USER_PERM1})(permissionid=${EXISTING_USER_PERM2})(permissionid=${EXISTING_USER_PERM3})(permissionid=${EXISTING_USER_PERM4}))" "" "${NEW_SUBJECT_AREA}" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzUser "(|(permissionid=${EXISTING_USER_PERM1})(permissionid=${EXISTING_USER_PERM2})(permissionid=${EXISTING_USER_PERM3})(permissionid=${EXISTING_USER_PERM4}))" "" "${NEW_SUBJECT_AREA}" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    
    
    #Add the permission ANZ_SA_193_Co^MD-1/ANZ_SA_196_Co^MD-1 to all companies which have ANZ_SA_149_Co^MD-1.
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM2})" "ANZ_SA_193_Co" "193" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM2})" "ANZ_SA_193_Co" "193" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM2})" "ANZ_SA_196_Co" "196" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM2})" "ANZ_SA_196_Co" "196" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    
    
    #replace the permission SMS_ANLZR_170_Co with ANZ_SA_199_Co permission in all the companies
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM3})" "ANZ_SA_199_Co" "199" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM3})" "ANZ_SA_199_Co" "199" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${EXISTING_COMP_PERM3})" "ou=carriers,o=crossroads" permissionid "${EXISTING_COMP_PERM3}" 1>>grant$1.out 2>>grant$1.err;
    
    #replace the permission SMS_ANLZR_170 with ANZ_SA_199 permission in all the users
    java $JVMOPTION UpdateAnzUser "(permissionid=${EXISTING_USER_PERM3})" "ANZ_SA_199" "199" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzUser "(permissionid=${EXISTING_USER_PERM3})" "ANZ_SA_199" "199" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;    
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM3})" "ou=people,o=crossroads" permissionid "${EXISTING_USER_PERM3}" 1>>grant$1.out 2>>grant$1.err;
    
    #replace the permission SMS_ANLZR_170 with ANZ_SA_199 permission in all the usergroups
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM3})" "ou=usergroup,o=crossroads" permissionid "ANZ_SA_199^MD-1" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${EXISTING_USER_PERM3})" "ou=usergroup,o=crossroads" permissionid "${EXISTING_USER_PERM3}" 1>>grant$1.out 2>>grant$1.err;
    
    #Delete the SMS_ANLZR_170_Co from the company_resource table in DB.
    echo "--This is the first line">$1.grantPermission.sql;
    echo "delete from company_resource where RSRC_ID = 'SMS_ANLZR_170_Co' and RSRC_TYP_CD = '2';">>$1.grantPermission.sql;
    
    #Delete the SMS_ANLZR_170 from the all the users in DB.
	echo "delete from access_auth where RSRC_ID = 'SMS_ANLZR_170' and RSRC_TYP_CD = '2' and accessor_id in 
(select a.accessor_id from accessor a , user_xroads ux where a.acsor_typ_cd = 'User' and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup');">>$1.grantPermission.sql;

    #Insert the ANZ_SA_199 permission for all the users groups who already have the ANZ_SA_170 permission.
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'ANZ_SA_199', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'SMS_ANLZR_170' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id,'ANZ_SA_199', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ANZ_SA_199' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

    #Delete the ANZ_SA_170 permission from all the user groups.
	echo "delete from access_auth where RSRC_ID = 'SMS_ANLZR_170' and RSRC_TYP_CD = '2' and accessor_id in 
(select a.accessor_id from accessor a , user_xroads ux where a.acsor_typ_cd = 'User' and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup');">>$1.grantPermission.sql;
    
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	
SR369122)

    EXISTING_COMP_PERM=ANZ_SA_149_Co^MD-1

	#Add the permission ANZ_SA_192_Co^MD-1 and ANZ_SA_194_Co^MD-1 to all companies which have ANZ_SA_149_Co^MD-1
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM})" "ANZ_SA_192_Co" "192" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM})" "ANZ_SA_192_Co" "192" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM})" "ANZ_SA_194_Co" "194" "" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;   
    java $JVMOPTION UpdateAnzCo "(permissionid=${EXISTING_COMP_PERM})" "ANZ_SA_194_Co" "194" "_EU" "MD-1" SMS 1>>grant$1.out 2>>grant$1.err;
    
            
	echo "Done." |tee -a grant$1.err >> grant$1.out;; 
	
SR335877)

    EXISTING_USER_PERM=URA2^VisSvc
    NEW_USER_PERM=LTE_Server^LTE_Server
    PRODUCT_ID=LTE_Server

	#Add the permission LTE_Server^LTE_Server to all users/roles which have URA2^VisSvc
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM})" "ou=people,o=crossroads" permissionid "${NEW_USER_PERM}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM}^R)" "ou=people,o=crossroads" permissionid "${NEW_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM}^R)" "ou=roles,o=crossroads" permissionid "${NEW_USER_PERM}^R" 1>>grant$1.out 2>>grant$1.err;
    
    #Add the product LTE_Server to all users/roles which have URA2^VisSvc
    java multiAttrAdd "(|(permissionid=${EXISTING_USER_PERM})(permissionid=${EXISTING_USER_PERM}^R))" "ou=people,o=crossroads" productspecificid "${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrAdd "(permissionid=${EXISTING_USER_PERM}^R)" "ou=roles,o=crossroads" productspecificid "${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;
              
	echo "Done." |tee -a grant$1.err >> grant$1.out;;
	

SR379554)

#Add the VisPro_Trending_App_Context_SS7_GSM^VisSvc and VisPro_Trending_Unique_Roamer_SS7_GSM^VisSvc to all Users/roles/user group
#which has any of the below exisitng SS7 GSM permission's.

	EXISTING_ID1=VisPro_HeatMap_SS7_GSM^VisSvc
	EXISTING_ID2=VisPro_UniqueRoamer_SS7_GSM^VisSvc
	EXISTING_ID3=VisPro_Application_Context_SS7_GSM^VisSvc
	EXISTING_ID4=VisPro_Most_Active_Contexts_SS7_GSM^VisSvc
	EXISTING_ID5=VisPro_Most_Active_Roamers_SS7_GSM^VisSvc
	EXISTING_ID6=VisPro_Alarm_View_SS7_GSM^VisSvc
	ID1=VisPro_Trending_App_Context_SS7_GSM^VisSvc
	ID2=VisPro_Trending_Unique_Roamer_SS7_GSM^VisSvc

	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})(permissionid=${EXISTING_ID4})(permissionid=${EXISTING_ID5})(permissionid=${EXISTING_ID6}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})(permissionid=${EXISTING_ID4})(permissionid=${EXISTING_ID5})(permissionid=${EXISTING_ID6}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_GSM' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_HeatMap_SS7_GSM' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_GSM' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_HeatMap_SS7_GSM' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'VisPro_Trending_App_Context_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'VisPro_Trending_App_Context_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_GSM' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_GSM' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_GSM' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_GSM' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_GSM' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_GSM' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_GSM', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_SS7_GSM' , 'VisPro_UniqueRoamer_SS7_GSM' , 'VisPro_Application_Context_SS7_GSM', 'VisPro_Most_Active_Contexts_SS7_GSM' , 'VisPro_Most_Active_Roamers_SS7_GSM' , 'VisPro_Alarm_View_SS7_GSM' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_GSM' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;
    
    SR384027)

			#Grant the permission Adjusted_Settlement_Rpts to all Syniverse users having ACC_Rpt-CHARM990 permission already.
		
			EXISTING_ID=ACC_Rpt-CHARM990^A-1 
			PERM1=Adjusted_Settlement_Rpts^A-1
			PERM2=ACC_Rpt-CHARM322^A-1 
			PERM3=ACC_Rpt-CHARM323^A-1 
		
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid  "${PERM1}" "${PERM2}" "${PERM3}"  1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${PERM1}^R" "${PERM2}^R" "${PERM3}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${PERM1}^R" "${PERM2}^R" "${PERM3}^R" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${PERM1}" 1>>grant$1.out 2>>grant$1.err;
		java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${PERM1}^R" 1>>grant$1.out 2>>grant$1.err;


echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'Adjusted_Settlement_Rpts', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'Adjusted_Settlement_Rpts', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Adjusted_Settlement_Rpts' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57'
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Adjusted_Settlement_Rpts' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'ACC_Rpt-CHARM322', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'ACC_Rpt-CHARM322', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57'
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'ACC_Rpt-CHARM3232', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'ACC_Rpt-CHARM323', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM323' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM323' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_id = cu.usr_id and cu.cmpny_id = '57'
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM323' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM323' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'Adjusted_Settlement_Rpts', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'Adjusted_Settlement_Rpts', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Adjusted_Settlement_Rpts' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Adjusted_Settlement_Rpts' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'ACC_Rpt-CHARM322', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id, 'ACC_Rpt-CHARM322', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'ACC_Rpt-CHARM323', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id, 'ACC_Rpt-CHARM323', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM323' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM323' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM323' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'ACC_Rpt-CHARM323' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'Adjusted_Settlement_Rpts', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'Adjusted_Settlement_Rpts', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Adjusted_Settlement_Rpts' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'Adjusted_Settlement_Rpts' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'Adjusted_Settlement_Rpts' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'ACC_Rpt-CHARM322', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'ACC_Rpt-CHARM322', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'ACC_Rpt-CHARM323', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM990' and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'ACC_Rpt-CHARM323', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'ACC_Rpt-CHARM322' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM323' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM323' and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'ACC_Rpt-CHARM322' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'ACC_Rpt-CHARM323' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;
    

SR374296)

#Add the VisPro_Trending_App_Context_SS7_CDMA^VisSvc and VisPro_Trending_Unique_Roamer_SS7_CDMA^VisSvc to all Users/roles/user group
#which has any of the below exisitng SS7 CDMA permission's.

	EXISTING_ID1=VisPro_HeatMap_SS7_CDMA^VisSvc
	EXISTING_ID2=VisPro_UniqueRoamer_SS7_CDMA^VisSvc
	EXISTING_ID3=VisPro_Application_Context_SS7_CDMA^VisSvc
	EXISTING_ID4=VisPro_Most_Active_Contexts_SS7_CDMA^VisSvc
	EXISTING_ID5=VisPro_Most_Active_Roamers_SS7_CDMA^VisSvc
	EXISTING_ID6=VisPro_Alarm_View_SS7_CDMA^VisSvc
	ID1=VisPro_Trending_App_Context_SS7_CDMA^VisSvc
	ID2=VisPro_Trending_Unique_Roamer_SS7_CDMA^VisSvc

	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})(permissionid=${EXISTING_ID4})(permissionid=${EXISTING_ID5})(permissionid=${EXISTING_ID6}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})(permissionid=${EXISTING_ID4})(permissionid=${EXISTING_ID5})(permissionid=${EXISTING_ID6}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;

echo "--This is the first line">$1.grantPermission.sql;
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_CDMA' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_CDMA' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'VisPro_Trending_App_Context_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'VisPro_Trending_App_Context_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_CDMA' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_CDMA' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_CDMA' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_CDMA' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_App_Context_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_CDMA' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_App_Context_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_App_Context_SS7_CDMA' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_SS7_CDMA', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_SS7_CDMA' , 'VisPro_UniqueRoamer_SS7_CDMA' , 'VisPro_Application_Context_SS7_CDMA', 'VisPro_Most_Active_Contexts_SS7_CDMA' , 'VisPro_Most_Active_Roamers_SS7_CDMA' , 'VisPro_Alarm_View_SS7_CDMA' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_SS7_CDMA' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;

	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;	

SR381456)

#Add the VisPro_Trending_Traffic_RevC^VisSvc and VisPro_Trending_Unique_Roamer_RevC^VisSvc to all Users/roles/user group
#which has any of the below exisitng RevC permission's.

	EXISTING_ID1=VisPro_HeatMap_RevC^VisSvc
	EXISTING_ID2=VisPro_UniqueRoamer_RevC^VisSvc
	EXISTING_ID3=VisPro_Application_Context_RevC^VisSvc
	EXISTING_ID4=VisPro_Most_Active_Contexts_RevC^VisSvc
	EXISTING_ID5=VisPro_Most_Active_Roamers_RevC^VisSvc
	EXISTING_ID6=VisPro_Alarm_View_RevC^VisSvc
	EXISTING_ID7=VisPro_Alarm_Update_RevC^VisSvc
	ID1=VisPro_Trending_Traffic_RevC^VisSvc
	ID2=VisPro_Trending_Unique_Roamer_RevC^VisSvc

	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})(permissionid=${EXISTING_ID4})(permissionid=${EXISTING_ID5})(permissionid=${EXISTING_ID6})(permissionid=${EXISTING_ID7}))" "ou=people,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R)(permissionid=${EXISTING_ID7}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R)(permissionid=${EXISTING_ID7}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2})(permissionid=${EXISTING_ID3})(permissionid=${EXISTING_ID4})(permissionid=${EXISTING_ID5})(permissionid=${EXISTING_ID6})(permissionid=${EXISTING_ID7}))" "ou=usergroup,o=crossroads" permissionid "${ID1}" "${ID2}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R)(permissionid=${EXISTING_ID3}^R)(permissionid=${EXISTING_ID4}^R)(permissionid=${EXISTING_ID5}^R)(permissionid=${EXISTING_ID6}^R)(permissionid=${EXISTING_ID7}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R" "${ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "--This is the first line">$1.grantPermission.sql;
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Traffic_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Traffic_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Traffic_RevC' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Traffic_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Traffic_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Traffic_RevC' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_RevC' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_RevC' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'VisPro_Trending_Traffic_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'VisPro_Trending_Traffic_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Traffic_RevC' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Traffic_RevC' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Traffic_RevC' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Traffic_RevC' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct  aa.accessor_id,'VisPro_Trending_Unique_Roamer_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct  aa.accessor_id,'VisPro_Trending_Unique_Roamer_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_RevC' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_RevC' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_RevC' and rel_typ_cd = 'Product' and 
rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_RevC' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Traffic_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Traffic_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Traffic_RevC' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Traffic_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Traffic_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Traffic_RevC' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select distinct aa.accessor_id,'VisPro_Trending_Unique_Roamer_RevC', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_RevC' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select b.accessor_id, b.productuid, '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
(select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid , '60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id in ( 'VisPro_HeatMap_RevC' , 'VisPro_UniqueRoamer_RevC' , 'VisPro_Application_Context_RevC', 'VisPro_Most_Active_Contexts_RevC' , 'VisPro_Most_Active_Roamers_RevC' , 'VisPro_Alarm_View_RevC','VisPro_Alarm_Update_RevC' ) and aa.RSRC_TYP_CD = '2'
minus
select aa.accessor_id , (select rsrc_id2 from rsrc_to_rsrc_rel where rsrc_id1 = 'VisPro_Trending_Unique_Roamer_RevC' and rel_typ_cd = 'Product' 
and rsrc_typ_cd = '2') as productuid,'60','uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and 
ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_id = 'VisPro_Trending_Unique_Roamer_RevC' and aa.RSRC_TYP_CD = '2') b 
where not exists ( select * from access_auth where accessor_id = b.accessor_id and rsrc_typ_cd = '1' and rsrc_id = b.productuid );">>$1.grantPermission.sql;
	
	
    echo "Done." |tee -a grant$1.err >> grant$1.out;;	

SubCareTool)

#Add the Vis_Sub_Care_Tool_User^VisSvc to all Syniverse Users/roles/user group
#which has any of the below exisitng RevC permission's.

	EXISTING_PERM_ID1=Roamer_Status
	EXISTING_PERM_ID2=HLR_Status
	EXISTING_PROD_ID=VisSvc
	NEW_PERM_ID=Vis_Sub_Care_Tool_User
	
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_PERM_ID1}^${EXISTING_PROD_ID})(permissionid=${EXISTING_PERM_ID2}^${EXISTING_PROD_ID})))" "ou=people,o=crossroads" permissionid "${NEW_PERM_ID}^${EXISTING_PROD_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_PERM_ID1}^${EXISTING_PROD_ID}^R)(permissionid=${EXISTING_PERM_ID2}^${EXISTING_PROD_ID}^R)))" "ou=people,o=crossroads" permissionid "${NEW_PERM_ID}^${EXISTING_PROD_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_PERM_ID1}^${EXISTING_PROD_ID}^R)(permissionid=${EXISTING_PERM_ID2}^${EXISTING_PROD_ID}^R)))" "ou=roles,o=crossroads" permissionid "${NEW_PERM_ID}^${EXISTING_PROD_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_PERM_ID1}^${EXISTING_PROD_ID})(permissionid=${EXISTING_PERM_ID2}^${EXISTING_PROD_ID})))" "ou=usergroup,o=crossroads" permissionid "${NEW_PERM_ID}^${EXISTING_PROD_ID}" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=${EXISTING_PERM_ID1}^${EXISTING_PROD_ID}^R)(permissionid=${EXISTING_PERM_ID2}^${EXISTING_PROD_ID}^R)))" "ou=usergroup,o=crossroads" permissionid "${NEW_PERM_ID}^${EXISTING_PROD_ID}^R" 1>>grant$1.out 2>>grant$1.err; 
	
	echo "--This is the first line">$1.grantPermission.sql;	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID1}' , '${EXISTING_PERM_ID2}' ) and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;
			
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct  aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , company_role cr where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = '57' and
	aa.rsrc_id in ( '${EXISTING_PERM_ID1}' , '${EXISTING_PERM_ID2}' ) and aa.RSRC_TYP_CD = '2'
	minus
	select distinct  aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a, company_role cr where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and
	a.role_id = cr.role_id and cr.cmpny_id = '57' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;	
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID1}' , '${EXISTING_PERM_ID2}' ) and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;	

echo "Done." |tee -a grant$1.err >> grant$1.out;; 

IOTPhase2)

	EXISTING_CO_PERM_ID=IOTCo
	PRODUCT_ID=Agreement_Management
	NEW_CO_PERM_ID=IOTNotificationCo
	DEL_PERM_ID=IOTBPM_IMPLEMENTATION
	
	#Add the IOTUI_NOTIFICATIONS to those companies in LDAP which already have IOTCo perm assigned to them.
	java multiAttrAdd "(permissionid=${EXISTING_CO_PERM_ID}^${PRODUCT_ID})" "ou=carriers,o=crossroads" permissionid "${NEW_CO_PERM_ID}^${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;
    	
	echo "--This is the first line">$1.grantPermission.sql;
	
	#Add the IOTUI_NOTIFICATIONS to those companies in DB which already have IOTCo perm assigned to them.	
	echo "insert into company_resource select COMP_RSRC_ID_SEQ.nextval,r.cmpny_id,'${NEW_CO_PERM_ID}',systimestamp,systimestamp,
	'cn=directory manager','uid=xroads,o=crossroads','2' from   
	(  select cmpny_id as cmpny_id from company_resource    
	where rsrc_id = '${EXISTING_CO_PERM_ID}'
	minus
	select cmpny_id as cmpny_id from company_resource
	where rsrc_id = '${NEW_CO_PERM_ID}') r;">>$1.grantPermission.sql;
	
	#Delete the IOTBPM_IMPLEMENTATION from all users in DB which had this permission assigned. 
	#This perm has been taken off and will not be available to be assigned from the gui.
	java multiAttrDel "(permissionid=${DEL_PERM_ID}^${PRODUCT_ID})" "ou=people,o=crossroads" permissionid "${DEL_PERM_ID}^${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${DEL_PERM_ID}^${PRODUCT_ID}^R)" "ou=roles,o=crossroads" permissionid "${DEL_PERM_ID}^${PRODUCT_ID}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${DEL_PERM_ID}^${PRODUCT_ID}^R)" "ou=people,o=crossroads" permissionid "${DEL_PERM_ID}^${PRODUCT_ID}^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${DEL_PERM_ID}^${PRODUCT_ID})" "ou=usergroup,o=crossroads" permissionid "${DEL_PERM_ID}^${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=${DEL_PERM_ID}^${PRODUCT_ID}^R)" "ou=usergroup,o=crossroads" permissionid "${DEL_PERM_ID}^${PRODUCT_ID}^R" 1>>grant$1.out 2>>grant$1.err;		
    	
	echo "delete from access_auth where rsrc_id='${DEL_PERM_ID}' and rsrc_typ_cd='2';">>$1.grantPermission.sql;
	
	#Assign these perms to all the Syniverse users only who already have the IOTUI_VIEW permission
	#IOTBPM_CLARIFICATION
	#IOTUI_NOTIFICATIONS
	#IOTBPM_CONCURRENCE
	#IOTBPM_DISPUTE
	#IOTBPM_TEAMLEAD
	#IOT_PREFERENCES
	
	EXISTING_IOT_PERM=IOTUI_VIEW^Agreement_Management
	USER_PERM1=IOTBPM_CLARIFICATION^Agreement_Management
	USER_PERM2=IOTUI_NOTIFICATIONS^Agreement_Management
	USER_PERM3=IOTBPM_CONCURRENCE^Agreement_Management
	USER_PERM4=IOTBPM_DISPUTE^Agreement_Management
	USER_PERM5=IOTBPM_TEAMLEAD^Agreement_Management
	USER_PERM6=IOT_PREFERENCES^Agreement_Management
	
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_IOT_PERM}))" "ou=people,o=crossroads" permissionid "${USER_PERM1}" "${USER_PERM2}" "${USER_PERM3}" "${USER_PERM4}" "${USER_PERM5}" "${USER_PERM6}" 1>>grant$1.out 2>>grant$1.err;	
	
	EXISTING_PERM_ID=IOTUI_VIEW
	NEW_PERM_ID=IOTBPM_CLARIFICATION
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID}') and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;
	
	NEW_PERM_ID=IOTUI_NOTIFICATIONS
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID}') and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;	
	
	NEW_PERM_ID=IOTBPM_CONCURRENCE
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID}') and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;
	
	NEW_PERM_ID=IOTBPM_DISPUTE
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID}') and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;
	
	NEW_PERM_ID=IOTBPM_TEAMLEAD
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID}') and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;
	
	NEW_PERM_ID=IOT_PREFERENCES
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and   ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id in ( '${EXISTING_PERM_ID}') and aa.RSRC_TYP_CD = '2'
	minus
	select distinct aa.accessor_id,'${NEW_PERM_ID}', '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' 
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and 
	aa.rsrc_id = '${NEW_PERM_ID}' and aa.RSRC_TYP_CD = '2';">>$1.grantPermission.sql;

echo "Done." |tee -a grant$1.err >> grant$1.out;; 

RNISPhase2)

	java multiAttrDel "(permissionid=ICSMS_Co^MD-1)" "ou=carriers,o=crossroads" permissionid "ICSMS_Co^MD-1" 1>>grant$1.out 2>>grant$1.err;

	java multiAttrDel "(permissionid=ICSMS_User^MD-1)" "ou=people,o=crossroads" permissionid "ICSMS_User^MD-1" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=ICSMS_User^MD-1^R)" "ou=roles,o=crossroads" permissionid "ICSMS_User^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=ICSMS_User^MD-1^R)" "ou=people,o=crossroads" permissionid "ICSMS_User^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=ICSMS_User^MD-1)" "ou=usergroup,o=crossroads" permissionid "ICSMS_User^MD-1" 1>>grant$1.out 2>>grant$1.err;
    java multiAttrDel "(permissionid=ICSMS_User^MD-1^R)" "ou=usergroup,o=crossroads" permissionid "ICSMS_User^MD-1^R" 1>>grant$1.out 2>>grant$1.err;
    
    echo "--This is the first line">$1.grantPermission.sql;
    
    # do we need to delete the product MD-1 from access_auth  
    echo "delete from company_resource where rsrc_id='ICSMS_Co' and rsrc_typ_cd='2';">>$1.grantPermission.sql;
    
    # do we need to delete the product MD-1 from access_auth  
    echo "delete from access_auth where rsrc_id='ICSMS_User' and rsrc_typ_cd='2';">>$1.grantPermission.sql;


echo "Done." |tee -a grant$1.err >> grant$1.out;;

SWIFTPhase2)

    #Add the Product SWIFT to all companies which already had GEMS Product assigned.
	java multiAttrAdd "(productspecificid=${TICKET_PROD})" "ou=carriers,o=crossroads" productspecificid "SWIFT" 1>>grant$1.out 2>>grant$1.err;
	#Add the Permission SWIFT_Co to all companies which already had GEMS Product assigned.
    java multiAttrAdd "(&(productspecificid=${TICKET_PROD})(permissionid=*))" "ou=carriers,o=crossroads" permissionid "SWIFT_Co^SWIFT" 1>>grant$1.out 2>>grant$1.err;
    
    #Add the Product SWIFT to all users which already had GEMS Product assigned.
    java multiAttrAdd "(productspecificid=${TICKET_PROD})" "ou=people,o=crossroads" productspecificid "SWIFT" 1>>grant$1.out 2>>grant$1.err;
    #Add the Permission SWIFT_User to all users which already had GEMS Product assigned.
    java multiAttrAdd "(&(productspecificid=${TICKET_PROD})(permissionid=*))" "ou=people,o=crossroads" permissionid "SWIFT_User^SWIFT" 1>>grant$1.out 2>>grant$1.err;
        
    echo "--This is the first line">$1.grantPermission.sql;
    
   #Add the Product SWIFT to all companies which already had GEMS Product assigned but not the SWIFT product.
    echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd) 
    select COMP_RSRC_ID_SEQ.nextval , b.cmpny_id , 'SWIFT' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id = '${TICKET_PROD}' and a.rsrc_typ_cd = '1' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SWIFT' 
	and b.rsrc_typ_cd = '1' ) ) b;">>$1.grantPermission.sql;
	
	#Add the Permission SWIFT_Co to all companies which already had GEMS Product assigned but not the SWIFT_Co permission.
    echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd) 
    select COMP_RSRC_ID_SEQ.nextval , b.cmpny_id , 'SWIFT_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id = '${TICKET_PROD}' and a.rsrc_typ_cd = '1' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SWIFT_Co' 
	and b.rsrc_typ_cd = '2' ) ) b;">>$1.grantPermission.sql;
    
    #Add the Product SWIFT to all users which already had GEMS Product assigned but not the SWIFT product.
    echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd) 
    select distinct a.accessor_id , 'SWIFT' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from access_auth a 
    where a.rsrc_id = '${TICKET_PROD}' and a.rsrc_typ_cd = '1' and not exists 
	( select distinct b.accessor_id from access_auth b where a.accessor_id = b.accessor_id and b.rsrc_id = 'SWIFT' 
	and b.rsrc_typ_cd = '1' );">>$1.grantPermission.sql;
	
	#Add the Permission SWIFT_User to all users which already had GEMS Product assigned but not the SWIFT_User permission.
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd) 
    select distinct a.accessor_id , 'SWIFT_User' , '60',systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from access_auth a 
    where a.rsrc_id = '${TICKET_PROD}' and a.rsrc_typ_cd = '1' and not exists 
	( select distinct b.accessor_id from access_auth b where a.accessor_id = b.accessor_id and b.rsrc_id = 'SWIFT_User' 
	and b.rsrc_typ_cd = '2' );">>$1.grantPermission.sql;


echo "Done." |tee -a grant$1.err >> grant$1.out;;

IOTPhase2Beta)

	EXISTING_CO_PERM_ID1=IOTCo
	EXISTING_CO_PERM_ID2=IOTNotificationCo
	PRODUCT_ID=Agreement_Management
	NEW_CO_PERM_ID1=IOTGUI_Co
	NEW_CO_PERM_ID2=IOTNotificationGUI_Co	
	
	#Add the IOTGUI_Co to those companies in LDAP which already have IOTCo perm assigned to them.
	java multiAttrAdd "(permissionid=${EXISTING_CO_PERM_ID1}^${PRODUCT_ID})" "ou=carriers,o=crossroads" permissionid "${NEW_CO_PERM_ID1}^${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;


	#Add the IOTGUI_Co to those companies in DB which already have IOTCo perm assigned to them.
	echo "insert into company_resource select 		COMP_RSRC_ID_SEQ.nextval,r.cmpny_id,'${NEW_CO_PERM_ID1}',systimestamp,systimestamp,
	'cn=directory manager','uid=xroads,o=crossroads','2' from   
	(  select cmpny_id as cmpny_id from company_resource    
	where rsrc_id = '${EXISTING_CO_PERM_ID1}'
	minus
	select cmpny_id as cmpny_id from company_resource
	where rsrc_id = '${NEW_CO_PERM_ID1}') r;">>$1.grantPermission.sql;



	#Add the IOTNotificationGUI_Co to those companies in LDAP which already have IOTNotificationCo perm assigned to them.
	java multiAttrAdd "(permissionid=${EXISTING_CO_PERM_ID2}^${PRODUCT_ID})" "ou=carriers,o=crossroads" permissionid "${NEW_CO_PERM_ID2}^${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;

	#Add the IOTNotificationGUI_Co  to those companies in DB which already have IOTNotificationCo perm assigned to them.
	echo "insert into company_resource select 		COMP_RSRC_ID_SEQ.nextval,r.cmpny_id,'${NEW_CO_PERM_ID2}',systimestamp,systimestamp,
	'cn=directory manager','uid=xroads,o=crossroads','2' from   
	(  select cmpny_id as cmpny_id from company_resource    
	where rsrc_id = '${EXISTING_CO_PERM_ID2}'
	minus
	select cmpny_id as cmpny_id from company_resource
	where rsrc_id = '${NEW_CO_PERM_ID2}') r;">>$1.grantPermission.sql;

echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR479113)

    ENV=$2;

	echo "--This is the first line">$1.grantPermission.sql;		

	#Add the LSR_Co^None implied perm to all those companies who have either of these companies perm
	#('LSR_GUI_Co','LSR_GUI_Test_Co','LSR_Admin_Co','LSR_Admin_Test_Co','LSR_Security_Co','LSR_Security_Test_Co')
	./multiAttrAdd "(|(permissionid=LSR_GUI_Co^WLNP)(permissionid=LSR_Admin_Co^WLNP)(permissionid=LSR_Security_Co^WLNP)(permissionid=LSR_GUI_Test_Co^WLNP3)(permissionid=LSR_Admin_Test_Co^WLNP3)(permissionid=LSR_Security_Test_Co^WLNP3))" "ou=carriers,o=crossroads" permissionid "LSR_Co^None" 1>>grant$1.out 2>>grant$1.err;
	
	#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then

	#Add LSR_Co company perm to all companies in DB who have either of the 
	#company perm ('LSR_GUI_Co','LSR_GUI_Test_Co','LSR_Admin_Co','LSR_Admin_Test_Co','LSR_Security_Co','LSR_Security_Test_Co')
	#and does not already have LSR_Co
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'LSR_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ( 'LSR_GUI_Co','LSR_GUI_Test_Co','LSR_Admin_Co','LSR_Admin_Test_Co','LSR_Security_Co','LSR_Security_Test_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'LSR_Co' 
	and b.rsrc_typ_cd = '2' )) c;">>$1.grantPermission.sql;
	
	#Add None product to all companies in DB who have either of the 
	#company perm ('LSR_GUI_Co','LSR_GUI_Test_Co','LSR_Admin_Co','LSR_Admin_Test_Co','LSR_Security_Co','LSR_Security_Test_Co') 
	#and also doesn not have productspecificid=None already assigned.
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd) 
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'None' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('LSR_GUI_Co','LSR_GUI_Test_Co','LSR_Admin_Co','LSR_Admin_Test_Co','LSR_Security_Co','LSR_Security_Test_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'None' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1.grantPermission.sql;
	
    fi
    
	EXISTING_CO_PERM_ID1=LSR_GUI_Co^WLNP
	EXISTING_CO_PERM_ID2=LSR_Intermodal_GUI_Co^WLNP	
		
	#Add ACC_Rpt-WNPRM203^A-1 company perm to all companies in LDAP who have either of the 
	#company perm (LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have the productspecificid=AccNA
	./multiAttrAdd "(&(productspecificid=AccNA)(|(permissionid=${EXISTING_CO_PERM_ID1})(permissionid=${EXISTING_CO_PERM_ID2})))" "ou=carriers,o=crossroads" permissionid "ACC_Rpt-WNPRM203^A-1" 1>>grant$1.out 2>>grant$1.err;
	
		
	#Add ACC_Function_15 company perm to all companies in LDAP who have either of the 
	#company perm (LSR_GUI_Co,LSR_Intermodal_GUI_Co) but does not have ACC_Function_15 company perm but do have the productspecificid=AccNA
	./multiAttrAdd "(&(productspecificid=AccNA)(!(permissionid=ACC_Function_15^A-1)(|(permissionid=${EXISTING_CO_PERM_ID1})(permissionid=${EXISTING_CO_PERM_ID2}))))" "ou=carriers,o=crossroads" permissionid "ACC_Function_15^A-1" 1>>grant$1.out 2>>grant$1.err;	
	
	#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then
	
	#Add ACC_Rpt-WNPRM203 company perm to all companies in DB who have either of the 
	#company perm (LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have productspecificid=AccNA and does not already have ACC_Rpt-WNPRM203 assigned.
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'ACC_Rpt-WNPRM203' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ( 'LSR_GUI_Co','LSR_Intermodal_GUI_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ACC_Rpt-WNPRM203' 
	and b.rsrc_typ_cd = '2' ) and exists ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'AccNA' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1.grantPermission.sql;
	
	fi
	
	#Add ACC_Function_15 company perm to all companies in DB who have either of the 
	#company perm (LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have productspecificid=AccNA and does not already have ACC_Function_15 assigned.
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'ACC_Function_15' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ( 'LSR_GUI_Co','LSR_Intermodal_GUI_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ACC_Function_15' 
	and b.rsrc_typ_cd = '2' ) and exists ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'AccNA' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1.grantPermission.sql;
	
	#Add A-1 product to all companies in DB who have either of the 
	#company perm (LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have productspecificid=AccNA and does not already have A-1 assigned.
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd) 
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'A-1' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ( 'LSR_GUI_Co','LSR_Intermodal_GUI_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'A-1' 
	and b.rsrc_typ_cd = '1' ) and exists ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'AccNA' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1.grantPermission.sql;
	
	
	#These are all the companies which were retrived based on the companies have either of these 2 company perms
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 as company perm and AccNA product.
	
	#This is the LDAP Query ran in PROD to retrive the results:
	#Search DN:ou=Carriers,o=Crossroads
	#Filter: (&(productspecificid=AccNA)(permissionid=TM_RT1^BR-1)(|((permissionid=LSR_GUI_Co^WLNP)(permissionid=LSR_Intermodal_GUI_Co^WLNP))))
	#These are the carrier id retrived from the above LDAP Query
	#carrieruid=12
	#carrieruid=CWL_-1
	#carrieruid=36
	#carrieruid=37
	#carrieruid=WO-1
	#carrieruid=CWC-1
	#carrieruid=NN3_-1 -- does not have AccNA
	#carrieruid=39
	#carrieruid=148
	#carrieruid=57
	#carrieruid=TN_-3
	#carrieruid=TNP_-1 -- does not have AccNA
	#carrieruid=17
	#carrieruid=DC-2
	
	#Assign the LSR_EXP_BILLING_REPORT in LDAP to all users, user groups and roles whose user are from the above carrier id list and have the TM_RT1 perm already assigned.
	
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=people,o=crossroads" permissionid "LSR_EXP_BILLING_REPORT^BR-1" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=people,o=crossroads" permissionid "LSR_EXP_BILLING_REPORT^BR-1^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=roles,o=crossroads" permissionid "LSR_EXP_BILLING_REPORT^BR-1^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=usergroup,o=crossroads" permissionid "LSR_EXP_BILLING_REPORT^BR-1" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=usergroup,o=crossroads" permissionid "LSR_EXP_BILLING_REPORT^BR-1^R" 1>>grant$1.out 2>>grant$1.err;
	
		#Assign the ACC_Function_15 in LDAP to all users and roles whose user are from the above carrier id list and have the TM_RT1 perm already assigned.
	
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=people,o=crossroads" permissionid "ACC_Function_15^A-1" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=people,o=crossroads" permissionid "ACC_Function_15^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=roles,o=crossroads" permissionid "ACC_Function_15^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	
			#Assign the Acc_Std_Rpt in LDAP to all users and roles whose user are from the above carrier id list and have the TM_RT1 perm already assigned.
	
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=people,o=crossroads" permissionid "Acc_Std_Rpt^A-1" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=people,o=crossroads" permissionid "Acc_Std_Rpt^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=roles,o=crossroads" permissionid "Acc_Std_Rpt^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	
	#Assign the ACC_Rpt-WNPRM203^A-1 in LDAP to all users and roles whose user are from the above carrier id list and have the TM_RT1 perm already assigned.
	
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=people,o=crossroads" permissionid "ACC_Rpt-WNPRM203^A-1" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=people,o=crossroads" permissionid "ACC_Rpt-WNPRM203^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=roles,o=crossroads" permissionid "ACC_Rpt-WNPRM203^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	
		#Assign the ACC_Prod-BIL^A-1 in LDAP to all users and roles whose user are from the above carrier id list and have the TM_RT1 perm already assigned.
	
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=people,o=crossroads" permissionid "ACC_Prod-BIL^A-1" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=people,o=crossroads" permissionid "ACC_Prod-BIL^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=roles,o=crossroads" permissionid "ACC_Prod-BIL^A-1^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	
				#Assign the Acc_Std_Rpt_Download in LDAP to all users, user groups and roles whose user are from the above carrier id list and have the TM_RT1 perm already assigned.
	
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1))" "ou=people,o=crossroads" permissionid "Acc_Std_Rpt_Download^AccServer" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=people,o=crossroads" permissionid "Acc_Std_Rpt_Download^AccServer^R" 1>>grant$1.out 2>>grant$1.err;
	./multiAttrAdd "(&(productspecificid=AccNA)(|(carrieruid=12)(carrieruid=148)(carrieruid=17)(carrieruid=36)(carrieruid=37)(carrieruid=39)(carrieruid=57)(carrieruid=CWC-1)(carrieruid=CWL_-1)(carrieruid=DC-2)(carrieruid=TN_-3)(carrieruid=WO-1))(permissionid=TM_RT1^BR-1^R))" "ou=roles,o=crossroads" permissionid "Acc_Std_Rpt_Download^AccServer^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	
	#Add the user permission LSR_EXP_BILLING_REPORT to all user's in DB who have TM_RT1 perm and AccNA product already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'LSR_EXP_BILLING_REPORT' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'LSR_EXP_BILLING_REPORT' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	#Add the user permission LSR_EXP_BILLING_REPORT to all user groups in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user group belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'LSR_EXP_BILLING_REPORT' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'LSR_EXP_BILLING_REPORT' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;


	#Add the user permission LSR_EXP_BILLING_REPORT to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Admin_Co,LSR_Security_Co,LSR_Intermodal_GUI_Co,LSR_Admin_Test_Co,LSR_GUI_Test_Co,LSR_Security_Test_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'LSR_EXP_BILLING_REPORT' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists 
  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'LSR_EXP_BILLING_REPORT' 
  and c.rsrc_typ_cd = '2') and exists   ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
  	#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then
  
  #Add the user permission ACC_Rpt-WNPRM203 to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'ACC_Rpt-WNPRM203' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-WNPRM203' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;

	#Add the user permission ACC_Rpt-WNPRM203 to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-WNPRM203' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'ACC_Rpt-WNPRM203' and c.rsrc_typ_cd = '2') and exists ( select c.accessor_id from access_auth c 
  where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
  fi
  
    	#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then
  
  #Add the user permission ACC_Prod-BIL to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'ACC_Prod-BIL' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Prod-BIL' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;

	#Add the user permission ACC_Prod-BIL to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Prod-BIL' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'ACC_Prod-BIL' and c.rsrc_typ_cd = '2') and exists ( select c.accessor_id from access_auth c 
  where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
  fi
  
  	#Add the user permission ACC_Function_15 to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'ACC_Function_15' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Function_15' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;

  	#Add the user permission ACC_Function_15 to all user groups in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'ACC_Function_15' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Function_15' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;

	#Add the user permission ACC_Function_15 to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Function_15' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'ACC_Function_15' and c.rsrc_typ_cd = '2') and exists ( select c.accessor_id from access_auth c 
  where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
  
    #Add the user permission Acc_Std_Rpt to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'Acc_Std_Rpt' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'Acc_Std_Rpt' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

    #Add the user permission Acc_Std_Rpt to all user groups in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'Acc_Std_Rpt' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'Acc_Std_Rpt' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	#Add the user permission Acc_Std_Rpt to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Admin_Co,LSR_Security_Co,LSR_Intermodal_GUI_Co,LSR_Admin_Test_Co,LSR_GUI_Test_Co,LSR_Security_Test_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'Acc_Std_Rpt' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists 
  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'Acc_Std_Rpt' and c.rsrc_typ_cd = '2') 
  and exists 
  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
    #don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then
	
      	#Add the user permission Acc_Std_Rpt_Download to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'Acc_Std_Rpt_Download' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'Acc_Std_Rpt_Download' 
and c.rsrc_typ_cd = '2') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	#Add the user permission Acc_Std_Rpt_Download to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Admin_Co,LSR_Security_Co,LSR_Intermodal_GUI_Co,LSR_Admin_Test_Co,LSR_GUI_Test_Co,LSR_Security_Test_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'Acc_Std_Rpt_Download' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'Acc_Std_Rpt_Download' 
  and c.rsrc_typ_cd = '2') and exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
  fi
  
    	
		#Add the product A-1 to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'A-1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;

	#Add the product A-1 to all user groups in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user group belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'A-1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;


	#Add the product A-1 to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Admin_Co,LSR_Security_Co,LSR_Intermodal_GUI_Co,LSR_Admin_Test_Co,LSR_GUI_Test_Co,LSR_Security_Test_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'A-1' and c.rsrc_typ_cd = '1') and exists ( select c.accessor_id from access_auth c 
  where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
	
	#don't need to assing this product coming from implied perm Acc_Std_Rpt_Download if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then
	
	#Add the product AccServer to all user's in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this user belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Intermodal_GUI_Co) and also have TM_RT1 company perm.
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'AccServer' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu , ( select distinct cmpny_id from company_resource where cmpny_id in 
(  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccServer' 
and c.rsrc_typ_cd = '1') and exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccNA' 
and c.rsrc_typ_cd = '1') ;">>$1.grantPermission.sql;

	#Add the product AccServer to all roles in DB who have TM_RT1 perm and product AccNA already assigned and the 
	#company to whom this role belongs also have either of these 2 perms 
	#(LSR_GUI_Co,LSR_Admin_Co,LSR_Security_Co,LSR_Intermodal_GUI_Co,LSR_Admin_Test_Co,LSR_GUI_Test_Co,LSR_Security_Test_Co) and also have TM_RT1 company perm.

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'AccServer' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
from access_auth aa , accessor a , 
company_role cr  , ( select distinct cmpny_id from company_resource where cmpny_id in (  select distinct cr.cmpny_id  from company_resource cr , company_xroads cx 
where cr.cmpny_id = cx.cmpny_cd and cr.rsrc_typ_cd = '2' and 
cr.rsrc_id in ('LSR_GUI_Co','LSR_Intermodal_GUI_Co') )
and rsrc_id = 'TM_RT1' and rsrc_typ_cd = '2') b
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' 
	and a.role_id = cr.role_id and cr.cmpny_id = b.cmpny_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'TM_RT1'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'AccServer' 
  and c.rsrc_typ_cd = '1') and exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id 
  and c.rsrc_id = 'AccNA' and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
  
  fi
	
		 
echo "Done." |tee -a grant$1.err >> grant$1.out;; 

 
RM_Dashboard_AP)

	EXISTING_CO_PERM_ID=RM_Dashboard_Co 
	PRODUCT_ID=RoamMonitorDashboard 
	NEW_CO_PERM_ID=RM_Dashboard_GUI_Co	
	
	#Add the RM_Dashboard_GUI_Co to those companies in LDAP which already have RM_Dashboard_Co perm assigned to them.
	java multiAttrAdd "(permissionid=${EXISTING_CO_PERM_ID}^${PRODUCT_ID})" "ou=carriers,o=crossroads" permissionid "${NEW_CO_PERM_ID}^${PRODUCT_ID}" 1>>grant$1.out 2>>grant$1.err;


	#Add the RM_Dashboard_GUI_Co to those companies in DB which already have RM_Dashboard_Co perm assigned to them.
	echo "insert into company_resource select 		COMP_RSRC_ID_SEQ.nextval,r.cmpny_id,'${NEW_CO_PERM_ID}',systimestamp,systimestamp,
	'cn=directory manager','uid=xroads,o=crossroads','2' from   
	(  select cmpny_id as cmpny_id from company_resource    
	where rsrc_id = '${EXISTING_CO_PERM_ID}'
	minus
	select cmpny_id as cmpny_id from company_resource
	where rsrc_id = '${NEW_CO_PERM_ID}') r;">>$1.grantPermission.sql; 
	 

echo "Done." |tee -a grant$1.err >> grant$1.out;; 

DMSPhase1)

            java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "DMS_Adhoc_Reporting_Co" "204" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
            #java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "DMS_Adhoc_Reporting_Co" "204" "_EU" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 
            
            #java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "DMSCo" "202,203" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
            #java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "DMSCo" "202,203" "_EU" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 
            
            java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "DMSCo_SA_203" "203" "" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err;
            #java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "DMSCo_SA_203" "203" "_EU" "A-1" "AWOL" 1>>grant$1.out 2>>grant$1.err; 
            
            

echo "Done." |tee -a grant$1.err >> grant$1.out;;


SR478935)

 
	#Grant the permission SMSIM025_Settlement_Reports^MD-1 and implied permission ACC_Rpt-SMSIM025^MD-1 to all Syniverse 
	#users, roles and groups who have the ACC_Rpt-SMSIM010^A-1 permission already.
	
	EXISTING_ID=ACC_Rpt-SMSIM010^A-1 
	ID1=SMSIM025_Settlement_Reports^MD-1
	IMPL_ID1=ACC_Rpt-SMSIM025^MD-1
		 
	
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid  "${ID1}" "${IMPL_ID1}"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'SMSIM025_Settlement_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SMSIM025_Settlement_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60',  'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'SMSIM025_Settlement_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SMSIM025_Settlement_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'SMSIM025_Settlement_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SMSIM025_Settlement_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-SMSIM025' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-SMSIM025' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-SMSIM025' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM010' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-SMSIM025' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;


	fi



echo "Done." |tee -a grant$1.err >> grant$1.out;;

SLS-PCS-Common-Backout)

ENV=$2;

echo "-- This is the first line">$1.grantPermission.sql;

#1,2 
#1.	Grant the old 1.5 SLS Province perm to all users/roles/user groups who have 1_5_SLS_Province_User and the RTI_Goal_$Province perm
#2.	Grant the old 1.5 PCS Province perm to all users/roles/user groups who have 1_5_PCS_Province_User and the RTI_Goal_$Province perm.

for i in Anhui:12 Beijing:1 Chongqing:22 Fujian:13 Gansu:28 Guangdong:19 Guangxi:20 Guizhou:24 Hainan:21 Hebei:3 Heilongjiang:8 Henan:16 Hubei:17 Hunan:18 "Inner Mongolia:5" Jiangsu:10 Jiangxi:14 Jilin:7 Liaoning:6 Ningxia:30 Qinghai:29 Shaanxi:27 Shandong:15 Shanghai:9 Shanxi:4 Shenzhen:33 Sichuan:23 Tianjin:2 Unknown:32 Xinjiang:31 Xizang:26 Yunnan:25 Zhejiang:11
do
	region=`echo $i|cut -d':' -f1`;
	number=`echo $i|cut -d':' -f2`;
	oldPerm="SLS_Province_$number";
	newPerm1="RTI_GOAL_$region";
	newPerm2="1_5_SLS_Province_User";

	#adding SLS_Province perm for the RTI_GOAL perm
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$oldPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1'
  and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

oldPerm="PCS_Province_$number";
newPerm2="1_5_PCS_Province_User";

	#adding PCS_Province perm for the RTI_GOAL perm
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$oldPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1'
  and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;


done

#3,4 
#3.	Grant the old 1.5 SLS Policy perm to all users/roles/user groups who have 1_5_SLS_Policy_User and the new corresponding RTI Policy perm.
#4.	Grant the old 1.5 PCS Policy perm to all users/roles/user groups who have 1_5_PCS_Policy_User and the new corresponding RTI Policy perm.


for y in Business Deployer Developer
do
for i in  1000 2000 2500 3000
do
	oldPerm="SLS_${y}_$i";
	newPerm1="RTI_${y}_$i";
	newPerm2="1_5_SLS_Policy_User";
	
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
		echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$oldPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1'
  and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
	
	oldPerm="PCS_${y}_$i";
newPerm2="1_5_PCS_Policy_User";

	#adding PCS policy perms  back for the RTI Policy perms
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER)(permissionid=$newPerm2^SUBSCRIBER))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=$newPerm1^SUBSCRIBER^R)(permissionid=$newPerm2^SUBSCRIBER^R))" "ou=usergroup,o=crossroads" permissionid "$oldPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$oldPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$oldPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1'
  and exists ( select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2' and c.rsrc_typ_cd = '2') and not exists ( select d.accessor_id from access_auth d 
where d.accessor_id = aa.accessor_id and d.rsrc_id = '$oldPerm' and d.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
	
done
done

	#6
	#Delete the RTI_VIEW/RTI_SAVE/RTI_DEPLOY perms from all the users.
for y in Business Deployer Developer
do
for i in  1000 2000 2500 3000
do
	newPerm1="RTI_VIEW";
	newPerm2="RTI_Business_3000";
	newPerm3="RTI_GOAL_Default";
	newPerm4="RTI_GOAL_SLS";
	newPerm5="RTI_GOAL_PCS";
	if [ "$y" == "Business" -o "$y" == "Deployer" ];then
        if [ "$i" == "3000" ];then
        
        if [ "$y" == "Deployer" ];then
        	newPerm1="RTI_DEPLOY";
        	newPerm2="RTI_Deployer_3000";
        fi
        
        if [ "$y" == "Business" ];then
        	newPerm1="RTI_SAVE";
        fi
        fi
     fi   
        
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd != 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd = 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;
  
	java multiAttrDel "(permissionid=$newPerm2^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm2^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm2^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm2^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
	and ux.usr_typ_cd != 'UserGroup'  
	and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm2') and rsrc_typ_cd = '2' 
	and rsrc_id = '$newPerm2';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm2' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm2';">>$1.grantPermission.sql;
  
	fi

	java multiAttrDel "(permissionid=$newPerm3^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm3^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm3^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm3^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm3^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm3^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
	and ux.usr_typ_cd != 'UserGroup'  
	and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm3') and rsrc_typ_cd = '2' 
	and rsrc_id = '$newPerm3';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm3' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm3';">>$1.grantPermission.sql;
  
	fi

	java multiAttrDel "(permissionid=$newPerm4^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm4^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm4^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm4^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm4^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm4^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd != 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm4') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm4';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm4' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm4';">>$1.grantPermission.sql;
  
fi

	java multiAttrDel "(permissionid=$newPerm5^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm5^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm5^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm5^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm5^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm5^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd != 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm5') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm5';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm5' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm5';">>$1.grantPermission.sql;
  
fi

done
done

	#5
	#Delete the RTI_Policy perms from all Syniverse user's

for y in Business Deployer Developer
do
for i in  1000 2000 2500 3000
do
	newPerm1="RTI_${y}_$i";
	oldPerm1="SLS_${y}_$i";
	oldPerm2="PCS_${y}_$i";
	if [ "$y" == "Business" -o "$y" == "Deployer" ];then
        if [ "$i" == "3000" ];then
            newPerm1="RTI_ADV_CONFIG_${y}_$i";
        fi
    fi   
        
	java multiAttrDel "(&(carrieruid=57)(permissionid=$newPerm1^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(carrieruid=57)(permissionid=$newPerm1^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(carrieruid=57)(permissionid=$newPerm1^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(carrieruid=57)(permissionid=$newPerm1^SUBSCRIBER))" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(carrieruid=57)(permissionid=$newPerm1^SUBSCRIBER^R))" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd != 'UserGroup' and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd = 'UserGroup' and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , company_role cr
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and a.role_id = cr.role_id and cr.cmpny_id = '57' 
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;
	
done
done

#7 
#Delete the RTI_GOAL_$Province perms from all the users.

for i in Anhui:12 Beijing:1 Chongqing:22 Fujian:13 Gansu:28 Guangdong:19 Guangxi:20 Guizhou:24 Hainan:21 Hebei:3 Heilongjiang:8 Henan:16 Hubei:17 Hunan:18 "Inner Mongolia:5" Jiangsu:10 Jiangxi:14 Jilin:7 Liaoning:6 Ningxia:30 Qinghai:29 Shaanxi:27 Shandong:15 Shanghai:9 Shanxi:4 Shenzhen:33 Sichuan:23 Tianjin:2 Unknown:32 Xinjiang:31 Xizang:26 Yunnan:25 Zhejiang:11
do
	echo "the i is:$i";
	region=`echo $i|cut -d':' -f1`;
	number=`echo $i|cut -d':' -f2`;
	newPerm1="RTI_GOAL_$region";

	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	
	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd != 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd = 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

done


#8
#Delete the RTI_GOAL_Default perms from all the users and roles

	newPerm1="RTI_GOAL_Default";

	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$newPerm1^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;	
	  	
if [ "$ENV" != "PORTAL" ];then

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
 where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id  
and ux.usr_typ_cd != 'UserGroup'  
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1') and rsrc_typ_cd = '2' 
and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role'  
	and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$newPerm1' ) 
	and rsrc_typ_cd = '2' and rsrc_id = '$newPerm1';">>$1.grantPermission.sql;
  
fi

	#9
	#Remove the new Implied perm RTI_Co and RTI_POC_Impl perm from all the companies
	java multiAttrDel "(permissionid=RTI_Co^SUBSCRIBER)" "ou=carriers,o=crossroads" permissionid "RTI_Co^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=RTI_POC_Impl^SUBSCRIBER)" "ou=carriers,o=crossroads" permissionid "RTI_POC_Impl^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	

if [ "$ENV" != "PORTAL" ];then
	echo "delete from  company_resource where cmpny_rsrc_id in ( 
     select distinct a.cmpny_rsrc_id
	from company_resource a 
    where a.rsrc_id = 'RTI_Co' and a.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "delete from  company_resource where cmpny_rsrc_id in (
     select distinct a.cmpny_rsrc_id
	from company_resource a 
    where a.rsrc_id = 'RTI_POC_Impl'  and a.rsrc_typ_cd = '2' );">>$1.grantPermission.sql;

fi

echo "Done." |tee -a grant$1.err >> grant$1.out;;

SLS-PCS-Common)

ENV=$2;

echo "-- This is the first line">$1.grantPermission.sql;
	#1
	#Add the perm 1_5_SLS_Province_User perm to all the old existing users who 
	#were having either of the 1.5 SLS Province Perm
	java multiAttrAdd "(permissionid=SLS_Province_*^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "1_5_SLS_Province_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_Province_*^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "1_5_SLS_Province_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_Province_*^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "1_5_SLS_Province_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_Province_*^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "1_5_SLS_Province_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_Province_*^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "1_5_SLS_Province_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_SLS_Province_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'SLS_Province_%'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_SLS_Province_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_SLS_Province_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'SLS_Province_%'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_SLS_Province_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_SLS_Province_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a 
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' 
and aa.rsrc_id like 'SLS_Province_%'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_SLS_Province_User' 
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql; 
  

	#2
	#Add the perm 1_5_PCS_Province_User perm to all the old existing users who 
	#were having either of the 1.5 PCS Province Perm
	java multiAttrAdd "(permissionid=PCS_Province_*^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "1_5_PCS_Province_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_Province_*^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "1_5_PCS_Province_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_Province_*^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "1_5_PCS_Province_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_Province_*^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "1_5_PCS_Province_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_Province_*^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "1_5_PCS_Province_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_PCS_Province_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'PCS_Province_%'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_PCS_Province_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_PCS_Province_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'PCS_Province_%'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_PCS_Province_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;


echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_PCS_Province_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a 
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' 
and aa.rsrc_id like 'PCS_Province_%'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_PCS_Province_User' 
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql; 
  

	#3
	#Add the perm 1_5_SLS_Policy_User perm to all the old existing users who 
	#were having either of the 1.5 SLS Policy Perms ( like Deployer/Business/Developer)
	java multiAttrAdd "(permissionid=SLS_*00^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "1_5_SLS_Policy_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_*00^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "1_5_SLS_Policy_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_*00^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "1_5_SLS_Policy_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_*00^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "1_5_SLS_Policy_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=SLS_*00^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "1_5_SLS_Policy_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_SLS_Policy_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'SLS_%00'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_SLS_Policy_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_SLS_Policy_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'SLS_%00'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_SLS_Policy_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_SLS_Policy_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a 
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' 
and aa.rsrc_id like 'SLS_%00'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_SLS_Policy_User' 
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql; 
  


	#4
	#Add the perm 1_5_PCS_Policy_User perm to all the old existing users who 
	#were having either of the 1.5 PCS Policy Perms ( like Deployer/Business/Developer)
	java multiAttrAdd "(permissionid=PCS_*00^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "1_5_PCS_Policy_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_*00^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "1_5_PCS_Policy_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_*00^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "1_5_PCS_Policy_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_*00^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "1_5_PCS_Policy_User^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=PCS_*00^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "1_5_PCS_Policy_User^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_PCS_Policy_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'PCS_%00'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_PCS_Policy_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_PCS_Policy_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a 
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' 
and aa.rsrc_id like 'PCS_%00'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_PCS_Policy_User' 
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql; 
  
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '1_5_PCS_Policy_User' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id like 'PCS_%00'  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '1_5_PCS_Policy_User' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;  
  

	#5 and 6
	#Add the new Implied perm RTI_Co perm to all the companies having the SUBSCRIBER_SLS_Co or SUBSCRIBER_PCS_Co perm
	java multiAttrAdd "(|(permissionid=SUBSCRIBER_SLS_Co^SUBSCRIBER)(permissionid=SUBSCRIBER_PCS_Co^SUBSCRIBER))" "ou=carriers,o=crossroads" permissionid "RTI_Co^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=SUBSCRIBER_SLS_Co^SUBSCRIBER)(permissionid=SUBSCRIBER_PCS_Co^SUBSCRIBER))" "ou=carriers,o=crossroads" permissionid "RTI_POC_Impl^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	

if [ "$ENV" != "PORTAL" ];then

	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'RTI_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('SUBSCRIBER_PCS_Co','SUBSCRIBER_SLS_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'RTI_Co' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'RTI_POC_Impl' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('SUBSCRIBER_PCS_Co','SUBSCRIBER_SLS_Co') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'RTI_POC_Impl' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1.grantPermission.sql;
	
fi

	#7
	#Add the implied perm RTI_GOAL_Default perm to all the old existing users who 
	#were having either of the Province Perm or Policy Perms ( like Deployer/Business/Developer)
	java multiAttrAdd "(|(permissionid=SLS_Province_*^SUBSCRIBER)(permissionid=SLS_*00^SUBSCRIBER)(permissionid=PCS_Province_*^SUBSCRIBER)(permissionid=PCS_*00^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "RTI_GOAL_Default^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=SLS_Province_*^SUBSCRIBER^R)(permissionid=SLS_*00^SUBSCRIBER^R)(permissionid=PCS_Province_*^SUBSCRIBER^R)(permissionid=PCS_*00^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "RTI_GOAL_Default^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=SLS_Province_*^SUBSCRIBER^R)(permissionid=SLS_*00^SUBSCRIBER^R)(permissionid=PCS_Province_*^SUBSCRIBER^R)(permissionid=PCS_*00^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "RTI_GOAL_Default^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

if [ "$ENV" != "PORTAL" ];then

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'RTI_GOAL_Default' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and ( aa.rsrc_id like 'SLS_Province_%' or aa.rsrc_id like 'SLS_%00' or aa.rsrc_id like 'PCS_Province_%' or aa.rsrc_id like 'PCS_%00' )  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RTI_GOAL_Default' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , 'RTI_GOAL_Default' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a 
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' 
and ( aa.rsrc_id like 'SLS_Province_%' or aa.rsrc_id like 'SLS_%00' or aa.rsrc_id like 'PCS_Province_%' or aa.rsrc_id like 'PCS_%00' ) 
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RTI_GOAL_Default' 
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql; 
  
fi

	#8
	#All the existing users/roles/groups having the SLS/PCS Province perms will be granted the new RTI_GOAL_Provinces perms.

for i in Anhui:12 Beijing:1 Chongqing:22 Fujian:13 Gansu:28 Guangdong:19 Guangxi:20 Guizhou:24 Hainan:21 Hebei:3 Heilongjiang:8 Henan:16 Hubei:17 Hunan:18 "Inner Mongolia:5" Jiangsu:10 Jiangxi:14 Jilin:7 Liaoning:6 Ningxia:30 Qinghai:29 Shaanxi:27 Shandong:15 Shanghai:9 Shanxi:4 Shenzhen:33 Sichuan:23 Tianjin:2 Unknown:32 Xinjiang:31 Xizang:26 Yunnan:25 Zhejiang:11
do
	region=`echo $i|cut -d':' -f1`;
	number=`echo $i|cut -d':' -f2`;
	oldPerm="SLS_Province_$number";
	newPerm="RTI_GOAL_$region";

	#adding RTI_GOAL perm for the SLS_Province perm
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$newPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$newPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm' 
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm' 
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
  oldPerm="PCS_Province_$number";
  
  	#adding RTI_GOAL perm for the PCS_Province perm
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$newPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$newPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$newPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$newPerm^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=$oldPerm^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$newPerm^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm' 
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm' 
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm'
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;


done

	#9-20
	#Assign RTI_VIEW to all user having 1.5 SLS and PCS Business/Deployer/Developer perms except 
	#SLS_Business_3000,PCS_Business_3000,SLS_Deployer_300,PCS_Deployer_3000
	#Assign RTI_SAVE in case of SLS_Business_3000,PCS_Business_3000
	#Assign RTI_DEPLOY in case of SLS_Deployer_300,PCS_Deployer_3000
for y in Business Deployer Developer
do
for i in  1000 2000 2500 3000
do
	newPerm1="RTI_VIEW";
	newPerm2="RTI_Business_3000";
	newPerm3="RTI_GOAL_Default";
	newPerm4="RTI_GOAL_SLS";
	newPerm5="RTI_GOAL_PCS";
	oldPerm1="SLS_${y}_$i";
	oldPerm2="PCS_${y}_$i";
	if [ "$y" == "Business" -o "$y" == "Deployer" ];then
        if [ "$i" == "3000" ];then
        
        if [ "$y" == "Deployer" ];then
        	newPerm1="RTI_DEPLOY";
        	newPerm2="RTI_Deployer_3000";
        fi
        
        if [ "$y" == "Business" ];then
        	newPerm1="RTI_SAVE";
        fi
        fi
     fi   
        
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER))" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	
		echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
		select distinct aa.accessor_id , '$newPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')  
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm1'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm1' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2') 
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm1'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm1'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
  	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$newPerm2^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$newPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$newPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm2' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm2' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm2'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
fi

  	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$newPerm3^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$newPerm3^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$newPerm3^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm3' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm3'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm3' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm3'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
fi

  	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$newPerm4^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$newPerm4^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$newPerm4^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm4' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm4'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm4' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm4'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
fi

  	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "$newPerm5^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "$newPerm5^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "$newPerm5^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
  
  
  	if [ "$ENV" != "PORTAL" ];then

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm5' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm5'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm5' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
from access_auth aa , accessor a
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm5'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
fi

done
done

	#21
	#Assign RTI_Policy perms to all Syniverse user's having 1.5 SLS and PCS Business/Deployer/Developer perms except 

for y in Business Deployer Developer
do
for i in  1000 2000 2500 3000
do
	newPerm1="RTI_${y}_$i";
	#newPerm2="";
	oldPerm1="SLS_${y}_$i";
	oldPerm2="PCS_${y}_$i";
	if [ "$y" == "Business" -o "$y" == "Deployer" ];then
        if [ "$i" == "3000" ];then
            newPerm1="RTI_ADV_CONFIG_${y}_$i";
        	#newPerm2="RTI_${y}_$i";
        fi
    fi   
        
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER)))" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R)))" "ou=people,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R)))" "ou=roles,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=$oldPerm1^SUBSCRIBER)(permissionid=$oldPerm2^SUBSCRIBER)))" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(carrieruid=57)(|(permissionid=$oldPerm1^SUBSCRIBER^R)(permissionid=$oldPerm2^SUBSCRIBER^R)))" "ou=usergroup,o=crossroads" permissionid "$newPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	
		echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
		select distinct aa.accessor_id , '$newPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads',
		'uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd != 'UserGroup' and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' 
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')  and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm1'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , '$newPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads',
	'uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
and ux.usr_typ_cd = 'UserGroup' and ux.usr_id = cu.usr_id and cu.cmpny_id = '57'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2') and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm1'
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
select distinct aa.accessor_id , '$newPerm1' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads',
'uid=admin,o=crossroads', '2'
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and a.role_id = cr.role_id and cr.cmpny_id = '57'
        and aa.rsrc_typ_cd = '2' and aa.rsrc_id in ( '$oldPerm1' , '$oldPerm2')
  and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = '$newPerm1'
  and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;
  
done
done

	#22 blind delete these 1 at a time for ldap but all together from DB
	#Delete the SLS/PCS 1.5 Provinces Perms from the users 
	
for i in Anhui:12 Beijing:1 Chongqing:22 Fujian:13 Gansu:28 Guangdong:19 Guangxi:20 Guizhou:24 Hainan:21 Hebei:3 Heilongjiang:8 Henan:16 Hubei:17 Hunan:18 "Inner Mongolia:5" Jiangsu:10 Jiangxi:14 Jilin:7 Liaoning:6 Ningxia:30 Qinghai:29 Shaanxi:27 Shandong:15 Shanghai:9 Shanxi:4 Shenzhen:33 Sichuan:23 Tianjin:2 Unknown:32 Xinjiang:31 Xizang:26 Yunnan:25 Zhejiang:11
do
	region=`echo $i|cut -d':' -f1`;
	number=`echo $i|cut -d':' -f2`;
	oldPerm1="SLS_Province_$number";
	oldPerm2="PCS_Province_$number";

	#Delete the old SLS_Province perm
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm1' ) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm1' ) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm1' 
	) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm1';">>$1.grantPermission.sql;


	#Delete the old PCS_Province perm
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
		echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , 
		user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm2' ) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm2';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm2' ) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm2';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm2' 
	) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm2';">>$1.grantPermission.sql;

done
	
	#23
	#Delete the SLS/PCS 1.5 Policy Perms from the users 

for y in Business Deployer Developer
do
for i in  1000 2000 2500 3000
do
	oldPerm1="SLS_${y}_$i";
	oldPerm2="PCS_${y}_$i";

    
    #Delete the old 1.5 SLS Policy perms
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm1^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$oldPerm1^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm1') and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm1') and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm1') and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm1';">>$1.grantPermission.sql;

	#Delete the old 1.5 PCS Policy perms
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER)" "ou=people,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER^R)" "ou=people,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER^R)" "ou=roles,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=$oldPerm2^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "$oldPerm2^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
		echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm2') and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm2';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd = 'UserGroup'
and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm2' ) and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm2';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = '$oldPerm2') and rsrc_typ_cd = '2' and rsrc_id = '$oldPerm2';">>$1.grantPermission.sql;

done
done

	

echo "Done." |tee -a grant$1.err >> grant$1.out;;

PCSPhase2)

if [ $# -eq 1 ]
  then
    echo "Company Id should be specified for this script to run";
    exit -99;
fi

if [ $# -gt 2 ]
  then
    echo "More than two argument is not allowed";
    exit -99;
fi

companyId=$2;
ENV=$3;

rm grant$1-$companyId.err;
rm $1-$companyId.grantPermission.sql.*;

echo "-- This is the first line">$1-$companyId.grantPermission.sql;

if [ "$companyId" = "ALL" ];then
	#Add the new perm PCS_GUI_Co,ACC_Rpt-PCSRM001,ACC_Function_15 perm to all the companies having the VisPro_PCS perm
	java multiAttrAdd "(permissionid=VisPro_PCS^VisPro)" "ou=carriers,o=crossroads" permissionid "PCS_GUI_Co^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(permissionid=VisPro_PCS^VisPro)" "ou=carriers,o=crossroads" permissionid "ACC_Rpt-PCSRM001^BR-1" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(permissionid=VisPro_PCS^VisPro)" "ou=carriers,o=crossroads" permissionid "RTI_Co^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;	
	java multiAttrAdd "(permissionid=VisPro_PCS^VisPro)" "ou=carriers,o=crossroads" permissionid "ACC_Function_15^A-1" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	
echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'PCS_GUI_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'PCS_GUI_Co' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;

	
echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'SUBSCRIBER' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SUBSCRIBER' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;

echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'ACC_Function_15' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ACC_Function_15' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;

	
echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'A-1' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'A-1' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
		
if [ "$ENV" != "PORTAL" ];then

	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'RTI_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'RTI_Co' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'SUBSCRIBER' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SUBSCRIBER' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'ACC_Rpt-PCSRM001' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ACC_Rpt-PCSRM001' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'BR-1' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'BR-1' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
  
fi

	#Add the new perm PCS_GUI perm to all the users having the VisPro_User_PCS perm
	java multiAttrAdd "(permissionid=VisPro_User_PCS^VisSvc)" "ou=people,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(permissionid=VisPro_User_PCS^VisSvc^R)" "ou=people,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER^R" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(permissionid=VisPro_User_PCS^VisSvc^R)" "ou=roles,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER^R" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(permissionid=VisPro_User_PCS^VisSvc)" "ou=usergroup,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(permissionid=VisPro_User_PCS^VisSvc^R)" "ou=usergroup,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER^R" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'PCS_GUI' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS'  
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_GUI'
	and c.rsrc_typ_cd = '2');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'PCS_GUI' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS'  
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_GUI'
	and c.rsrc_typ_cd = '2');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'PCS_GUI' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
	from access_auth aa , accessor a
	where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
    and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS' 
  	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_GUI'
  	and c.rsrc_typ_cd = '2');">>$1-$companyId.grantPermission.sql;
  	
  	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS' 
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
	and c.rsrc_typ_cd = '1');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS' 
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
	and c.rsrc_typ_cd = '1');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a
	where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
    and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS'
  	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
  	and c.rsrc_typ_cd = '1');">>$1-$companyId.grantPermission.sql;
  	
	
else
	#Add the new perm PCS_GUI_Co,ACC_Rpt-PCSRM001,ACC_Function_15 perm to the argument company id having the VisPro_PCS perm
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_PCS^VisPro))" "ou=carriers,o=crossroads" permissionid "PCS_GUI_Co^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_PCS^VisPro))" "ou=carriers,o=crossroads" permissionid "ACC_Rpt-PCSRM001^BR-1" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_PCS^VisPro))" "ou=carriers,o=crossroads" permissionid "RTI_Co^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;	
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_PCS^VisPro))" "ou=carriers,o=crossroads" permissionid "ACC_Function_15^A-1" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'PCS_GUI_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'PCS_GUI_Co' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;

	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'SUBSCRIBER' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SUBSCRIBER' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'ACC_Function_15' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ACC_Function_15' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;

	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'A-1' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'A-1' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
	
if [ "$ENV" != "PORTAL" ];then

	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'RTI_Co' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'RTI_Co' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'SUBSCRIBER' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SUBSCRIBER' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'ACC_Rpt-PCSRM001' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '2' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ACC_Rpt-PCSRM001' 
	and b.rsrc_typ_cd = '2' ) ) c;">>$1-$companyId.grantPermission.sql;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'BR-1' , systimestamp , systimestamp , 'uid=admin,o=crossroads',
  	'uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id in ('VisPro_PCS') and a.rsrc_typ_cd = '2' and a.cmpny_id = '$companyId' and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'BR-1' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1-$companyId.grantPermission.sql;
  
fi

	#Add the new perm PCS_GUI perm to all the users of the argument company having the VisPro_User_PCS perm
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_User_PCS^VisSvc))" "ou=people,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_User_PCS^VisSvc^R))" "ou=people,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER^R" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_User_PCS^VisSvc^R))" "ou=roles,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER^R" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_User_PCS^VisSvc))" "ou=usergroup,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;
	java multiAttrAdd "(&(carrieruid=$companyId)(permissionid=VisPro_User_PCS^VisSvc^R))" "ou=usergroup,o=crossroads" permissionid "PCS_GUI^SUBSCRIBER^R" 1>>grant$1-$companyId.out 2>>grant$1-$companyId.err;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'PCS_GUI' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '$companyId'
	and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS'  
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_GUI'
	and c.rsrc_typ_cd = '2');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'PCS_GUI' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '$companyId' 
	and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS'  
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_GUI'
	and c.rsrc_typ_cd = '2');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'PCS_GUI' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'
	from access_auth aa , accessor a, company_role cr
	where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and a.role_id = cr.role_id and cr.cmpny_id = '$companyId' 
    and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS' 
  	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_GUI'
  	and c.rsrc_typ_cd = '2');">>$1-$companyId.grantPermission.sql;
  	
  	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '$companyId' 
	and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS' 
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
	and c.rsrc_typ_cd = '1');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux, cmpny_user cu where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id 
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '$companyId' 
	and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS' 
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
	and c.rsrc_typ_cd = '1');">>$1-$companyId.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , company_role cr
	where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role' and a.role_id = cr.role_id and cr.cmpny_id = '$companyId' 
    and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'VisPro_User_PCS'
  	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
  	and c.rsrc_typ_cd = '1');">>$1-$companyId.grantPermission.sql;
	
fi

echo "Done." |tee -a grant$1-$2.err >> grant$1-$2.out;;

SLSPhase2)

ENV=$2;

echo "--This is the first line">$1.grantPermission.sql;	

	#1 Add the RealTimeIntelCo^SUBSCRIBER and and ImpliedSilentLowSpender^SUBSCRIBER perm to all companies 
	#who already had RealTimeIntelCo^VisSvc and ImpliedSilentLowSpender^VisSvc
	#and then delete the RealTimeIntelCo^VisSvc and ImpliedSilentLowSpender^VisSvc perm.
	
	java multiAttrAdd "(&(permissionid=RealTimeIntelCo^VisSvc)(permissionid=ImpliedSilentLowSpender^VisSvc))" "ou=carriers,o=crossroads" permissionid "RealTimeIntelCo^SUBSCRIBER" "ImpliedSilentLowSpender^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=RealTimeIntelCo^VisSvc)(permissionid=ImpliedSilentLowSpender^VisSvc)(!(productspecificid=SUBSCRIBER)))" "ou=carriers,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(permissionid=RealTimeIntelCo^VisSvc)(permissionid=ImpliedSilentLowSpender^VisSvc))" "ou=carriers,o=crossroads" permissionid "RealTimeIntelCo^VisSvc" "ImpliedSilentLowSpender^VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(productspecificid=VisSvc)(!(permissionid=*^VisSvc)))" "ou=carriers,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'SUBSCRIBER' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id = 'RealTimeIntelCo' and a.rsrc_typ_cd = '2'
    and exists ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ImpliedSilentLowSpender' 
	and b.rsrc_typ_cd = '2' ) 
    and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'SUBSCRIBER' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1.grantPermission.sql;
	
	echo "delete from  company_resource where cmpny_rsrc_id in ( 
    select cr.cmpny_rsrc_id  from company_resource cr ,  ( select distinct a.cmpny_id as cmpny_id 
	from company_resource a where a.rsrc_id in ('RealTimeIntelCo') and a.rsrc_typ_cd = '2' 
	and exists ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ImpliedSilentLowSpender' 
	and b.rsrc_typ_cd = '2' )
	and not exists  
	( select b.cmpny_id from company_resource b , rsrc_to_rsrc_rel rrr 
	where b.cmpny_id = a.cmpny_id and b.rsrc_id not in ('RealTimeIntelCo','ImpliedSilentLowSpender') 
	and b.rsrc_id = rrr.rsrc_id1 and rrr.rsrc_id2 = 'VisSvc' 
	and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2')) b where b.cmpny_id = cr.cmpny_id and 
	cr.rsrc_id = 'VisSvc' and cr.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	#2 Add the RealTimeIntelUser^SUBSCRIBER and ImpliedSilentLowSpender^SUBSCRIBER perm to all 
	#users/roles/groups who already had RealTimeIntelUser^VisSvc and ImpliedSilentLowSpender^VisSvc
	#and then delete the RealTimeIntelUser^VisSvc and ImpliedSilentLowSpender^VisSvc perm.
	
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^VisSvc)(permissionid=RealTimeIntelUser^VisSvc))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER" "ImpliedSilentLowSpender^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^VisSvc^R)(permissionid=RealTimeIntelUser^VisSvc^R))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER^R" "ImpliedSilentLowSpender^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^VisSvc^R)(permissionid=RealTimeIntelUser^VisSvc^R))" "ou=roles,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER^R" "ImpliedSilentLowSpender^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=RealTimeIntelUser^VisSvc)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=RealTimeIntelUser^VisSvc^R)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^VisSvc)(permissionid=RealTimeIntelUser^VisSvc)(!(productspecificid=SUBSCRIBER)))" "ou=people,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^VisSvc^R)(permissionid=RealTimeIntelUser^VisSvc^R)(!(productspecificid=SUBSCRIBER)))" "ou=people,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^VisSvc^R)(permissionid=RealTimeIntelUser^VisSvc^R)(!(productspecificid=SUBSCRIBER)))" "ou=roles,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=RealTimeIntelUser^VisSvc)(!(productspecificid=SUBSCRIBER)))" "ou=usergroup,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=RealTimeIntelUser^VisSvc^R)(!(productspecificid=SUBSCRIBER)))" "ou=usergroup,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(&(permissionid=ImpliedSilentLowSpender^VisSvc)(permissionid=RealTimeIntelUser^VisSvc))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^VisSvc" "ImpliedSilentLowSpender^VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(permissionid=ImpliedSilentLowSpender^VisSvc^R)(permissionid=RealTimeIntelUser^VisSvc^R))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^VisSvc^R" "ImpliedSilentLowSpender^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(permissionid=ImpliedSilentLowSpender^VisSvc^R)(permissionid=RealTimeIntelUser^VisSvc^R))" "ou=roles,o=crossroads" permissionid "RealTimeIntelUser^VisSvc^R" "ImpliedSilentLowSpender^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=RealTimeIntelUser^VisSvc)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=RealTimeIntelUser^VisSvc^R)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(&(productspecificid=VisSvc)(!(permissionid=*^VisSvc))(!(permissionid=*^VisSvc^R)))" "ou=people,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(productspecificid=VisSvc)(!(permissionid=*^VisSvc^R)))" "ou=roles,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(productspecificid=VisSvc)(!(permissionid=*^VisSvc))(!(permissionid=*^VisSvc^R)))" "ou=usergroup,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser'
	and exists  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2')
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' 
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a
	where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
    and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser'
    and exists  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2')
  	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER'
  	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
	
	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd != 'UserGroup'
	and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' 
	and exists  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2')	
 	and not exists ( select c.accessor_id from access_auth c , rsrc_to_rsrc_rel rrr where c.accessor_id = aa.accessor_id and c.rsrc_id 
 	not in ('RealTimeIntelUser','ImpliedSilentLowSpender') 
	and c.rsrc_id = rrr.rsrc_id1
	and rrr.rsrc_id2 = 'VisSvc' and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2' )) 
	and rsrc_id = 'VisSvc' and rsrc_typ_cd = '1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd = 'UserGroup'
	and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' and 
 	not exists ( select c.accessor_id from access_auth c , rsrc_to_rsrc_rel rrr where c.accessor_id = aa.accessor_id and c.rsrc_id 
 	not in ('RealTimeIntelUser') 
	and c.rsrc_id = rrr.rsrc_id1
	and rrr.rsrc_id2 = 'VisSvc' and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2' )) 
	and rsrc_id = 'VisSvc' and rsrc_typ_cd = '1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' 
	and exists  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2') 
	and not exists ( select c.accessor_id from access_auth c , rsrc_to_rsrc_rel rrr where c.accessor_id = aa.accessor_id and c.rsrc_id 
 	not in ('RealTimeIntelUser','ImpliedSilentLowSpender') 
	and c.rsrc_id = rrr.rsrc_id1
	and rrr.rsrc_id2 = 'VisSvc' and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2' )) 
	and rsrc_id = 'VisSvc' and rsrc_typ_cd = '1';">>$1.grantPermission.sql;

	#3 Add the Implied_SA_206 perm to Syniverse company in crossroads and add the Subject area 206 in analyzer DB for Syniverse company 
    java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "Implied_SA_206" "206" "" "SUBSCRIBER" "SLS" 1>>grant$1.out 2>>grant$1.err;
    java $JVMOPTION UpdateAnzCo "ctpcompanyid=0" "Implied_SA_206" "206" "_EU" "SUBSCRIBER" "SLS" 1>>grant$1.out 2>>grant$1.err;
    
    #4 This part is for PCSPhase2 which we did not do in 6.16.00 release
    #Add the productspecificid=SUBSCRIBER to the company if the company has  PCS_GUI_Co^SUBSCRIBER but does not have productspecificid=SUBSCRIBER
    
    java multiAttrAdd "(&(permissionid=PCS_GUI_Co^SUBSCRIBER)(!(productspecificid=SUBSCRIBER)))" "ou=carriers,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
    
    #Add the productspecificid=SUBSCRIBER to the users/groups/roles if they have  PCS_GUI^SUBSCRIBER but does not have productspecificid=SUBSCRIBER
    
    java multiAttrAdd "(&(|(permissionid=PCS_GUI^SUBSCRIBER)(permissionid=PCS_GUI^SUBSCRIBER^R))(!(productspecificid=SUBSCRIBER)))" "ou=people,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=PCS_GUI^SUBSCRIBER^R)(!(productspecificid=SUBSCRIBER)))" "ou=roles,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(|(permissionid=PCS_GUI^SUBSCRIBER)(permissionid=PCS_GUI^SUBSCRIBER^R))(!(productspecificid=SUBSCRIBER)))" "ou=usergroup,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
            
echo "Done." |tee -a grant$1.err >> grant$1.out;;

SLSPhase2-Backout)

ENV=$2;

echo "--This is the first line">$1.grantPermission.sql;	

	#1 Add the RealTimeIntelCo^VisSvc and and ImpliedSilentLowSpender^VisSvc perm to all companies 
	#who already had RealTimeIntelCo^SUBSCRIBER and ImpliedSilentLowSpender^SUBSCRIBER
	#and then delete the RealTimeIntelCo^SUBSCRIBER and ImpliedSilentLowSpender^SUBSCRIBER perm.
	
	java multiAttrAdd "(&(permissionid=RealTimeIntelCo^SUBSCRIBER)(permissionid=ImpliedSilentLowSpender^SUBSCRIBER))" "ou=carriers,o=crossroads" permissionid "RealTimeIntelCo^VisSvc" "ImpliedSilentLowSpender^VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=RealTimeIntelCo^SUBSCRIBER)(permissionid=ImpliedSilentLowSpender^SUBSCRIBER)(!(productspecificid=VisSvc)))" "ou=carriers,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(permissionid=RealTimeIntelCo^SUBSCRIBER)(permissionid=ImpliedSilentLowSpender^SUBSCRIBER))" "ou=carriers,o=crossroads" permissionid "RealTimeIntelCo^SUBSCRIBER" "ImpliedSilentLowSpender^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(productspecificid=SUBSCRIBER)(!(permissionid=*^SUBSCRIBER)))" "ou=carriers,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	
	echo "insert into company_resource (cmpny_rsrc_id, cmpny_id, rsrc_id, created_dt, modify_dt,created_by,modify_by,rsrc_typ_cd)
  	select COMP_RSRC_ID_SEQ.nextval , c.cmpny_id , 'VisSvc' , systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1' from 
    ( select distinct a.cmpny_id  as cmpny_id
	from company_resource a 
    where a.rsrc_id = 'RealTimeIntelCo' and a.rsrc_typ_cd = '2'
    and exists  ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ImpliedSilentLowSpender' 
	and b.rsrc_typ_cd = '2' )
    and not exists 
	( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'VisSvc' 
	and b.rsrc_typ_cd = '1' ) ) c;">>$1.grantPermission.sql;
	
	echo "delete from  company_resource where cmpny_rsrc_id in ( 
    select cr.cmpny_rsrc_id  from company_resource cr ,  ( select distinct a.cmpny_id as cmpny_id 
	from company_resource a where a.rsrc_id in ('RealTimeIntelCo') and a.rsrc_typ_cd = '2'
	and exists ( select b.cmpny_id from company_resource b where b.cmpny_id = a.cmpny_id and b.rsrc_id = 'ImpliedSilentLowSpender' 
	and b.rsrc_typ_cd = '2' ) 
	and not exists  
	( select b.cmpny_id from company_resource b , rsrc_to_rsrc_rel rrr 
	where b.cmpny_id = a.cmpny_id and b.rsrc_id not in ('RealTimeIntelCo','ImpliedSilentLowSpender') 
	and b.rsrc_id = rrr.rsrc_id1 and rrr.rsrc_id2 = 'SUBSCRIBER' 
	and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2')) b where b.cmpny_id = cr.cmpny_id and 
	cr.rsrc_id = 'SUBSCRIBER' and cr.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
	
	#2 Add the RealTimeIntelUser^VisSvc and ImpliedSilentLowSpender^VisSvc perm to all 
	#users/roles/groups who already had RealTimeIntelUser^SUBSCRIBER and ImpliedSilentLowSpender^SUBSCRIBER
	#and then delete the RealTimeIntelUser^SUBSCRIBER and ImpliedSilentLowSpender^SUBSCRIBER perm.
	
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER)(permissionid=RealTimeIntelUser^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^VisSvc" "ImpliedSilentLowSpender^VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER^R)(permissionid=RealTimeIntelUser^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^VisSvc^R" "ImpliedSilentLowSpender^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER^R)(permissionid=RealTimeIntelUser^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "RealTimeIntelUser^VisSvc^R" "ImpliedSilentLowSpender^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=RealTimeIntelUser^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(permissionid=RealTimeIntelUser^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^VisSvc^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER)(permissionid=RealTimeIntelUser^SUBSCRIBER)(!(productspecificid=VisSvc)))" "ou=people,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER^R)(permissionid=RealTimeIntelUser^SUBSCRIBER^R)(!(productspecificid=VisSvc)))" "ou=people,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER^R)(permissionid=RealTimeIntelUser^SUBSCRIBER^R)(!(productspecificid=VisSvc)))" "ou=roles,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=RealTimeIntelUser^SUBSCRIBER)(!(productspecificid=VisSvc)))" "ou=usergroup,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrAdd "(&(permissionid=RealTimeIntelUser^SUBSCRIBER^R)(!(productspecificid=VisSvc)))" "ou=usergroup,o=crossroads" productspecificid "VisSvc" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER)(permissionid=RealTimeIntelUser^SUBSCRIBER))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER" "ImpliedSilentLowSpender^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER^R)(permissionid=RealTimeIntelUser^SUBSCRIBER^R))" "ou=people,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER^R" "ImpliedSilentLowSpender^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(permissionid=ImpliedSilentLowSpender^SUBSCRIBER^R)(permissionid=RealTimeIntelUser^SUBSCRIBER^R))" "ou=roles,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER^R" "ImpliedSilentLowSpender^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=RealTimeIntelUser^SUBSCRIBER)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(permissionid=RealTimeIntelUser^SUBSCRIBER^R)" "ou=usergroup,o=crossroads" permissionid "RealTimeIntelUser^SUBSCRIBER^R" 1>>grant$1.out 2>>grant$1.err;
	
	java multiAttrDel "(&(productspecificid=SUBSCRIBER)(!(permissionid=*^SUBSCRIBER))(!(permissionid=*^SUBSCRIBER^R)))" "ou=people,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(productspecificid=SUBSCRIBER)(!(permissionid=*^SUBSCRIBER^R)))" "ou=roles,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	java multiAttrDel "(&(productspecificid=SUBSCRIBER)(!(permissionid=*^SUBSCRIBER))(!(permissionid=*^SUBSCRIBER^R)))" "ou=usergroup,o=crossroads" productspecificid "SUBSCRIBER" 1>>grant$1.out 2>>grant$1.err;
	
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'VisSvc' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser'
	and exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2') 
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'VisSvc'
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'VisSvc' , '60', systimestamp , systimestamp , 
	'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a , user_xroads ux where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' 	
	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'VisSvc'
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_dt , modify_dt, created_by,modify_by,rsrc_typ_cd) 
	select distinct aa.accessor_id , 'VisSvc' , '60', systimestamp , systimestamp , 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'
	from access_auth aa , accessor a
	where aa.accessor_id = a.accessor_id and  a.acsor_typ_cd = 'Role'
    and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser'
    and exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2')
  	and not exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'VisSvc'
  	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
	
	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd != 'UserGroup'
	and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' 
	and exists  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2')
	and not exists ( select c.accessor_id from access_auth c , rsrc_to_rsrc_rel rrr where c.accessor_id = aa.accessor_id and c.rsrc_id 
 	not in ('RealTimeIntelUser','ImpliedSilentLowSpender') 
	and c.rsrc_id = rrr.rsrc_id1
	and rrr.rsrc_id2 = 'SUBSCRIBER' and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2' )) 
	and rsrc_id = 'SUBSCRIBER' and rsrc_typ_cd = '1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a , user_xroads ux 
	where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd = 'UserGroup'
	and a.acsor_typ_cd = 'User' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser' and 
 	not exists ( select c.accessor_id from access_auth c , rsrc_to_rsrc_rel rrr where c.accessor_id = aa.accessor_id and c.rsrc_id 
 	not in ('RealTimeIntelUser','ImpliedSilentLowSpender') 
	and c.rsrc_id = rrr.rsrc_id1
	and rrr.rsrc_id2 = 'SUBSCRIBER' and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2' )) 
	and rsrc_id = 'SUBSCRIBER' and rsrc_typ_cd = '1';">>$1.grantPermission.sql;

	echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a 
	where aa.accessor_id = a.accessor_id and a.acsor_typ_cd = 'Role' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RealTimeIntelUser'
	and exists  ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ImpliedSilentLowSpender'
	and c.rsrc_typ_cd = '2') 
	and not exists ( select c.accessor_id from access_auth c , rsrc_to_rsrc_rel rrr where c.accessor_id = aa.accessor_id and c.rsrc_id 
 	not in ('RealTimeIntelUser','ImpliedSilentLowSpender') 
	and c.rsrc_id = rrr.rsrc_id1
	and rrr.rsrc_id2 = 'SUBSCRIBER' and rrr.rel_typ_cd = 'Product' and rrr.rsrc_typ_cd = '2' )) 
	and rsrc_id = 'SUBSCRIBER' and rsrc_typ_cd = '1';">>$1.grantPermission.sql;
         
echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR557224)

ENV=$2;

	#Grant the permission SMSID026_CDR_Reports^A-1 and implied permission ACC_Rpt-SMSID026^A-1 to all Syniverse 
	#users, roles and groups who have the ACC_Rpt-SMSIM025^MD-1 permission already.
	
	EXISTING_ID=ACC_Rpt-SMSIM025^MD-1 
	ID1=SMSID026_CDR_Reports^A-1
	IMPL_ID1=ACC_Rpt-SMSID026^A-1
		 
	
	 java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid  "${ID1}" "${IMPL_ID1}"  1>>grant$1.out 2>>grant$1.err;
	 java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	 java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	 java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	 java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'SMSID026_CDR_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SMSID026_CDR_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60',  'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'SMSID026_CDR_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SMSID026_CDR_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'SMSID026_CDR_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SMSID026_CDR_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'MD-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'MD-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-SMSID026' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-SMSID026' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSID026' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-SMSID026' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSIM025' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-SMSID026' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-SMSID026' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;


	fi



echo "Done." |tee -a grant$1.err >> grant$1.out;;

SR573473)

ENV=$2;

	#Grant the permission RCLRD001_Subs_Reports^A-1 and implied permission ACC_Rpt-RCLRD001^A-1 to all Syniverse 
	#users, roles and groups who have the ACC_Rpt-WBRRD1014^A-1 permission already.
	
	EXISTING_ID=ACC_Rpt-WBRRD1014^A-1 
	ID1=RCLRD001_Subs_Reports^A-1
	IMPL_ID1=ACC_Rpt-RCLRD001^A-1
		 
	
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid  "${ID1}" "${IMPL_ID1}"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R" "${IMPL_ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'RCLRD001_Subs_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id 
and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RCLRD001_Subs_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60',  'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'RCLRD001_Subs_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RCLRD001_Subs_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'RCLRD001_Subs_Reports' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RCLRD001_Subs_Reports' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

#don't need to assing this implied perm if installing in PORTAL environment.
	if [ "$ENV" != "PORTAL" ];then

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-RCLRD001' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-RCLRD001' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and a.usr_id = ux.usr_login_id and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-RCLRD001' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'ACC_Rpt-RCLRD001' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-WBRRD1014' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'ACC_Rpt-RCLRD001' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'A-1' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'ACC_Rpt-RCLRD001' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'A-1' 
and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;


	fi

echo "Done." |tee -a grant$1.err >> grant$1.out;;

PR_4029)

	EXISTING_ID1=RTI_GOAL_Guangdong^SUBSCRIBER
	EXISTING_ID2=RTI_GOAL_Shenzhen^SUBSCRIBER
	NEW_ID=RTI_GOAL_Guangdong::Shenzhen^SUBSCRIBER

#Delete RTI_GOAL_Shenzhen from all users/groups/roles who had RTI_GOAL_Guangdong and RTI_GOAL_Shenzhen

	  java multiAttrDel "(&(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=people,o=crossroads" permissionid  "${EXISTING_ID2}" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=people,o=crossroads" permissionid  "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID1})(permissionid=${EXISTING_ID2}))" "ou=usergroup,o=crossroads" permissionid  "${EXISTING_ID2}" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=usergroup,o=crossroads" permissionid  "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID1}^R)(permissionid=${EXISTING_ID2}^R))" "ou=roles,o=crossroads" permissionid  "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;



#Grant the permission RTI_GOAL_Guangdong::Shenzhen to the all users/groups/roles who had RTI_GOAL_Shenzhen but not RTI_GOAL_Guangdong and RTI_GOAL_Guangdong::Shenzhen

	  java multiAttrAdd "(&(permissionid=${EXISTING_ID2})(!(permissionid=${EXISTING_ID1}))(!(permissionid=${NEW_ID})))" "ou=people,o=crossroads" permissionid  "${NEW_ID}" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(permissionid=${EXISTING_ID2}^R)(!(permissionid=${EXISTING_ID1}^R))(!(permissionid=${NEW_ID}^R)))" "ou=people,o=crossroads" permissionid  "${NEW_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(permissionid=${EXISTING_ID2})(!(permissionid=${EXISTING_ID1}))(!(permissionid=${NEW_ID})))" "ou=usergroup,o=crossroads" permissionid  "${NEW_ID}" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(permissionid=${EXISTING_ID2}^R)(!(permissionid=${EXISTING_ID1}^R))(!(permissionid=${NEW_ID}^R)))" "ou=usergroup,o=crossroads" permissionid  "${NEW_ID}^R" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(permissionid=${EXISTING_ID2}^R)(!(permissionid=${EXISTING_ID1}^R))(!(permissionid=${NEW_ID}^R)))" "ou=roles,o=crossroads" permissionid  "${NEW_ID}^R" 1>>grant$1.out 2>>grant$1.err;


#Delete RTI_GOAL_Shenzhen from all users/groups/roles who had RTI_GOAL_Shenzhen and RTI_GOAL_Guangdong::Shenzhen

	  java multiAttrDel "(&(permissionid=${EXISTING_ID2})(permissionid=${NEW_ID}))" "ou=people,o=crossroads" permissionid  "${EXISTING_ID2}" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID2}^R)(permissionid=${NEW_ID}^R))" "ou=people,o=crossroads" permissionid  "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID2})(permissionid=${NEW_ID}))" "ou=usergroup,o=crossroads" permissionid  "${EXISTING_ID2}" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID2}^R)(permissionid=${NEW_ID}^R))" "ou=usergroup,o=crossroads" permissionid  "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;
	  java multiAttrDel "(&(permissionid=${EXISTING_ID2}^R)(permissionid=${NEW_ID}^R))" "ou=roles,o=crossroads" permissionid  "${EXISTING_ID2}^R" 1>>grant$1.out 2>>grant$1.err;

	echo "--This is the first line">$1.grantPermission.sql;
	
#Delete RTI_GOAL_Shenzhen from all users/groups/roles who had RTI_GOAL_Guangdong and RTI_GOAL_Shenzhen

        echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a
 where aa.accessor_id = a.accessor_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RTI_GOAL_Guangdong'
and exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RTI_GOAL_Shenzhen'
 and c.rsrc_typ_cd = '2')) and rsrc_typ_cd = '2' and rsrc_id = 'RTI_GOAL_Shenzhen';">>$1.grantPermission.sql;

#Grant the permission RTI_GOAL_Guangdong::Shenzhen to the all users/groups/roles who had RTI_GOAL_Shenzhen but not RTI_GOAL_Guangdong and RTI_GOAL_Guangdong::Shenzhen

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select aa.accessor_id,'RTI_GOAL_Guangdong::Shenzhen', '60', 'PR_4029','PR_4029', '2' 
from access_auth aa , accessor a where aa.accessor_id = a.accessor_id and 
aa.rsrc_id = 'RTI_GOAL_Shenzhen' and aa.RSRC_TYP_CD = '2' and not exists (select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RTI_GOAL_Guangdong::Shenzhen'
 and c.rsrc_typ_cd = '2') and not exists (select c.accessor_id from access_auth c 
where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RTI_GOAL_Guangdong'
 and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

#Delete RTI_GOAL_Shenzhen from all users/groups/roles who had RTI_GOAL_Shenzhen and RTI_GOAL_Guangdong::Shenzhen

        echo "delete from access_auth where accessor_id in ( select distinct aa.accessor_id from access_auth aa , accessor a
 where aa.accessor_id = a.accessor_id and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'RTI_GOAL_Guangdong::Shenzhen'
and exists ( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'RTI_GOAL_Shenzhen'
 and c.rsrc_typ_cd = '2')) and rsrc_typ_cd = '2' and rsrc_id = 'RTI_GOAL_Shenzhen';">>$1.grantPermission.sql;

	echo "Done." |tee -a grant$1.err >> grant$1.out;;


PCSPhase2_5)

ENV=$2;

	#Grant the permission PCS_Service_Level_View_userP^SUBSCRIBER to all Syniverse 
	#users, roles and groups who have the PCS_GUI^SUBSCRIBER permission already.
	
	EXISTING_ID=PCS_GUI^SUBSCRIBER
	ID1=PCS_Service_Level_View_userP^SUBSCRIBER
	
	
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=people,o=crossroads" permissionid  "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=people,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=roles,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}))" "ou=usergroup,o=crossroads" permissionid "${ID1}"  1>>grant$1.out 2>>grant$1.err;
	  java multiAttrAdd "(&(carrieruid=57)(permissionid=${EXISTING_ID}^R))" "ou=usergroup,o=crossroads" permissionid "${ID1}^R"  1>>grant$1.out 2>>grant$1.err;

echo "--This is the first line">$1.grantPermission.sql;	
echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'PCS_Service_Level_View_userP' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id 
and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'PCS_GUI' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_Service_Level_View_userP' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

if [ "$ENV" != "PORTAL" ];then
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60',  'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
	where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd != 'UserGroup' and a.acsor_typ_cd = 'User'
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'PCS_GUI' and not exists 
	( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER' 
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
fi

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'PCS_Service_Level_View_userP' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , company_role cr
where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'PCS_GUI' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_Service_Level_View_userP' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

if [ "$ENV" != "PORTAL" ];then
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
	from access_auth aa , accessor a , company_role cr
	where aa.accessor_id = a.accessor_id and a.role_id = cr.role_id and  a.acsor_typ_cd = 'Role'
	and cr.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'PCS_GUI' and not exists 
	( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER' 
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
fi

echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
select distinct aa.accessor_id , 'PCS_Service_Level_View_userP' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '2'  
from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
if [ "$ENV" != "PORTAL" ];then
echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
else
echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
fi 
echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'PCS_GUI' and not exists 
( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'PCS_Service_Level_View_userP' 
and c.rsrc_typ_cd = '2');">>$1.grantPermission.sql;

if [ "$ENV" != "PORTAL" ];then
	echo "insert into access_auth (accessor_id, rsrc_id, scrty_acc_cd, created_by,modify_by,rsrc_typ_cd)
	select distinct aa.accessor_id , 'SUBSCRIBER' , '60', 'uid=admin,o=crossroads','uid=admin,o=crossroads', '1'  
	from access_auth aa , accessor a , user_xroads ux , cmpny_user cu
	where aa.accessor_id = a.accessor_id and ">>$1.grantPermission.sql;
	if [ "$ENV" != "PORTAL" ];then
	echo " a.usr_id = ux.usr_login_id ">>$1.grantPermission.sql;
	else
	echo " a.usr_id = ux.usr_id ">>$1.grantPermission.sql;
	fi 
	echo " and ux.usr_typ_cd = 'UserGroup' and a.acsor_typ_cd = 'User'
	and ux.usr_id = cu.usr_id and cu.cmpny_id = '57' and aa.rsrc_typ_cd = '2' and aa.rsrc_id = 'PCS_GUI' and not exists 
	( select c.accessor_id from access_auth c where c.accessor_id = aa.accessor_id and c.rsrc_id = 'SUBSCRIBER' 
	and c.rsrc_typ_cd = '1');">>$1.grantPermission.sql;
fi

echo "Done." |tee -a grant$1.err >> grant$1.out;;


     * )
        print -u2 "ERROR: No valid arguments supplied.";;
esac
        echo "Done.  Output redirected to grant$1.out.  Errors redirected to grant$1.err"

